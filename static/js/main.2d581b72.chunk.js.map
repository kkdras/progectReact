{"version":3,"sources":["dal/api.ts","reportWebVitals.js","dal/sessionStorageAPI.ts","redax/authReducer.ts","redax/profileReducer.ts","app/hooks.ts","components/users/loading.tsx","asserts/unnamed.gif","components/utils/getName.js","dal/chat-api.ts","redax/dialogsReducer.ts","redax/usersReducer.ts","app/redax-store.ts","components/profile/aboutMe/aboutMeForm.tsx","components/profile/aboutMe/aboutMe.tsx","components/profile/status.tsx","components/profile/aboutMe/profileTop.tsx","asserts/1024px-User-avatar.svg.png","components/profile/aboutMe/info.tsx","components/profile/Profile.tsx","components/header/headerContainer.tsx","components/login/steps/LoginStep.tsx","components/login/steps/PasswordStep.tsx","components/login/steps/OptionsStep.tsx","components/login/steps/CaptchaPage.tsx","components/login/login.tsx","components/dilogs/massage.tsx","components/dilogs/dialogs.tsx","components/users/User.tsx","components/users/MyPagination.tsx","components/users/UsersForm.tsx","components/users/Users.tsx","Wrapper.tsx","components/footer/Footer.tsx","App.tsx","index.js","components/profile/profile.module.css","components/users/users.module.css"],"names":["ResultCodeLoginCreator","ResultCode","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","instance","axios","create","withCredentials","baseURL","headers","axiosRequest","getLogUser","get","response","data","login","email","password","rememberMe","captcha","post","logout","delete","getCaptcha","getUsers","currentPage","count","term","friend","template","unfollowUser","id","followUser","getUserProfile","userId","getStatus","setStatus","string","put","status","setPhoto","photo","formData","FormData","append","setDescription","setProfileData","r","STEPPER_FORM_DATA_KEY","getFormData","rawFormData","sessionStorage","getItem","JSON","parse","setFormData","setItem","stringify","initialState","isLog","urlCaptcha","photos","error","tmp","getError","pending","authSlice","createSlice","name","reducers","setUserInfo","state","action","payload","setId","setUserPhotos","setCaptcha","setError","setPending","extraReducers","actions","getLogUserInfo","createAsyncThunk","_","dispatch","resultCode","Error","console","log","url","logIn","arg","rejectWithValue","getState","Success","auth","removeItem","NeedCaptcha","profileSlice","userProfile","editMode","submitButtonDisabled","pendingStatus","togglePendingStatus","setStatusProfile","setUserPhoto","toggleSubmitButton","toggleEditMode","isBoolean","builder","addCase","fulfilled","putProfileObject","rejected","getProfileStatus","updateProfileStatus","setProfilePhoto","setProfile","messages","useTypesSelector","useSelector","useAppDispatch","useDispatch","Loading","className","styles","loadingContainer","loadingGif","src","alt","getName","value","flag","i","length","toLowerCase","ws","_timerId","cleanUp","removeEventListener","openHandler","messageHandler","errorHandler","closeHandler","notifyStatusSubscribers","event","newMessage","subscribers","forEach","item","setTimeout","createChannel","close","WebSocket","addEventListener","ChatApi","observer","push","filter","message","send","clearTimeout","dialogSlice","responseMessage","reducer","prepare","map","nanoid","changeStatus","cleanState","_messageHandler","getMessageHandler","_statusHandler","getStatusHandler","startListeningMessage","stopListeningMessage","usersSlice","usersID","users","totalUsersCount","usersPerPage","isLoading","setCurrentPage","setTerm","setFriend","setUsersOnPage","toggleLoading","setUsers","setTotalUsersCount","followInProgress","pendingFollow","isFetching","unfollow","followed","follow","applyFilters","a","usersPage","undefined","items","totalCount","pageNumber","itemId","usersPerPageSelector","currentPageSelector","friendSelector","termSelector","store","configureStore","profilePage","profileReducer","dialogsPage","dialogsReducer","usersReducer","authReducer","FormTag","styled","theme","p","border","breakpoints","up","display","gridTemplateColumns","gridAutoRows","gap","down","marginBottom","addErrors","errArr","callBack","errors","type","split","AboutForm","useForm","register","handleSubmit","formState","isDisabled","submit","match","arrOfErrors","onSubmit","FormControl","fullWidth","InputLabel","variant","htmlFor","NativeSelect","deps","defaultValue","lookingForAJob","inputProps","TextField","size","required","lookingForAJobDescription","helperText","label","fullName","aboutMe","contacts","facebook","github","instagram","mainLink","twitter","vk","website","youtube","Button","sx","disabled","onClick","Item","Paper","typography","body2","padding","spacing","textAlign","color","palette","text","secondary","CustomLabel","fontWeight","marginRight","AboutMe","isOwn","Grid","container","xs","sm","Object","entries","title","mt","ContactsItem","newTitle","toUpperCase","slice","Status","useState","inputValue","setInputValue","useEffect","submitStatus","LinearProgress","mb","onBlur","onChange","e","target","onKeyDown","keyCode","blur","Input","ImgWrapper","height","width","flex","ProfileTop","Box","flexDirection","bgcolor","overflow","boxShadow","component","position","objectFit","top","left","Typography","gutterBottom","files","accept","borderRadius","Info","props","edit","s","infoWrapper","large","small","img","addPost","pt","Profile","myId","isInitialize","useParams","Number","to","replace","testMyId","ProfileRedirect","NotFound","alignItems","justifyContent","Discklamer","Header","zIndex","borderBottom","backgroundColor","HeaderContainer","images","maxWidth","md","lg","xl","margin","borderLeft","borderRight","href","Avatar","LoginStep","defaultValues","navigate","useNavigate","location","useLocation","useCallback","pathname","search","hash","activeStep","PasswordStep","onBack","IconButton","mr","KeyboardBackspace","fontSize","OptionsStep","genSubmit","path","Checkbox","CaptchaPage","onGenSubmit","captchaURI","w","h","Login","Component","tabs","setTabs","useLayoutEffect","Stepper","index","labelProps","optional","Step","StepLabel","Message","marginTop","sizes","Link","userName","memo","submitForm","Dialogs","isScroll","useRef","prevScroll","chat","isScrollSt","setIsScrollSt","scroll","current","scrollHeight","offsetHeight","scrollTop","scrollBy","behavior","handler","maxHeight","ref","overflowY","flexGrow","flexShrink","flexBasis","bottom","right","transition","opacity","visibility","ready","DialogForm","reset","marginLeft","placeholder","maxLength","profileStyle","textarea","User","isDisabledBtn","contentBtn","boxSizing","lineHeight","btnHandler","justifySelf","MyPaginationWOMemo","Pagination","siblingCount","boundaryCount","page","Math","ceil","shape","MyPagination","UsersFormElement","flexWrap","UsersFormWoMemo","useSearchParams","searchParams","setSearchParams","paramsObject","key","splitParams","actualPage","friendURI","termURI","URLSearchParams","String","pb","ml","pr","pl","UsersForm","Users","usersId","gridTemplate","Wrapper","paddingTop","FooterComponent","Footer","textOverflow","whiteSpace","LinkBehavior","React","forwardRef","other","createTheme","components","MuiLink","defaultProps","MuiButtonBase","LinkComponent","App","ThemeProvider","element","ReactDOM","createRoot","document","getElementById","render","module","exports"],"mappings":"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","file":"static/js/main.2d581b72.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport {ISetUserProfile, IUserOfList, IUserPhoto, userProfileType} from \"../types/types\";\r\n\r\nlet apiKey = \"2a53a8d7-9713-4730-bda2-40c41c92534f\"\r\nlet withCredentials: any = \"true\"\r\nlet instance = axios.create({\r\n   withCredentials: withCredentials,\r\n   baseURL:`https://social-network.samuraijs.com/api/1.0/`,\r\n   headers:{\r\n      \"API-KEY\":apiKey\r\n   },\r\n})\r\n\r\nexport interface IRespType<D = {}, RC = ResultCode> {\r\n   resultCode: RC\r\n   messages: string[]\r\n   data: D\r\n}\r\n\r\nexport enum ResultCodeLoginCreator {\r\n   NeedCaptcha = 10\r\n}\r\n\r\nexport enum ResultCode {\r\n   Success,\r\n   Error,\r\n}\r\n\r\ntype AuthLoginDataType = {\r\n   id:number\r\n   email: string\r\n   login: string\r\n}\r\n\r\nexport interface IAuth {\r\n   userId: number\r\n}\r\n\r\ntype GetUserType = {\r\n   items: IUserOfList[]\r\n   totalCount: number\r\n   error: null | string\r\n}\r\n\r\ntype SetPhotoDataType = {\r\n   photos: IUserPhoto[\"photos\"]\r\n}\r\nexport type friendUnion = \"true\" | \"false\" | \"\"\r\n\r\n\r\nexport let axiosRequest = {\r\n   auth: {\r\n      getLogUser(){\r\n         return instance.get<IRespType<AuthLoginDataType>>(`auth/me`).then(response => response.data)\r\n      },\r\n      login(email: string,password:string,rememberMe:boolean,captcha: null | string = null){\r\n\r\n         return instance.post<IRespType<IAuth, ResultCodeLoginCreator | ResultCode>>(`auth/login`,{email,password,rememberMe,captcha})\r\n            .then(response => response.data)\r\n      },\r\n      logout(){\r\n         return instance.delete<IRespType<IAuth, ResultCodeLoginCreator | ResultCode>>(`auth/login`)\r\n            .then(response => response.data)\r\n      },\r\n      getCaptcha(){\r\n         return instance.get<{url:string}>(\"/security/get-captcha-url\")\r\n      }\r\n   },\r\n   users:{\r\n      getUsers(currentPage: number,count: number,term: string, friend: friendUnion){\r\n         let template = `users?page=${currentPage}&count=${count}`\r\n         term && (template += `&term=${term}`)\r\n         friend && (template += `&friend=${friend}`)\r\n         return instance.get<GetUserType>(template) .then(response => response.data)\r\n      },\r\n      unfollowUser(id: number){\r\n         return instance.delete<IRespType>(`follow/${id}`).then(response => response.data)\r\n      },\r\n      followUser(id:number){\r\n         return instance.post<IRespType>(`follow/${id}`).then(response => response.data)\r\n      }\r\n   },\r\n   profile:{\r\n      getUserProfile(userId: number){\r\n         return instance.get<userProfileType>(`profile/` + userId).then(response => {\r\n            return response\r\n         })\r\n      },\r\n      getStatus(userId: number){\r\n         return instance.get<string>(`profile/status/${userId}`)\r\n      },\r\n      setStatus(string: string){\r\n         return instance.put<IRespType>(`profile/status`,{status: string})\r\n      },\r\n      setPhoto(photo: any){\r\n         let formData = new FormData()\r\n         formData.append(\"image\",photo)\r\n         return instance.put<IRespType<SetPhotoDataType>>(\"/profile/photo\",formData,{\r\n            headers:{'Content-Type': 'multipart/form-data'}\r\n         })\r\n      },\r\n      setDescription(setProfileData: ISetUserProfile){\r\n         return instance.put<IRespType>(\"profile\",setProfileData).then(r => r.data)\r\n      }\r\n   }\r\n}\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const STEPPER_FORM_DATA_KEY = \"stepper-form-data\";\r\n\r\nexport let removeFormData = () => {\r\n   sessionStorage.removeItem(STEPPER_FORM_DATA_KEY);\r\n};\r\n\r\nexport let getFormData = (): Record<string, string> => {\r\n   const rawFormData = sessionStorage.getItem(STEPPER_FORM_DATA_KEY);\r\n\r\n   if (!rawFormData) {\r\n      return {};\r\n   }\r\n\r\n   return JSON.parse(rawFormData);\r\n};\r\n\r\nexport let setFormData = (formData: object) => {\r\n   sessionStorage.setItem(STEPPER_FORM_DATA_KEY, JSON.stringify(formData));\r\n};","import {axiosRequest, IAuth, IRespType, ResultCode, ResultCodeLoginCreator} from \"../dal/api\"\r\nimport {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {IUserPhoto} from \"../types/types\";\r\nimport {removeFormData} from \"../dal/sessionStorageAPI\";\r\nimport {RootState} from \"../app/redax-store\";\r\n\r\ninterface IURLCaptcha {\r\n   urlCaptcha: null | string\r\n}\r\n\r\ninterface IInitialState {\r\n   userId: number | null\r\n   email: string | null\r\n   login: string | null\r\n   isLog: boolean | null\r\n   photos: IUserPhoto[\"photos\"] | null\r\n   error: boolean\r\n   pending: boolean\r\n}\r\n\r\nlet getError = (): boolean => {\r\n   let tmp = sessionStorage.getItem(\"error\")\r\n   if (tmp === null) return false\r\n   return JSON.parse(tmp)\r\n}\r\n\r\nlet initialState: IInitialState & IURLCaptcha = {\r\n   userId: null,\r\n   email: null,\r\n   login: null,\r\n   isLog: null,\r\n   urlCaptcha: sessionStorage.getItem(\"captcha\"),\r\n   photos: null,\r\n   error: getError(),\r\n   pending: false\r\n}\r\n\r\n\r\nlet authSlice = createSlice({\r\n      name: \"auth\",\r\n      initialState,\r\n      reducers: {\r\n         setUserInfo(state, action:\r\n            PayloadAction<Omit<IInitialState, \"photos\" | \"error\" | \"pending\">>) {\r\n            return {\r\n               ...state,\r\n               ...action.payload\r\n            }\r\n         },\r\n         setId(state, action: PayloadAction<{ id: number }>) {\r\n            state.userId = action.payload.id\r\n         },\r\n         setUserPhotos(state, action: PayloadAction<IInitialState['photos']>) {\r\n            state.photos = action.payload\r\n         },\r\n         setCaptcha(state, action: PayloadAction<string>) {\r\n            state.urlCaptcha = action.payload\r\n         },\r\n         setError(state, action: PayloadAction<boolean>) {\r\n            state.error = action.payload\r\n         },\r\n         setPending(state, action: PayloadAction<boolean>) {\r\n            state.pending = action.payload\r\n         }\r\n      },\r\n      extraReducers: () => {\r\n\r\n      }\r\n   }\r\n)\r\nexport default authSlice.reducer\r\nexport let {\r\n   setUserInfo,\r\n   setCaptcha,\r\n   setUserPhotos,\r\n   setId,\r\n   setError,\r\n   setPending\r\n} = authSlice.actions\r\n\r\n\r\nexport let getLogUserInfo = createAsyncThunk(\r\n   \"auth/\",\r\n   async (_, {dispatch}) => {\r\n      try {\r\n         let response = await axiosRequest.auth.getLogUser()\r\n\r\n         if (response.resultCode === ResultCode.Error) throw new Error(\"вынужденная ошибка\")\r\n         let {id, email, login} = response.data;\r\n\r\n         try {\r\n            let tmp = await axiosRequest.profile.getUserProfile(id).then(r => r.data)\r\n            dispatch(setUserPhotos(tmp.photos))\r\n         } catch (e) {\r\n            console.log(\"Не удалось педварительно загрузить фотографии\")\r\n         }\r\n\r\n         dispatch(setUserInfo({userId: id, login, email, isLog: true}))\r\n      } catch (e) {\r\n\r\n         dispatch(setUserInfo({userId: null, email: null, login: null, isLog: false}))\r\n      }\r\n   }\r\n)\r\n\r\nexport let getCaptcha = createAsyncThunk(\r\n   \"auth/captcha\",\r\n   async (_: undefined, {dispatch}) => {\r\n      try {\r\n         let response = await axiosRequest.auth.getCaptcha()\r\n         sessionStorage.setItem(\"captcha\", response.data.url)\r\n         dispatch(setCaptcha(response.data.url))\r\n      } catch (e) {\r\n         console.log(\"Не удалось получить капчу\")\r\n      }\r\n\r\n   }\r\n)\r\n\r\nexport interface ILoginAction {\r\n   email: string,\r\n   password: string,\r\n   rememberMe: boolean,\r\n   captcha: string\r\n}\r\n\r\nexport let logIn = createAsyncThunk<IRespType<IAuth, ResultCodeLoginCreator | ResultCode>\r\n   , ILoginAction, { state: RootState }>(\r\n   \"auth/login\",\r\n   async (arg: ILoginAction, {dispatch, rejectWithValue, getState}) => {\r\n      let state = getState()\r\n      dispatch(setPending(true))\r\n\r\n      let response = await axiosRequest.auth.login(arg.email, arg.password, arg.rememberMe, arg.captcha)\r\n\r\n      if (response.resultCode === ResultCode.Success) {\r\n         dispatch(setId({id: response.data.userId}))\r\n         await dispatch(getLogUserInfo())\r\n\r\n         if (state.auth.urlCaptcha) {\r\n            dispatch(setCaptcha(\"\"))\r\n            sessionStorage.setItem(\"captcha\", \"\")\r\n         }\r\n         if (state.auth.error) setError(false)\r\n         removeFormData()\r\n      } else {\r\n         if (response.resultCode === ResultCodeLoginCreator.NeedCaptcha) {\r\n            await dispatch(getCaptcha())\r\n         }\r\n\r\n         if (response.resultCode === ResultCodeLoginCreator.NeedCaptcha &&\r\n            state.auth.urlCaptcha || response.resultCode === ResultCode.Error) {\r\n            dispatch(setError(true))\r\n            sessionStorage.setItem(\"error\", \"true\")\r\n         }\r\n      }\r\n      dispatch(setPending(false))\r\n      return response\r\n   }\r\n)\r\n\r\nexport let logout = createAsyncThunk(\r\n   \"auth/logout\",\r\n   async (_: undefined, {dispatch}) => {\r\n      let response = await axiosRequest.auth.logout()\r\n      if (response.resultCode === ResultCode.Success) {\r\n         dispatch(setUserInfo({userId: null, login: null, email: null, isLog: false}))\r\n      }\r\n   }\r\n)","import { axiosRequest, IRespType, ResultCode } from \"../dal/api\";\r\nimport {ISetUserProfile, IUserPhoto, userProfileType} from \"../types/types\";\r\nimport { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport {setUserPhotos} from \"./authReducer\";\r\nimport {isBoolean} from \"util\";\r\n\r\n\r\ntype initialStateType = {\r\n   userProfile: userProfileType | null\r\n   editMode: boolean\r\n   submitButtonDisabled: boolean\r\n   status: null | string\r\n   pendingStatus: boolean\r\n}\r\n\r\nlet initialState: initialStateType = {\r\n   userProfile: null,\r\n   editMode: false,\r\n   submitButtonDisabled: false,\r\n   status: null,\r\n   pendingStatus: false\r\n}\r\n\r\nlet profileSlice = createSlice({\r\n   name: \"profile\",\r\n   initialState,\r\n   reducers: {\r\n      togglePendingStatus(state) {\r\n         state.pendingStatus = !state.pendingStatus\r\n      },\r\n      setStatusProfile(state, action: PayloadAction<string>) {\r\n         state.status = action.payload\r\n      },\r\n      setUserPhoto(state, action: PayloadAction<IUserPhoto['photos']>) {\r\n         if (state.userProfile && state.userProfile.photos) {\r\n            state.userProfile.photos = action.payload\r\n         }\r\n      },\r\n      toggleSubmitButton(state) {\r\n         state.submitButtonDisabled = !state.submitButtonDisabled\r\n      },\r\n      toggleEditMode(state, action: PayloadAction<boolean | undefined>) {\r\n         if(isBoolean(action.payload)){\r\n            state.editMode = action.payload\r\n            return\r\n\r\n         }\r\n         state.editMode = !state.editMode\r\n      },\r\n   },\r\n   extraReducers: (builder) => {\r\n      builder\r\n         .addCase(getUserProfile.fulfilled, ((state, action) => {\r\n            console.log(action)\r\n            state.userProfile = action.payload\r\n         }))\r\n         .addCase(putProfileObject.pending, (state => {\r\n            state.submitButtonDisabled = !state.submitButtonDisabled\r\n         }))\r\n         .addCase(putProfileObject.fulfilled, (state => {\r\n            state.submitButtonDisabled = !state.submitButtonDisabled\r\n         }\r\n         ))\r\n         .addCase(putProfileObject.rejected, (state => {\r\n            state.submitButtonDisabled = !state.submitButtonDisabled\r\n         }\r\n         ))\r\n   }\r\n})\r\nexport default profileSlice.reducer\r\n\r\nexport let {\r\n   togglePendingStatus,\r\n   setStatusProfile,\r\n   setUserPhoto,\r\n   toggleSubmitButton,\r\n   toggleEditMode\r\n} = profileSlice.actions\r\n\r\nexport let getUserProfile = createAsyncThunk(\r\n   \"profile/getProfile\",\r\n   async (userId: number) => {\r\n      return await axiosRequest.profile.getUserProfile(userId)\r\n         .then(r => r.data)\r\n   }\r\n)\r\n\r\n\r\n//getStatusProfile\r\nexport let getProfileStatus = createAsyncThunk(\r\n   \"profile/getProfileStatus\",\r\n   async (userId: number, { dispatch }) => {\r\n      dispatch(togglePendingStatus())\r\n      let response\r\n      try {\r\n         response = await axiosRequest.profile.getStatus(userId)\r\n      } catch (e) {\r\n         response = { data: \"Some error happen\" }\r\n      }\r\n      //debugger\r\n      dispatch(setStatusProfile(response.data))\r\n      dispatch(togglePendingStatus())\r\n   }\r\n)\r\n//updateStatusProfile\r\nexport let updateProfileStatus = createAsyncThunk(\r\n   \"profile/updateProfileStatus\",\r\n   async (status: string, { dispatch }) => {\r\n      dispatch(togglePendingStatus())\r\n      let response = await axiosRequest.profile.setStatus(status)\r\n      if (response.data.resultCode === 0) {\r\n         dispatch(setStatusProfile(status))\r\n         dispatch(togglePendingStatus())\r\n      }\r\n   }\r\n)\r\n\r\nexport let setProfilePhoto = createAsyncThunk(\r\n   \"profile/setProfilePhoto\",\r\n   async (photo: any, { dispatch }) => {\r\n      let response = await axiosRequest.profile.setPhoto(photo)\r\n      if (response.data.resultCode === 0) {\r\n         dispatch(setUserPhoto(response.data.data.photos))\r\n         dispatch(setUserPhotos(response.data.data.photos))\r\n      }\r\n   }\r\n)\r\n\r\nexport let putProfileObject = createAsyncThunk<\r\n   IRespType,\r\n   ISetUserProfile,\r\n   { rejectValue: IRespType }\r\n>(\"profile/putProfileObject\",\r\n   async (setProfile, { dispatch, rejectWithValue }) => {\r\n      let response = await axiosRequest.profile.setDescription(setProfile)\r\n      if (response.resultCode === 1) return rejectWithValue(response)\r\n\r\n      dispatch(getUserProfile(setProfile.userId))\r\n      dispatch(toggleEditMode())\r\n\r\n      return { messages: [], data: {}, resultCode: ResultCode.Success } as IRespType\r\n   }\r\n)\r\n\r\n","import {TypedUseSelectorHook, useDispatch, useSelector} from \"react-redux\";\r\nimport {AppDispatch, RootState} from \"./redax-store\";\r\n\r\nexport let useTypesSelector:TypedUseSelectorHook<RootState> = useSelector\r\nexport let useAppDispatch = () => useDispatch<AppDispatch>()\r\n\r\nexport let usePrivateContent = () => {\r\n   let isLog = useTypesSelector(state => state.auth.isLog)\r\n   return !isLog\r\n}\r\n","import styles from \"./users.module.css\";\r\nimport unnamed from \"../../asserts/unnamed.gif\";\r\nimport {FC} from \"react\";\r\n\r\nlet Loading:FC = () =>{\r\n    return (<div className={styles.loadingContainer}>\r\n             <img className={styles.loadingGif} src={unnamed} alt=\"\"/>\r\n        </div>)\r\n}\r\nexport default Loading","export default \"data:image/gif;base64,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\"","export let getName = (string) => {\r\n    let value = \"\"\r\n    let flag = false\r\n    for (let i = 0; i < string.length; i++) {\r\n        if(string[i] === \"(\"){\r\n            flag = true\r\n        }else if(string[i] === \")\"){\r\n            flag = false\r\n        }else if(flag){\r\n            if(string[i - 1] === \"(\"){\r\n                value += string[i].toLowerCase()\r\n            } else if(string[i] === \"-\"){\r\n                value += \"\"\r\n            }else if(string[i] === \">\"){\r\n                value += \".\"\r\n            }else if(string[i - 1] === \">\"){\r\n                value += string[i].toLowerCase()\r\n            }else{\r\n                value += string[i]\r\n            }\r\n        }\r\n    }\r\n    return value\r\n}","export type statusType = \"pending\" | \"ready\" | \"error\"\r\n\r\nexport interface IMessage {\r\n    message: string\r\n    photo: string\r\n    userId: number\r\n    userName: string\r\n    id: string\r\n}\r\n\r\nlet ws: WebSocket | null = null\r\nlet _timerId: ReturnType<typeof setTimeout> | null = null\r\n\r\n\r\nlet cleanUp = () => {\r\n    ws?.removeEventListener(\"open\",openHandler)\r\n    ws?.removeEventListener(\"message\",messageHandler)\r\n    ws?.removeEventListener(\"error\",errorHandler)\r\n    ws?.removeEventListener('close',closeHandler)\r\n}\r\n\r\nlet openHandler = () => {\r\n    notifyStatusSubscribers(\"ready\")\r\n}\r\nlet messageHandler = (event: MessageEvent) => {\r\n    let newMessage = JSON.parse(event.data)\r\n    subscribers[\"message-received\"].forEach(item => item(newMessage))\r\n};\r\nlet errorHandler = () => {\r\n    notifyStatusSubscribers(\"error\")\r\n}\r\nlet closeHandler = () => {\r\n    notifyStatusSubscribers(\"pending\")\r\n    _timerId = setTimeout(createChannel,3000)\r\n}\r\n\r\nlet notifyStatusSubscribers = (status: statusType) => {\r\n    subscribers[\"status-changed\"].forEach(item => item(status))\r\n}\r\n\r\nlet createChannel = async () => {\r\n    await cleanUp()\r\n    await ws?.close()\r\n    ws = await new WebSocket(\"wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\")\r\n    await notifyStatusSubscribers(\"pending\")\r\n    await ws.addEventListener(\"open\", openHandler)\r\n    await ws.addEventListener(\"close\",closeHandler)\r\n    await ws.addEventListener(\"message\", messageHandler)\r\n    await ws.addEventListener(\"error\", errorHandler)\r\n\r\n}\r\n\r\n\r\nexport type MessageObs = (message: IMessage[]) => void\r\nexport type StatusObs = (status: statusType) => void\r\n\r\n\r\nexport type eventType = \"message-received\" | \"status-changed\"\r\n\r\n\r\ninterface ISubscribers{\r\n    \"message-received\": MessageObs[]\r\n    \"status-changed\": StatusObs[]\r\n}\r\n\r\nconst subscribers: ISubscribers = {\r\n    \"status-changed\": [],\r\n    \"message-received\": [],\r\n}\r\n\r\nexport let ChatApi = {\r\n    start(){\r\n        console.log('start')\r\n        createChannel()\r\n    },\r\n    subscribe<T extends eventType>(event: T, observer: T extends \"message-received\" ? MessageObs : StatusObs) {\r\n        //@ts-ignore\r\n        subscribers[event].push(observer)\r\n        return () => {\r\n            //@ts-ignore\r\n            subscribers[event] = subscribers[event].filter(item => item !== observer)\r\n        }\r\n    },\r\n    unsubscribe(event: eventType,observer:MessageObs | StatusObs){\r\n        //@ts-ignore\r\n        subscribers[event] = subscribers[event].filter(item => item !== observer)\r\n    },\r\n    sendMessage(message: string){\r\n        ws?.send(message)\r\n    },\r\n    stop(){\r\n        subscribers[\"message-received\"] = []\r\n        subscribers[\"status-changed\"] = []\r\n        cleanUp()\r\n        ws?.close()\r\n        if(_timerId) clearTimeout(_timerId)\r\n    }\r\n}\r\n\r\n","import {\r\n   StatusObs,\r\n   ChatApi,\r\n   IMessage,\r\n   MessageObs,\r\n   statusType\r\n} from \"../dal/chat-api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {createAsyncThunk, createSlice, nanoid, PayloadAction} from \"@reduxjs/toolkit\";\r\n\r\n\r\nexport type dialogPageType = {\r\n   message: Array<IMessage>\r\n   status: statusType\r\n}\r\n\r\nlet initialState: dialogPageType = {\r\n   status: \"pending\",\r\n   message: [],\r\n}\r\n\r\nlet dialogSlice = createSlice({\r\n   name: \"dialogs\",\r\n   initialState,\r\n   reducers: {\r\n      responseMessage: {\r\n         reducer(state, action: PayloadAction<IMessage[]>) {\r\n            state.message = [...state.message, ...action.payload]\r\n         },\r\n         prepare(messages: IMessage[]) {\r\n            return {\r\n               payload: messages.map(item => {\r\n                  item.id = nanoid()\r\n                  return item\r\n               })\r\n            }\r\n         }\r\n      },\r\n      changeStatus(state, action: PayloadAction<statusType>) {\r\n         state.status = action.payload\r\n      },\r\n      cleanState(state) {\r\n         state.message = []\r\n      }\r\n   }\r\n})\r\nexport default dialogSlice.reducer\r\nexport let {cleanState} = dialogSlice.actions\r\n\r\n\r\nlet _messageHandler: MessageObs | null = null\r\nlet getMessageHandler = (dispatch: Dispatch): MessageObs => {\r\n   if (_messageHandler === null) {\r\n      _messageHandler = (messages: IMessage[]) => {\r\n         dispatch(dialogSlice.actions.responseMessage(messages))\r\n      }\r\n   }\r\n   return _messageHandler\r\n}\r\n\r\nlet _statusHandler: StatusObs | null = null\r\nlet getStatusHandler = (dispatch: Dispatch): StatusObs => {\r\n   if (_statusHandler === null) {\r\n      _statusHandler = (status: statusType) => {\r\n         dispatch(dialogSlice.actions.changeStatus(status))\r\n      }\r\n   }\r\n   return _statusHandler\r\n}\r\n\r\n\r\nexport let startListeningMessage = createAsyncThunk(\r\n   \"dialogs/startListenMessage\",\r\n   async (_, {dispatch}) => {\r\n      ChatApi.start()\r\n      ChatApi.subscribe(\"message-received\", getMessageHandler(dispatch))\r\n      ChatApi.subscribe(\"status-changed\", getStatusHandler(dispatch))\r\n   }\r\n)\r\n\r\nexport let stopListeningMessage = createAsyncThunk(\r\n   \"dialogs/stopListenMessage\",\r\n   async (_) => {\r\n      ChatApi.stop()\r\n   }\r\n)\r\n","import {axiosRequest, friendUnion} from \"../dal/api\";\r\nimport {IUserOfList} from \"../types/types\";\r\nimport {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {AppDispatch, RootState} from \"../app/redax-store\";\r\n\r\n\r\ninterface IUsersInitialState {\r\n   usersID: number[],\r\n   users: {[key: number]: IUserOfList}\r\n   currentPage: number\r\n   totalUsersCount: number\r\n   usersPerPage: number\r\n   isLoading: boolean\r\n   term: string,\r\n   friend: friendUnion\r\n}\r\n\r\nlet initialState: IUsersInitialState = {\r\n   usersID: [],\r\n   users: {},\r\n   currentPage: 1,\r\n   totalUsersCount: 0,\r\n   usersPerPage: 5,\r\n   isLoading: false,\r\n   term: \"\",\r\n   friend: \"\",\r\n}\r\n\r\ninterface IFollowInPrAct { isFetching: boolean, userId: number }\r\n\r\nlet usersSlice = createSlice({\r\n   name: \"users\",\r\n   initialState,\r\n   reducers: {\r\n      setCurrentPage(state, action: PayloadAction<number>) {\r\n         state.currentPage = action.payload\r\n      },\r\n      setTerm(state, action: PayloadAction<string>) {\r\n         state.term = action.payload\r\n      },\r\n      setFriend(state, action: PayloadAction<\"true\" | \"false\" | \"\">) {\r\n         state.friend = action.payload\r\n      },\r\n      setUsersOnPage(state, action: PayloadAction<number>) {\r\n         state.usersPerPage = action.payload\r\n      },\r\n      toggleLoading(state) {\r\n         state.isLoading = !state.isLoading\r\n      },\r\n      setUsers(state, action: PayloadAction<IUserOfList[]>){\r\n         action.payload.forEach(item => {\r\n            state.users[item.id] = item\r\n         })\r\n         state.usersID = action.payload.map(item => item.id)\r\n\r\n      },\r\n      setTotalUsersCount(state, action: PayloadAction<number>) {\r\n         state.totalUsersCount = action.payload\r\n      },\r\n      followInProgress(state, action: PayloadAction<IFollowInPrAct>) {\r\n         state.users[action.payload.userId].pendingFollow = action.payload.isFetching\r\n      },\r\n      unfollow(state,action:PayloadAction<number>){\r\n         state.users[action.payload].followed = false\r\n      },\r\n      follow(state,action:PayloadAction<number>){\r\n         state.users[action.payload].followed = true\r\n      }\r\n   }\r\n})\r\n\r\nexport default usersSlice.reducer\r\n\r\nexport let {\r\n   setCurrentPage,\r\n   setTerm,\r\n   setFriend,\r\n   setUsersOnPage,\r\n   toggleLoading,\r\n   setUsers,\r\n   setTotalUsersCount,\r\n   followInProgress,\r\n   unfollow,\r\n   follow\r\n} = usersSlice.actions\r\n\r\nexport interface ISearchFilters {\r\n   term: string,\r\n   friend: friendUnion,\r\n   usersPerPage: number\r\n   currentPage?: number\r\n}\r\n\r\nexport let applyFilters = createAsyncThunk<void, ISearchFilters,\r\n   {\r\n      dispatch: AppDispatch\r\n      state: RootState\r\n   }>(\r\n   \"users/applyFilters\",\r\n    (a: ISearchFilters, {dispatch,getState}) => {\r\n      let {term,friend,usersPerPage} = getState().usersPage\r\n      if(term !== a.term) dispatch(setTerm(a.term))\r\n      if(friend !== a.friend) dispatch(setFriend(a.friend))\r\n      if(usersPerPage !== a.usersPerPage) dispatch(setUsersOnPage(+a.usersPerPage || 1))\r\n\r\n      if(a.currentPage !== undefined) dispatch(setCurrentPage(+a.currentPage || 1))\r\n      else {\r\n         if (\r\n            term !== a.term ||\r\n            friend !== a.friend ||\r\n            usersPerPage !== a.usersPerPage\r\n         ) dispatch(setCurrentPage(1))\r\n      }\r\n   }\r\n)\r\n\r\n\r\n//getUsersCreator\r\nexport let getUsers = createAsyncThunk<Promise<any>, void,\r\n   {\r\n      dispatch: AppDispatch\r\n      state: RootState\r\n   }>(\r\n   \"users/getUsers\",\r\n   async (_, {dispatch, getState}) => {\r\n      let {term, friend, currentPage, usersPerPage} = getState().usersPage\r\n      dispatch(toggleLoading())\r\n      let data = await axiosRequest.users.getUsers(currentPage, usersPerPage, term, friend)\r\n      dispatch(toggleLoading())\r\n      dispatch(setUsers(data.items))\r\n      dispatch(setTotalUsersCount(data.totalCount))\r\n   }\r\n)\r\n\r\n\r\ntype changePageArgsType = { pageNumber: number, count: number }\r\nexport let changePageNumber = createAsyncThunk<Promise<any>, changePageArgsType,\r\n   {\r\n      dispatch: AppDispatch\r\n      state: RootState\r\n   }>(\r\n   \"users/changePage\",\r\n   async (arg, {dispatch, getState}) => {\r\n      let {term, friend} = getState().usersPage\r\n      dispatch(toggleLoading())\r\n      dispatch(setCurrentPage(arg.pageNumber))\r\n      let data = await axiosRequest.users.getUsers(arg.pageNumber, arg.count, term, friend)\r\n      dispatch(toggleLoading())\r\n      dispatch(setUsers(data.items))\r\n   }\r\n)\r\n//unfollowedCreator\r\nexport let unfollowUser = createAsyncThunk(\r\n   \"users/unfollowUser\",\r\n   async (itemId: number, {dispatch}) => {\r\n      dispatch(followInProgress({isFetching:true, userId:itemId}))\r\n      let data = await axiosRequest.users.unfollowUser(itemId)\r\n      if (data.resultCode === 0) {\r\n         dispatch(unfollow(itemId))\r\n      }\r\n      dispatch(followInProgress({isFetching:false, userId:itemId}))\r\n   }\r\n)\r\n\r\nexport let followUser = createAsyncThunk(\r\n   \"users/followUser\",\r\n   async (userId: number, {dispatch}) => {\r\n      dispatch(followInProgress({isFetching:true, userId}))\r\n      let data = await axiosRequest.users.followUser(userId)\r\n      if (data.resultCode === 0) {\r\n         dispatch(follow(userId))\r\n      }\r\n      dispatch(followInProgress({isFetching:false, userId}))\r\n   }\r\n)\r\n\r\nexport let usersPerPageSelector = (state: RootState) => state.usersPage.usersPerPage\r\nexport let currentPageSelector = (state: RootState) => state.usersPage.currentPage\r\nexport let friendSelector = (state: RootState) => state.usersPage.friend\r\nexport let termSelector = (state: RootState) => state.usersPage.term\r\n","import profileReducer from \"../redax/profileReducer\";\r\nimport dialogsReducer from \"../redax/dialogsReducer\";\r\nimport usersReducer from \"../redax/usersReducer\";\r\nimport authReducer from \"../redax/authReducer\";\r\nimport {configureStore} from \"@reduxjs/toolkit\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nexport let store = configureStore({\r\n    reducer: {\r\n        profilePage: profileReducer,\r\n        dialogsPage: dialogsReducer,\r\n        usersPage: usersReducer,\r\n        auth: authReducer,\r\n    },\r\n})\r\n\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\n\r\nexport type AppDispatch = typeof store.dispatch\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\r\n\r\n","import React, {FC} from \"react\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {getName} from \"../../utils/getName\";\r\nimport {useTypesSelector} from \"../../../app/hooks\";\r\nimport {putProfileObject, toggleEditMode} from \"../../../redax/profileReducer\";\r\nimport {Button, FormControl, InputLabel, NativeSelect, styled, TextField} from '@mui/material';\r\nimport {IErrorType, ISetUserProfile} from \"../../../types/types\";\r\nimport {useAppDispatch} from \"../../../app/redax-store\";\r\n\r\nlet FormTag = styled(\"form\")(({theme}) => ({\r\n   p: 1,\r\n   border: \"1px solid theme.palette.text.secondary\",\r\n   [theme.breakpoints.up('md')]: {\r\n      display: \"grid\",\r\n      gridTemplateColumns: \"1fr 1fr\",\r\n      gridAutoRows: \"auto\",\r\n      gap: 10\r\n   },\r\n   \"> *\": {\r\n      //backgroundColor: \"red\",\r\n      [theme.breakpoints.down('md')]: {\r\n         \":not(:last-child)\": {\r\n            marginBottom: \"15px\"\r\n         },\r\n      }\r\n   }\r\n}))\r\nlet addErrors = (errArr: string[], callBack: (...args: any[]) => void): void => {\r\n   const errors: IErrorType[] = []\r\n   errArr.forEach((item) => {\r\n      debugger\r\n      errors.push({type: \"manual\", name: getName(item), message: item.split(\"(\")[0]})\r\n   })\r\n   errors.forEach(({name, type, message}) =>\r\n      callBack(name, {type, message})\r\n   );\r\n}\r\n\r\nexport let AboutForm: FC = () => {\r\n   const {register, setError, handleSubmit, formState: {errors}} = useForm<ISetUserProfile>();\r\n   let dispatch = useAppDispatch()\r\n\r\n   let isDisabled = useTypesSelector(state => state.profilePage.submitButtonDisabled)\r\n   let id = useTypesSelector(state => state.auth.userId)\r\n   let userProfile = useTypesSelector(state => state.profilePage.userProfile)\r\n\r\n   let submit = async (data: ISetUserProfile) => {\r\n      if (typeof id !== \"number\") return\r\n      data.userId = id\r\n      let response = await dispatch(putProfileObject(data))\r\n\r\n      if (putProfileObject.rejected.match(response)) {\r\n         const arrOfErrors = response.payload?.messages\r\n         if (arrOfErrors) {\r\n            addErrors(arrOfErrors, setError)\r\n         }\r\n      }\r\n   }\r\n   return (\r\n\r\n      <FormTag onSubmit={handleSubmit(submit)}>\r\n         <FormControl fullWidth>\r\n            <InputLabel variant=\"standard\" htmlFor=\"lookingForAJob\">\r\n               Looking for a job\r\n            </InputLabel>\r\n            <NativeSelect\r\n               {...register(\"lookingForAJob\", {\r\n                  deps: ['lookingForAJobDescription'],\r\n               })}\r\n               defaultValue={!!userProfile?.lookingForAJob}\r\n               inputProps={{\r\n                  name: 'lookingForAJob',\r\n                  id: 'lookingForAJob',\r\n               }}\r\n            >\r\n               <option value={\"true\"}>Yes</option>\r\n               <option value={\"false\"}>No</option>\r\n            </NativeSelect>\r\n         </FormControl>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"lookingForAJobDescription\", {\r\n                       required: true\r\n                    })}\r\n                    error={!!errors.lookingForAJobDescription}\r\n                    defaultValue={userProfile?.lookingForAJobDescription || undefined}\r\n                    helperText={errors.lookingForAJobDescription && errors.lookingForAJobDescription.message}\r\n                    fullWidth\r\n                    label=\"Description of the job I'm looking for\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"fullName\")}\r\n                    error={!!errors.fullName}\r\n                    helperText={errors.fullName && errors.fullName.message}\r\n                    defaultValue={userProfile?.fullName || undefined}\r\n                    fullWidth\r\n                    label=\"My fullname\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"aboutMe\")}\r\n                    error={!!errors.aboutMe}\r\n                    helperText={errors.aboutMe && errors.aboutMe.message}\r\n                    defaultValue={userProfile?.aboutMe || undefined}\r\n                    fullWidth\r\n                    label=\"About me\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.facebook\")}\r\n                    error={!!errors.contacts?.facebook}\r\n                    helperText={errors.contacts?.facebook && errors.contacts?.facebook.message}\r\n                    defaultValue={userProfile?.contacts.facebook || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in facebook\"\r\n         />\r\n         {/*{errors.facebook && <p>{errors.facebook.message}</p>}*/}\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.github\")}\r\n                    error={!!errors.contacts?.github}\r\n                    helperText={errors.contacts?.github && errors.contacts?.github.message}\r\n                    defaultValue={userProfile?.contacts.github || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in github\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.instagram\")}\r\n                    error={!!errors.contacts?.instagram}\r\n                    helperText={errors.contacts?.instagram && errors.contacts?.instagram.message}\r\n                    defaultValue={userProfile?.contacts.instagram || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in instagram\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.mainLink\")}\r\n                    error={!!errors.contacts?.mainLink}\r\n                    helperText={errors.contacts?.mainLink && errors.contacts?.mainLink.message}\r\n                    defaultValue={userProfile?.contacts.mainLink || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in mainLink\"/>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.twitter\")}\r\n                    error={!!errors.contacts?.twitter}\r\n                    helperText={errors.contacts?.twitter && errors.contacts?.twitter.message}\r\n                    defaultValue={userProfile?.contacts.twitter || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in twitter\"/>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.vk\")}\r\n                    error={!!errors.contacts?.vk}\r\n                    helperText={errors.contacts?.vk && errors.contacts?.vk.message}\r\n                    defaultValue={userProfile?.contacts.vk || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in vk\"/>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.website\")}\r\n                    error={!!errors.contacts?.website}\r\n                    helperText={errors.contacts?.website && errors.contacts?.website.message}\r\n                    defaultValue={userProfile?.contacts.website || undefined}\r\n                    fullWidth\r\n                    label=\"My website\"/>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.youtube\")}\r\n                    error={!!errors.contacts?.youtube}\r\n                    helperText={errors.contacts?.youtube && errors.contacts?.youtube.message}\r\n                    defaultValue={userProfile?.contacts.youtube || undefined}\r\n                    fullWidth\r\n                    label=\"My channel in youtube\"/>\r\n         <Button fullWidth sx={{\r\n            display: \"block\",\r\n\r\n         }} variant=\"outlined\" type={\"submit\"} disabled={isDisabled}>Submit</Button>\r\n         <Button\r\n            fullWidth\r\n            sx={{\r\n               display: \"block\",\r\n            }}\r\n            onClick={() => dispatch(toggleEditMode())}\r\n            variant=\"outlined\"\r\n            type={\"submit\"}\r\n            disabled={isDisabled}>i don`t want to edit\r\n         </Button>\r\n      </FormTag>\r\n   )\r\n}\r\n","import React, {FC} from \"react\";\r\nimport {userProfileType} from \"../../../types/types\";\r\nimport {Box, Button, Grid, Paper, styled} from '@mui/material';\r\nimport {toggleEditMode} from \"../../../redax/profileReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\n\r\nconst Item = styled(Paper)(({theme}) => ({\r\n   ...theme.typography.body2,\r\n   padding: theme.spacing(1),\r\n   textAlign: 'center',\r\n   color: theme.palette.text.secondary,\r\n}));\r\nlet CustomLabel = styled(\"span\")(({theme}) => ({\r\n   fontWeight: \"bold\",\r\n   color: \"gray\",\r\n   display: \"inline-block\",\r\n   marginRight: theme.spacing(1)\r\n}))\r\nexport let AboutMe: FC<userProfileType & {isOwn: boolean}> = (\r\n   {\r\n      aboutMe,\r\n      lookingForAJob,\r\n      lookingForAJobDescription,\r\n      fullName,\r\n      contacts,\r\n      isOwn\r\n   }\r\n) => {\r\n   let dispatch = useDispatch()\r\n   return (\r\n      <>\r\n         <Grid container spacing={2}>\r\n            <Grid spacing={2} xs={12} item sm={6}>\r\n               <Item>\r\n                  <CustomLabel>About me -</CustomLabel>\r\n                  <span>{aboutMe}</span>\r\n               </Item>\r\n            </Grid>\r\n            <Grid spacing={2} xs={12} item sm={6}>\r\n               <Item>\r\n                  <CustomLabel>Looking for a job -</CustomLabel>\r\n                  <span>{lookingForAJob ? \"Yes\" : \"No\"}</span>\r\n               </Item>\r\n            </Grid>\r\n            <Grid spacing={2} xs={12} item sm={6}>\r\n               <Item>\r\n                  <CustomLabel>Looking for a job discription -</CustomLabel>\r\n                  <span>{lookingForAJobDescription}</span>\r\n               </Item>\r\n            </Grid>\r\n            <Grid spacing={2} xs={12} item sm={6}>\r\n               <Item>\r\n                  <CustomLabel>Full name-</CustomLabel>\r\n                  <span>{fullName}</span>\r\n               </Item>\r\n            </Grid>\r\n            {Object.entries(contacts).map((item, i) => <Grid\r\n               key={i}\r\n               spacing={2}\r\n               item xs={12} sm={6}>\r\n               <Item>\r\n                  <ContactsItem title={item[0]} value={item[1]}/>\r\n               </Item>\r\n            </Grid>)}\r\n         </Grid>\r\n         {isOwn &&\r\n         <Button\r\n            size=\"large\"\r\n            sx={{\r\n               mt: 1\r\n            }}\r\n            variant=\"contained\"\r\n            type=\"submit\"\r\n            onClick={() => dispatch(toggleEditMode())}>\r\n            Edit my details\r\n         </Button>}\r\n      </>\r\n   )\r\n}\r\n\r\ninterface ContactsType {\r\n   title: string\r\n   value: string | null\r\n}\r\n\r\nlet ContactsItem: FC<ContactsType> = ({title, value}) => {\r\n   let newTitle = title[0].toUpperCase() + title.slice(1,title.length)\r\n   return (\r\n      <>\r\n         <CustomLabel>{newTitle} -</CustomLabel>\r\n         <span>{value || \"unknown\"}</span>\r\n      </>\r\n   )\r\n}","import React, {FC, useEffect, useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport {updateProfileStatus} from \"../../redax/profileReducer\";\r\nimport {LinearProgress, TextField} from '@mui/material';\r\n\r\nexport let Status: FC<{isOwn: boolean}> = ({isOwn}) => {\r\n   let dispatch = useDispatch()\r\n   let status = useTypesSelector(state => state.profilePage.status)\r\n   let pending = useTypesSelector(state => state.profilePage.pendingStatus)\r\n\r\n   let [inputValue, setInputValue] = useState<string>(status || \"\")\r\n\r\n\r\n\r\n   useEffect(() => {\r\n      if(inputValue !== status) setInputValue(status || \"\")\r\n   }, [status])\r\n\r\n   let submitStatus = () => {\r\n      if(status !== inputValue) dispatch(updateProfileStatus(inputValue))\r\n   }\r\n\r\n   let onStatusChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      setInputValue(e.target.value);\r\n   }\r\n\r\n   return <>\r\n      {pending && <LinearProgress sx={{\r\n         mb:2\r\n      }}/>}\r\n      <TextField\r\n         disabled={isOwn ? pending: true }\r\n         onBlur={() => submitStatus()}\r\n         value={inputValue}\r\n         onChange={onStatusChange}\r\n         fullWidth\r\n         label=\"Status\"\r\n         onKeyDown={(event) => {\r\n            if (event.keyCode === 13){\r\n               submitStatus()\r\n               //@ts-ignore\r\n               event.target.blur()\r\n            }\r\n         }}\r\n      />\r\n   </>\r\n}","import * as React from 'react';\r\nimport {Box, Button, Typography} from '@mui/material';\r\nimport {ChangeEvent, FC} from \"react\";\r\nimport {styled} from '@mui/material/styles';\r\nimport {Status} from \"../status\";\r\nimport {setProfilePhoto} from \"../../../redax/profileReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useTypesSelector} from \"../../../app/hooks\";\r\n\r\ntype ProfileTop = {\r\n   isOwn: boolean\r\n   src: string\r\n}\r\nconst Input = styled('input')({\r\n   display: 'none',\r\n});\r\n\r\nlet ImgWrapper = styled(\"div\")(({theme}) => ({\r\n   border: \"2px solid white\",\r\n   height: \"250px\",\r\n   [theme.breakpoints.up('xs')]:{\r\n      width: \"100%\"\r\n   },\r\n   [theme.breakpoints.up('sm')]:{\r\n      width: \"250px\",\r\n      flex: \"0 0 250px\"\r\n   },\r\n   marginRight: theme.spacing(1),\r\n   borderRadius: theme.spacing(1),\r\n   position: \"relative\",\r\n}))\r\n\r\nexport let ProfileTop: FC<ProfileTop> = ({src, isOwn}) => {\r\n   let fullName = useTypesSelector(state => state.profilePage.userProfile?.fullName)\r\n   let dispatch = useDispatch()\r\n   let putPhoto = (e: ChangeEvent<HTMLInputElement>) => {\r\n      if (e.target.files?.length) {\r\n         dispatch(setProfilePhoto(e.target.files[0]))\r\n      }\r\n   }\r\n   return (\r\n      <Box\r\n         sx={{\r\n            display: 'flex',\r\n\r\n            flexDirection: {xs: 'column', sm: 'row'},\r\n            bgcolor: '#bab0b0',\r\n            overflow: 'hidden',\r\n            boxShadow: 1,\r\n            fontWeight: 'bold',\r\n            p: 2,\r\n         }}\r\n      >\r\n         <ImgWrapper >\r\n            <Box\r\n               component=\"img\"\r\n               sx={{\r\n                  position: \"absolute\",\r\n                  objectFit: \"cover\",\r\n                  top: 0,\r\n                  left: 0,\r\n                  width: \"100%\",\r\n                  height: \"100%\",\r\n               }}\r\n               alt=\"It's my own picture\"\r\n               src={src}\r\n            />\r\n         </ImgWrapper>\r\n         <Box sx={{\r\n            flex: \"1 1 auto\"\r\n         }}>\r\n            <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n               {fullName}\r\n            </Typography>\r\n            {!isOwn || <label htmlFor=\"change-photo\">\r\n               <Input onChange={putPhoto} id=\"change-photo\" type=\"file\" accept=\"image/*\"/>\r\n               <Button\r\n                  size=\"large\"\r\n                  sx={{\r\n                     borderRadius: 1,\r\n                     mb: 2\r\n                  }}\r\n                  variant=\"contained\"\r\n                  component=\"span\">\r\n                  Change photo\r\n               </Button>\r\n            </label>}\r\n            <Status isOwn={isOwn}/>\r\n         </Box>\r\n      </Box>\r\n   );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/1024px-User-avatar.svg.6ca1b977.png\";","import s from \"../profile.module.css\";\r\nimport React, {FC, useEffect} from \"react\";\r\nimport Loading from \"../../users/loading\";\r\nimport {AboutForm} from \"./aboutMeForm\";\r\nimport {useAppDispatch, useTypesSelector} from \"../../../app/hooks\";\r\nimport {AboutMe} from \"./aboutMe\";\r\nimport {ProfileTop} from \"./profileTop\";\r\nimport img from \"./../../../asserts/1024px-User-avatar.svg.png\"\r\nimport {toggleEditMode} from \"../../../redax/profileReducer\";\r\nimport {Box} from \"@mui/material\";\r\n\r\ninterface IInfo {\r\n   isOwn: boolean\r\n}\r\n\r\n\r\nexport let Info: FC<IInfo> = (props) => {\r\n   let edit = useTypesSelector(state => state.profilePage.editMode)\r\n   let userProfile = useTypesSelector(state => state.profilePage.userProfile)\r\n   let dispatch = useAppDispatch()\r\n\r\n   useEffect(() => {\r\n\r\n      return () => {\r\n         //не вызывается если страница перезагружена или закрыт браузер\r\n         dispatch(toggleEditMode(false))\r\n      }\r\n   }, [])\r\n\r\n\r\n   if (!userProfile) {\r\n      return (<Loading />)\r\n   } else {\r\n      return (\r\n         <div className={s.infoWrapper}>\r\n            <ProfileTop\r\n               src={userProfile.photos.large || userProfile.photos.small || img}\r\n               isOwn={props.isOwn}\r\n            />\r\n            <Box sx={{\r\n               bgcolor: \"#bab0b0\",\r\n               width: \"100%\",\r\n               boxShadow: 1,\r\n               mt: 1,\r\n            }} className={s.addPost}>\r\n               <Box sx={{\r\n                  padding: (theme) => theme.spacing(1),\r\n                  pt: 2,\r\n                  textAlign: \"end\",\r\n                  flex: \"1 1 auto\"\r\n               }}>\r\n                  {edit || <AboutMe isOwn={props.isOwn} {...userProfile} />}\r\n                  {props.isOwn && edit && <AboutForm/>}\r\n               </Box>\r\n            </Box>\r\n         </div>\r\n      )\r\n   }\r\n}\r\n\r\n/*type InfoFormType = {\r\n   addPost: (data: addPostPropsType) => void\r\n}*/\r\n\r\n/*\r\nlet InfoForm: FC<InfoFormType> = ({ addPost }) => {\r\n   let { handleSubmit, register, formState: { errors } } = useForm<addPostPropsType>()\r\n   return (\r\n      <form onSubmit={handleSubmit(addPost)}>\r\n         <input {...register(\"post\", {\r\n            maxLength: {\r\n               value: 20,\r\n               message: \"Пожалуйста поменьше букв\"\r\n            }\r\n         })} placeholder={\"Введите свое сообщение\"} className={s.texarea} />\r\n         {errors.post && <p>{errors.post.message}</p>}\r\n         <button className={s.add}>submit</button>\r\n      </form>\r\n   )\r\n}\r\n*/\r\n\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport {getProfileStatus, getUserProfile} from \"../../redax/profileReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Navigate, useParams} from \"react-router-dom\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport {Info} from \"./aboutMe/info\";\r\nimport {Box, Typography} from \"@mui/material\";\r\n\r\nfunction testMyId(id: number | null): asserts id is number {\r\n    if (typeof id !== \"number\") throw new Error(\"Ошибка доступа\")\r\n}\r\n\r\nexport let Profile = () => {\r\n    let myId = useTypesSelector(state => state.auth.userId)\r\n    let isInitialize = useTypesSelector(state => state.auth.isLog)\r\n    let { userId } = useParams<string>()\r\n    let dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getProfileStatus(Number(userId)))\r\n        dispatch(getUserProfile(Number(userId)))\r\n    }, [userId])\r\n\r\n\r\n\r\n    if (isInitialize === false){\r\n        return <Navigate to={\"/login\"} replace={true} />\r\n    }\r\n    testMyId(myId)\r\n    return (\r\n        <Info isOwn={myId === Number(userId)} />\r\n    )\r\n}\r\n\r\nexport let ProfileRedirect = () => {\r\n    let myId = useTypesSelector(state => state.auth.userId)\r\n    return <Navigate to={myId ? `/profile/${myId}` : \"/login\"} replace={true} />\r\n}\r\n\r\nexport let NotFound = () => {\r\n    return <Box sx={{\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\"\r\n    }}>\r\n        <Typography variant={\"h4\"}>\r\n            404 Not Found\r\n        </Typography>\r\n    </Box>\r\n}\r\n\r\nexport let Discklamer = () => {\r\n    return <Box sx={{\r\n        width: \"100%\",\r\n        height: \"calc(100vh - 70px)\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\"\r\n    }}>\r\n        <Typography variant={\"h4\"}>\r\n            Чтобы увидеть содержимое страницы необходимо войти в аккаунт\r\n        </Typography>\r\n    </Box>\r\n}","import React from \"react\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport styled from \"@emotion/styled\";\r\nimport {Avatar, Box, Button} from \"@mui/material\";\r\nimport img from \"./../../asserts/1024px-User-avatar.svg.png\"\r\n\r\nlet Header = styled(\"header\")({\r\n   width: \"100%\",\r\n   height: \"60px\",\r\n   padding: \"5px 0\",\r\n   position: \"fixed\",\r\n   top: 0,\r\n   left: 0,\r\n   zIndex: 50,\r\n   borderBottom: \"1px solid #B2B2B2FF\",\r\n   backgroundColor: \"#fff\"\r\n\r\n})\r\n\r\nexport let HeaderContainer = () => {\r\n   let images = useTypesSelector(state => state.auth.photos)\r\n   let isLog = useTypesSelector(state => state.auth.isLog)\r\n\r\n   return (\r\n      <>\r\n         <Header>\r\n            <Box sx={{\r\n               padding: {\r\n                  sm: \"0 10px\",\r\n                  xs: \"0 5px\"\r\n               },\r\n               maxWidth: {\r\n                  xs: \"100%\",\r\n                  sm: 600,\r\n                  md: 800,\r\n                  lg: 1000,\r\n                  xl: 1200,\r\n               },\r\n               height: \"100%\",\r\n               margin: \"0 auto\",\r\n            }}>\r\n               <Box sx={{\r\n                  padding: \"0 10px\",\r\n                  display: \"flex\",\r\n                  height: \"100%\",\r\n                  borderLeft: \"1px solid #B2B2B2FF\",\r\n                  borderRight: \"1px solid #B2B2B2FF\",\r\n                  alignItems: \"center\",\r\n               }}>\r\n                  <Box sx={{display: \"flex\"}}>\r\n                     <Button sx={{\r\n                        marginRight: {\r\n                           xs: \"5px\",\r\n                           sm: \"10px\"\r\n                        }\r\n                     }} variant=\"contained\" size=\"small\"\r\n                             href=\"/profile\">\r\n                        {isLog ? \"Profile\" : \"Login\"}\r\n                     </Button>\r\n                     <Button\r\n                        sx={{\r\n                        marginRight: {\r\n                           xs: \"5px\",\r\n                           sm: \"10px\"\r\n                        }\r\n                     }} variant=\"contained\" size=\"small\"\r\n                             href=\"/dialogs\">\r\n                        Dialogs\r\n                     </Button>\r\n                     <Button variant=\"contained\" size=\"small\"\r\n                             href=\"/users\">\r\n                        Users\r\n                     </Button>\r\n                  </Box>\r\n                  <Box sx={{flex: \"1 1 auto\", display: \"flex\", justifyContent: \"flex-end\"}}>\r\n                     <Avatar src={images?.small || images?.large || img}/>\r\n                  </Box>\r\n               </Box>\r\n            </Box>\r\n         </Header>\r\n\r\n      </>\r\n   )\r\n}\r\n\r\n\r\n","import Box from \"@mui/material/Box\"\r\nimport {useLocation, useNavigate} from \"react-router-dom\";\r\nimport {Button, TextField, Typography} from \"@mui/material\";\r\nimport {FC, useCallback} from \"react\";\r\nimport {getFormData, setFormData} from \"../../../dal/sessionStorageAPI\";\r\nimport {useForm} from \"react-hook-form\";\r\n\r\n\r\nexport let LoginStep: FC<{ title: string }> = ({title}) => {\r\n   let {handleSubmit, register} = useForm({defaultValues: {...getFormData()}})\r\n   let navigate = useNavigate()\r\n   let location = useLocation()\r\n\r\n\r\n   let onSubmit = useCallback((data: object) => {\r\n      console.log(data)\r\n      setFormData(data)\r\n      navigate(location.pathname + location.search + location.hash,\r\n         {state: {activeStep: 1}})\r\n   }, [navigate, location])\r\n\r\n   return <Box>\r\n      <Typography sx={{p: 2, textAlign: \"center\"}} variant={\"h5\"}>{title}</Typography>\r\n      <Box component={\"form\"} sx={{\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         alignItems: \"center\"\r\n      }} onSubmit={handleSubmit(onSubmit)}>\r\n         <TextField sx={{mb: 2}} {...register(\"email\")}/>\r\n         <Button variant={\"contained\"} type={\"submit\"}>next</Button>\r\n      </Box>\r\n   </Box>\r\n}","import Box from \"@mui/material/Box\"\r\nimport {FC, useCallback} from \"react\";\r\nimport {getFormData, setFormData} from \"../../../dal/sessionStorageAPI\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {useLocation, useNavigate} from \"react-router-dom\";\r\nimport {Button, IconButton, TextField, Typography} from \"@mui/material\";\r\nimport {KeyboardBackspace} from \"@mui/icons-material\";\r\n\r\n\r\nexport let PasswordStep: FC<{ title: string }> = ({title}) => {\r\n   let {handleSubmit, register} = useForm({defaultValues: {...getFormData()}})\r\n   let navigate = useNavigate()\r\n   let location = useLocation()\r\n\r\n\r\n   let onSubmit = useCallback((data: object) => {\r\n      console.log(data)\r\n      setFormData(data)\r\n      navigate(location.pathname + location.search + location.hash,\r\n         {state: {activeStep: 2}})\r\n   }, [navigate, location])\r\n\r\n   const onBack = useCallback(() => {\r\n      navigate(-1)\r\n   }, [navigate]);\r\n\r\n   return <Box>\r\n      <Typography sx={{p: 2, textAlign: \"center\"}} variant={\"h5\"}>{title}</Typography>\r\n\r\n      <Box component={\"form\"} sx={{\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         alignItems: \"center\"\r\n      }} onSubmit={handleSubmit(onSubmit)}>\r\n         <TextField sx={{mb: 2}} {...register(\"password\")}/>\r\n         <Box sx={{display: \"flex\"}}>\r\n            <IconButton sx={{mr: 2}}  onClick={onBack}>\r\n               <KeyboardBackspace fontSize=\"inherit\" />\r\n            </IconButton>\r\n            <Button variant={\"outlined\"} type={\"submit\"}>next</Button>\r\n         </Box>\r\n      </Box>\r\n   </Box>\r\n}","import Box from \"@mui/material/Box\"\r\nimport {FC, useCallback} from \"react\";\r\nimport {getFormData, setFormData} from \"../../../dal/sessionStorageAPI\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {useLocation, useNavigate} from \"react-router-dom\";\r\nimport {Button, Checkbox, IconButton, Typography} from \"@mui/material\";\r\nimport {KeyboardBackspace} from \"@mui/icons-material\";\r\nimport {ILoginAction} from \"../../../redax/authReducer\";\r\nimport {useTypesSelector} from \"../../../app/hooks\";\r\n\r\n\r\ninterface IOptionStep {\r\n   title: string\r\n   genSubmit: (data: ILoginAction) => void\r\n}\r\n\r\n\r\nexport let OptionsStep: FC<IOptionStep> = ({title,genSubmit}) => {\r\n   let {handleSubmit, register} = useForm<ILoginAction>({defaultValues: {...getFormData()}})\r\n   let navigate = useNavigate()\r\n   let location = useLocation()\r\n   let captcha = useTypesSelector(state => state.auth.urlCaptcha)\r\n\r\n\r\n   let onSubmit = useCallback(async (data: ILoginAction) => {\r\n      setFormData(data)\r\n      console.log(data)\r\n      if(captcha){\r\n         let path = location.pathname + location.search + location.hash\r\n         navigate(path, {state: {activeStep: 3}})\r\n      }else{\r\n         genSubmit(data)\r\n      }\r\n   }, [])\r\n\r\n   const onBack = useCallback(() => {\r\n      navigate(-1)\r\n   }, [navigate]);\r\n\r\n\r\n   return <Box>\r\n      <Typography sx={{p: 2, textAlign: \"center\"}} variant={\"h5\"}>{title}</Typography>\r\n\r\n      <Box component={\"form\"} sx={{\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         alignItems: \"center\"\r\n      }} onSubmit={handleSubmit(onSubmit)}>\r\n         <Checkbox sx={{mb: 2}} {...register(\"rememberMe\")}/>\r\n         <Box sx={{display: \"flex\"}}>\r\n            <IconButton sx={{mr: 2}}  onClick={onBack}>\r\n               <KeyboardBackspace fontSize=\"inherit\" />\r\n            </IconButton>\r\n            <Button variant={\"outlined\"} type={\"submit\"}>next</Button>\r\n         </Box>\r\n      </Box>\r\n   </Box>\r\n\r\n\r\n}","import {ILoginAction} from \"../../../redax/authReducer\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {useTypesSelector} from \"../../../app/hooks\";\r\nimport {Button, IconButton, TextField, Typography} from \"@mui/material\";\r\nimport {FC, useCallback} from \"react\";\r\nimport {getFormData, setFormData} from \"../../../dal/sessionStorageAPI\";\r\nimport {KeyboardBackspace} from \"@mui/icons-material\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport Box from \"@mui/material/Box\";\r\n\r\ninterface ICaptchaOptions {\r\n   onGenSubmit: (data: ILoginAction) => void\r\n   title: string\r\n}\r\n\r\nexport let CaptchaPage:FC<ICaptchaOptions> = ({onGenSubmit,title}) => {\r\n   let {handleSubmit, register} = useForm<ILoginAction>({defaultValues: {...getFormData()}})\r\n   let captchaURI = useTypesSelector(state => state.auth.urlCaptcha)\r\n   let navigate = useNavigate()\r\n   let onSubmit = (data: ILoginAction) => {\r\n      console.log(data)\r\n      setFormData(data)\r\n      onGenSubmit(data)\r\n   }\r\n\r\n   const onBack = useCallback(() => {\r\n      navigate(-1)\r\n   }, [navigate]);\r\n\r\n\r\n   return <Box>\r\n      <Typography sx={{p: 2, textAlign: \"center\"}} variant={\"h5\"}>{title}</Typography>\r\n\r\n      <Box component={\"form\"} sx={{\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         alignItems: \"center\"\r\n      }} onSubmit={handleSubmit(onSubmit)}>\r\n         <Box component={\"img\"} sx={{w: \"200px\", h: \"100px\", mb: 2}} src={captchaURI || \"\"}/>\r\n         <TextField sx={{mb: 2}} {...register(\"captcha\")}/>\r\n         <Box sx={{display: \"flex\"}}>\r\n            <IconButton sx={{mr: 2}}  onClick={onBack}>\r\n               <KeyboardBackspace fontSize=\"inherit\" />\r\n            </IconButton>\r\n            <Button variant={\"outlined\"} type={\"submit\"}>Submit</Button>\r\n         </Box>\r\n      </Box>\r\n   </Box>\r\n\r\n}","import React, {ReactNode, useCallback, useLayoutEffect, useState} from \"react\";\r\nimport {Box, Step, StepLabel, Stepper} from \"@mui/material\";\r\nimport {Navigate, useLocation, useNavigate} from \"react-router-dom\";\r\nimport {LoginStep} from \"./steps/LoginStep\";\r\nimport {PasswordStep} from \"./steps/PasswordStep\";\r\nimport {OptionsStep} from \"./steps/OptionsStep\";\r\nimport {ILoginAction, logIn} from \"../../redax/authReducer\";\r\nimport {useAppDispatch} from \"../../app/redax-store\";\r\nimport {CaptchaPage} from \"./steps/CaptchaPage\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport Loading from \"../users/loading\";\r\n\r\n\r\nexport interface ILocationState {\r\n   activeStep: number\r\n}\r\n\r\nexport let Login = () => {\r\n   let location = useLocation()\r\n   let state = location.state as ILocationState\r\n   if(!state) state = {activeStep: 0}\r\n   let error = useTypesSelector(state => state.auth.error)\r\n   let dispatch = useAppDispatch()\r\n   let navigate = useNavigate()\r\n   let captcha = useTypesSelector(state => state.auth.urlCaptcha)\r\n   let isLog = useTypesSelector(state => state.auth.isLog)\r\n   let myId = useTypesSelector(state => state.auth.userId)\r\n   let pending = useTypesSelector(state => state.auth.pending)\r\n\r\n   let [tabs,setTabs] = useState([\r\n      {title: \"Login\"},\r\n      {title: \"Password\"},\r\n      {title: \"Options\"}\r\n   ])\r\n\r\n   let submit = useCallback(async (data: ILoginAction) => {\r\n      dispatch(logIn(data))\r\n   },[])\r\n\r\n\r\n   useLayoutEffect(() => {\r\n      if(captcha && tabs.length === 3){\r\n         let path = location.pathname + location.search + location.hash\r\n         navigate(path, {state: {activeStep: 3}})\r\n         //@ts-ignore\r\n         setTabs(tabs => [...tabs, {\r\n            component: CaptchaPage,\r\n            title: \"captcha\"\r\n         }])\r\n      }\r\n   },[captcha,navigate])\r\n\r\n   useLayoutEffect(() => {\r\n      let path = location.pathname + location.search + location.hash\r\n      navigate(path, {state: {activeStep: 0}})\r\n   },[error])\r\n\r\n\r\n\r\n   let Component\r\n   if (state.activeStep === 0) {\r\n      Component = <LoginStep title={\"Login\"}/>\r\n   } else if (state.activeStep === 1) {\r\n      Component = <PasswordStep title={\"Password\"}/>\r\n   } else if (state.activeStep === 2) {\r\n      Component = <OptionsStep\r\n         title={\"Options\"}\r\n         genSubmit={submit}\r\n      />\r\n   } else if(state.activeStep === 3){\r\n      Component = <CaptchaPage title={\"Captcha\"} onGenSubmit={submit}/>\r\n   }\r\n\r\n\r\n   if(isLog){\r\n      return <Navigate to={myId ? `/profile/${myId}` : \"/login\"} replace={true} />\r\n   }\r\n\r\n   if(pending){\r\n      return <Loading />\r\n   }\r\n\r\n   return (\r\n      <Box>\r\n         <Stepper sx={{\r\n            p: 2\r\n         }} activeStep={state.activeStep}>\r\n            {tabs.map(({title},index) => {\r\n               let labelProps: {\r\n                  optional?: ReactNode\r\n                  error?: boolean\r\n               } = {}\r\n\r\n               if(error){\r\n                  if(state.activeStep <= index){\r\n                     labelProps.error = true\r\n                     labelProps.optional = <div>Исправьте ошибку</div>\r\n                  }\r\n               }\r\n               return <Step key={title}>\r\n                  <StepLabel {...labelProps}>{title}</StepLabel>\r\n               </Step>\r\n            })}\r\n            {}\r\n         </Stepper>\r\n         {Component || \"Произошла ошибка\"}\r\n      </Box>\r\n   )\r\n}","import {FC, memo} from \"react\";\r\nimport {IMessage} from \"../../dal/chat-api\";\r\nimport {Avatar, Box, Link} from \"@mui/material\";\r\nimport img from \"./../../asserts/1024px-User-avatar.svg.png\"\r\n\r\ntype messagePropsType = {\r\n   item: IMessage\r\n}\r\n\r\n let Message: FC<messagePropsType> = ({item}) => {\r\n   return (\r\n      <Box sx={{\r\n         display: \"flex\",\r\n         \":not(:first-child)\":{\r\n            marginTop: \"15px\",\r\n         }\r\n\r\n      }}>\r\n         <Box sx={{\r\n            flex: \"0 1 auto\"\r\n         }}>\r\n            <Avatar sx={{\r\n               marginRight: \"5px\"\r\n            }} sizes={\"small\"} src={item.photo || img}/>\r\n         </Box>\r\n         <Box>\r\n            <Link sx={{\r\n               display: \"block\",\r\n               marginBottom: \"5px\"\r\n            }} href={`/profile/${item.userId}`}>{item.userName}</Link>\r\n\r\n            <Box sx={{}}>\r\n               {item.message}\r\n            </Box>\r\n         </Box>\r\n      </Box>\r\n   )\r\n}\r\n\r\nexport default memo(Message)","import Message from \"./massage\";\r\nimport profileStyle from \"./../profile/profile.module.css\";\r\nimport React, {FC, useEffect, useRef, useState} from \"react\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {cleanState, startListeningMessage, stopListeningMessage} from \"../../redax/dialogsReducer\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {ChatApi} from \"../../dal/chat-api\";\r\nimport {Box, Button, TextField} from \"@mui/material\";\r\nimport {Discklamer} from \"../profile/Profile\";\r\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\r\n\r\nlet submitForm: (data: { message: string }) => void = (data) => {\r\n   if (!data.message) return\r\n   ChatApi.sendMessage(data.message)\r\n}\r\n\r\nexport let Dialogs: FC = () => {\r\n   let messages = useTypesSelector(state => state.dialogsPage.message)\r\n   let status = useTypesSelector(state => state.dialogsPage.status)\r\n   let isScroll = useRef<boolean>(true)\r\n   let prevScroll = useRef<number>(0)\r\n   let chat = useRef<HTMLElement>(null)\r\n   let isInitialize = useTypesSelector(state => state.auth.isLog)\r\n   let [isScrollSt,setIsScrollSt] = useState<boolean>(true)\r\n\r\n   let dispatch = useDispatch()\r\n   useEffect(() => {\r\n      if(isInitialize) {\r\n         dispatch(startListeningMessage())\r\n         return () => {\r\n            dispatch(stopListeningMessage())\r\n            dispatch(cleanState())\r\n         }\r\n      }\r\n   }, [])\r\n\r\n\r\n   let scroll = (useRef?: true) => {\r\n      let tmp = chat.current\r\n      let flag = isScroll.current\r\n      if(useRef) flag = true\r\n      if (flag && tmp && tmp.scrollHeight !== tmp.offsetHeight + tmp.scrollTop) {\r\n         prevScroll.current = tmp.scrollTop\r\n         tmp.scrollBy({\r\n            top: tmp.scrollHeight - tmp.offsetHeight - tmp.scrollTop,\r\n            left: 100,\r\n            behavior: 'smooth'\r\n         });\r\n      }\r\n   }\r\n\r\n\r\n   useEffect(() => {\r\n   //подписываемся на событие сролла в контейнере сообщений\r\n\r\n      let handler = (event: any) => {\r\n         // defaultValue isScroll.current === false\r\n         let tmp = event.target\r\n\r\n\r\n         if (prevScroll.current > tmp.scrollTop ) {\r\n         //если проскроллили вверх\r\n\r\n            setIsScrollSt(false)\r\n\r\n            //отключаем автоскролл\r\n            isScroll.current = false\r\n\r\n         }else{\r\n         //если проскролли вниз\r\n\r\n\r\n             setIsScrollSt(true)\r\n\r\n            //еcли доскролили до конца\r\n            if(tmp.scrollHeight === (tmp.scrollTop + tmp.offsetHeight)){\r\n               setIsScrollSt(false)\r\n               //включаем автоскролл\r\n               isScroll.current = true\r\n            }\r\n         }\r\n         prevScroll.current = event.target.scrollTop\r\n      }\r\n\r\n      chat.current?.addEventListener(\"scroll\", handler)\r\n      return () => {\r\n         chat.current?.removeEventListener(\"scroll\", handler)\r\n      }\r\n   }, [])\r\n\r\n   useEffect(() => {\r\n      // при появлении новых сообщений\r\n      //если скролл разрешен и не проскроленно до конца - скролим до конца\r\n      scroll()\r\n   }, [messages])\r\n   console.log(\"Rerender\")\r\n\r\n   if (isInitialize === false){\r\n      return <Discklamer/>\r\n   }\r\n\r\n   return (\r\n      <Box sx={{\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         flex: \"1 1 auto\",\r\n         \"@media (min-height: 500px)\": {\r\n            maxHeight: \"calc(100vh - 130px)\"\r\n         },\r\n         backgroundColor: \"#ffffff\",\r\n         padding: {\r\n            sm: \"0 10px\",\r\n         },\r\n         position: \"relative\"\r\n      }}>\r\n         <Box\r\n            ref={chat}\r\n            sx={{\r\n               flex: \"1 1 auto\",\r\n               overflowY: \"auto\",\r\n               \"@media (max-height: 500px)\": {\r\n                  flexGrow: 0,\r\n                  flexShrink: 1,\r\n                  flexBasis: \"279px\"\r\n               },\r\n               padding: \"10px 0\",\r\n               display: \"flex\",\r\n               flexDirection: \"column\"\r\n            }}>\r\n            <Box sx={{flex: \"1 1 auto\"}}/>\r\n            {\r\n               messages.map(item => <Message key={item.id} item={item}/>)\r\n            }\r\n         </Box>\r\n         <ArrowDownwardIcon\r\n            onClick={() => {\r\n               console.log(\"Вызов фугкции из обработчика\")\r\n               scroll(true)\r\n            }}\r\n            sx={{\r\n            fontSize: \"40px\",\r\n            position: \"absolute\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: \"50%\",\r\n            border: \"1px solid gray\",\r\n            bottom: \"85px\",\r\n            right:\"15px\",\r\n            \"@media (any-hover: hover)\": {\r\n               right: isScrollSt ? \"45px\" : \"15px\",\r\n            },\r\n            \"@media (any-hover: none)\": {\r\n               right: isScrollSt ? \"20px\" : \"0px\",\r\n            },\r\n            transition: \"all 0.3s ease 0s\",\r\n            opacity: isScrollSt ? \"1\": \"0\",\r\n            visibility: isScrollSt ? \"visible\": \"hidden\"\r\n         }}/>\r\n         <DialogForm ready={!(status === \"ready\")} submitForm={submitForm}/>\r\n      </Box>\r\n   )\r\n}\r\n\r\ninterface DialogForm {\r\n   submitForm: (data: { message: string }) => void\r\n   ready: boolean\r\n}\r\n\r\nlet DialogForm: FC<DialogForm> = ({submitForm, ready}) => {\r\n   let {handleSubmit, register, reset, formState: {errors}} = useForm<{ message: string }>()\r\n   return (\r\n      <Box sx={{\r\n         flex: \"0 0 70px\",\r\n         backgroundColor: \"#706f6f\",\r\n         display: \"flex\",\r\n         alignItems: \"center\",\r\n         margin: \"0 -10px\"\r\n\r\n      }} component={\"form\"} onSubmit={handleSubmit((data: { message: string }) => {\r\n         if (data.message === \"\") return\r\n         submitForm(data)\r\n         reset()\r\n      })}>\r\n\r\n         <TextField\r\n\r\n            size={\"small\"}\r\n            error={!!errors.message}\r\n            helperText={!!errors.message && errors.message.message}\r\n            sx={{\r\n               flex: \"1 1 auto\",\r\n               marginLeft: \"10px\",\r\n            }}\r\n            placeholder={\"Введи свое сообщение\"}\r\n            {...register(\"message\", {\r\n               maxLength: {\r\n                  value: 50,\r\n                  message: \"Пожалуйста поменьше букв\"\r\n               }\r\n            })} className={profileStyle.textarea}\r\n         />\r\n         <Button type={\"submit\"} sx={{\r\n            margin: \"0 10px\"\r\n         }} variant={\"contained\"} disabled={ready}>send</Button>\r\n      </Box>\r\n   )\r\n}\r\n\r\n","import {FC} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Box, Button, Link, Typography} from \"@mui/material\";\r\nimport img from \"./../../asserts/1024px-User-avatar.svg.png\"\r\nimport {followUser, unfollowUser} from \"../../redax/usersReducer\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\n\r\ninterface IUserProps {\r\n   id: number\r\n}\r\n\r\n\r\nexport let User: FC<IUserProps> = ({id}) => {\r\n   let dispatch = useDispatch()\r\n   let {\r\n      name,\r\n      status,\r\n      followed,\r\n      photos: {small, large},\r\n      pendingFollow: isDisabledBtn\r\n   } = useTypesSelector(state => state.usersPage.users[id])\r\n\r\n\r\n   const contentBtn = followed ? \"Unfollow\" : \"Follow\"\r\n   let btnHandler = (id: number) => {\r\n      let tmp = followed ? unfollowUser : followUser\r\n      dispatch(tmp(id))\r\n   }\r\n\r\n   return <Box\r\n      sx={{\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         alignItems: \"start\",\r\n         bgcolor: \"background.paper\",\r\n         \":hover\": {\r\n            boxShadow: 10,\r\n         },\r\n         \"@media (any-hover: hover)\": {\r\n            \":hover .userConCont\": {\r\n               visibility: \"visible\",\r\n               opacity: 1,\r\n            },\r\n         },\r\n         \"@media (any-hover: none)\": {\r\n            \".userConCont\": {\r\n               visibility: \"visible\",\r\n               opacity: 1,\r\n            },\r\n         },\r\n         borderRadius: 3,\r\n         position: \"relative\"\r\n      }}\r\n   >\r\n      <Box sx={{\r\n         position: \"relative\",\r\n         width: \"100%\",\r\n         height: \"180px\",\r\n      }}>\r\n         <Box component={\"img\"} src={large || small || img} sx={{\r\n            position: \"absolute\",\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            objectFit: \"cover\",\r\n            top: 0,\r\n            left: 0,\r\n            borderRadius: 3,\r\n         }}/>\r\n      </Box>\r\n      <Box className={\"userConCont\"} sx={{\r\n         position: \"absolute\",\r\n         top: 0,\r\n         left: 0,\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         padding: 1,\r\n         visibility: \"hidden\",\r\n         opacity: 0,\r\n         bgcolor: \"rgba(0,0,0,0.7)\",\r\n         width: \"100%\",\r\n         height: \"100%\",\r\n         boxSizing: \"border-box\",\r\n         borderRadius: 3,\r\n         transition: \"opacity 0.3s ease 0s\"\r\n      }}>\r\n         <Link sx={{flexGrow: status ? 0 : 1}} href={'/profile/' + id}>\r\n            <Typography\r\n               sx={{\r\n                  color: \"common.white\",\r\n                  marginBottom: 1,\r\n                  lineHeight: 1.1\r\n               }}\r\n               variant={\"body2\"}\r\n            >{name}</Typography>\r\n         </Link>\r\n         {status && <Typography\r\n            sx={{\r\n               color: \"common.white\",\r\n               flexGrow: 1,\r\n               overflow: \"hidden\",\r\n               lineHeight: 1.1\r\n            }}\r\n            variant={\"body2\"}>{status}\r\n         </Typography>}\r\n\r\n         <Button\r\n            onClick={() => btnHandler(id)}\r\n            sx={{\r\n               opacity: 1,\r\n               justifySelf: \"end\",\r\n               pt: 1\r\n            }}\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            disabled={isDisabledBtn}>\r\n            {contentBtn}\r\n         </Button>\r\n      </Box>\r\n   </Box>\r\n}","import { Pagination } from \"@mui/material\";\r\nimport React, { FC, memo } from \"react\";\r\nimport { currentPageSelector, setCurrentPage, usersPerPageSelector } from \"../../redax/usersReducer\";\r\nimport { useAppDispatch, useTypesSelector } from \"../../app/hooks\";\r\n\r\nlet MyPaginationWOMemo: FC = () => {\r\n   let totalUsersCount = useTypesSelector(state => state.usersPage.totalUsersCount)\r\n   let currentPage = useTypesSelector(currentPageSelector)\r\n   let usersPerPage = useTypesSelector(usersPerPageSelector)\r\n   let dispatch = useAppDispatch()\r\n\r\n   return <Pagination\r\n      sx={{\r\n         mt: 1,\r\n         mb: 1,\r\n         \"> ul\": {\r\n            justifyContent: \"center\",\r\n         }\r\n      }}\r\n      siblingCount={0}\r\n      boundaryCount={1}\r\n      page={currentPage}\r\n      count={Math.ceil(totalUsersCount / usersPerPage)}\r\n      variant=\"outlined\"\r\n      onChange={(_, page: number) => {\r\n         dispatch(setCurrentPage(page))\r\n      }}\r\n      shape=\"rounded\" />\r\n}\r\n\r\nexport let MyPagination = memo(MyPaginationWOMemo)","import React, {FC, memo, useEffect} from \"react\";\r\nimport {Box, Button, LinearProgress, NativeSelect, styled, TextField} from \"@mui/material\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {useAppDispatch} from \"../../app/redax-store\";\r\nimport {\r\n   applyFilters,\r\n   currentPageSelector,\r\n   friendSelector,\r\n   getUsers,\r\n   ISearchFilters,\r\n   termSelector,\r\n   usersPerPageSelector\r\n} from \"../../redax/usersReducer\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport {useSearchParams} from \"react-router-dom\";\r\nimport {friendUnion} from \"../../dal/api\";\r\n\r\nlet UsersFormElement = styled(\"form\")(({ theme }) => ({\r\n   flex: \"1 1 auto\",\r\n   display: \"flex\",\r\n   flexWrap: \"wrap\",\r\n   alignItems: \"center\",\r\n   [theme.breakpoints.up('sm')]: {\r\n      flexWrap: \"noWrap\",\r\n   },\r\n   [theme.breakpoints.down('sm')]: {\r\n      height: \"120px\"\r\n   }\r\n\r\n}))\r\n\r\ninterface ISearchParams extends Partial<Record<string, string>> {\r\n   term?: string;\r\n   friend?: string;\r\n   currentPage?: string;\r\n   count?: string;\r\n}\r\n\r\n\r\nlet splitParams = (searchParams: URLSearchParams, tmp: ISearchParams) => {\r\n   searchParams.forEach((value, key) => {\r\n      tmp[key] = value\r\n   })\r\n}\r\n\r\n\r\nlet UsersFormWoMemo: FC = () => {\r\n   let usersPerPage = useTypesSelector(usersPerPageSelector)\r\n   let currentPage = useTypesSelector(currentPageSelector)\r\n   let friend = useTypesSelector(friendSelector)\r\n   let term = useTypesSelector(termSelector)\r\n   let isLoading = useTypesSelector(state => state.usersPage.isLoading)\r\n\r\n   let { handleSubmit, formState: { errors }, register, reset } = useForm<ISearchFilters>()\r\n\r\n\r\n   let dispatch = useAppDispatch()\r\n\r\n   let [searchParams, setSearchParams] = useSearchParams()\r\n\r\n   let onSubmit = (data: ISearchFilters) => {\r\n      dispatch(applyFilters(data))\r\n   }\r\n\r\n   useEffect( () => {\r\n      // if search params string !== \"\" apply search params\r\n      let paramsObject: ISearchParams = {}\r\n      splitParams(searchParams, paramsObject)\r\n      let actualPage = currentPage\r\n      let friendURI = friend\r\n      let termURI = term\r\n      let count = usersPerPage\r\n\r\n      let flag = false\r\n\r\n      if (paramsObject.currentPage &&\r\n         Number(paramsObject.currentPage) !== actualPage &&\r\n         !!Number(paramsObject.currentPage)) {\r\n         flag = true\r\n         actualPage = Number(paramsObject.currentPage)\r\n      }\r\n      if (paramsObject.term &&\r\n         paramsObject.term !== termURI) {\r\n         flag = true\r\n         termURI = paramsObject.term\r\n      }\r\n      if (paramsObject.friend &&\r\n         paramsObject.friend !== friendURI) {\r\n         flag = true\r\n         friendURI = paramsObject.friend as friendUnion\r\n      }\r\n      if (paramsObject.usersPerPage &&\r\n         Number(paramsObject.usersPerPage) !== count &&\r\n         !!Number(paramsObject.usersPerPage)) {\r\n         flag = true\r\n         count = Number(paramsObject.usersPerPage)\r\n      }\r\n      if (flag) {\r\n         dispatch(\r\n            applyFilters({\r\n               term: termURI,\r\n               friend: friendURI,\r\n               currentPage: actualPage,\r\n               usersPerPage: count\r\n            })\r\n         )\r\n\r\n      }\r\n\r\n   }, [])\r\n\r\n   useEffect(() => {\r\n      let tmp = new URLSearchParams()\r\n\r\n      if (term) tmp.append(\"term\", term)\r\n      if (friend) tmp.append(\"friend\", friend)\r\n      if (currentPage) tmp.append(\"currentPage\", String(currentPage))\r\n      if (usersPerPage) tmp.append(\"usersPerPage\", String(usersPerPage))\r\n      setSearchParams(tmp, { replace: true })\r\n      dispatch(getUsers())\r\n      reset({\r\n         friend: friend,\r\n         usersPerPage: usersPerPage,\r\n         term: term\r\n      })\r\n   }, [currentPage, usersPerPage, term, friend])\r\n\r\n   return <Box\r\n      sx={{\r\n         display: \"flex\",\r\n         pt: 1,\r\n         pb: 1,\r\n\r\n      }}>\r\n      {isLoading ? <LinearProgress sx={{ flex: \"1 1 auto\" }} /> :\r\n         <UsersFormElement onSubmit={handleSubmit(onSubmit)}>\r\n            <NativeSelect\r\n               sx={{\r\n                  mr: 1,\r\n                  ml: 1,\r\n                  flex: {\r\n                     sm: \"0 0 80px\",\r\n                     xs: \"1 1 auto\"\r\n                  }\r\n               }}\r\n               {...register(\"friend\",{value: friend})}\r\n\r\n            >\r\n               <option value=\"\">All</option>\r\n               <option value=\"true\">Friend</option>\r\n               <option value=\"false\">No friend</option>\r\n            </NativeSelect>\r\n\r\n            <NativeSelect\r\n               sx={{\r\n                  mr: 1,\r\n                  flex: {\r\n                     sm: \"0 0 50px\",\r\n                     xs: \"1 1 auto\"\r\n                  },\r\n                  width: \"50px\",\r\n               }}\r\n               {...register(\"usersPerPage\",{value: usersPerPage})}\r\n\r\n            >\r\n               {[5, 10, 15, 20, 25].map(item => <option key={item} value={item}>{item}</option>)}\r\n            </NativeSelect>\r\n\r\n            <TextField\r\n               error={!!errors.term}\r\n               helperText={errors.term && errors.term.message}\r\n               sx={{\r\n                  mr: 1,\r\n                  flex: \"1 1 auto\"\r\n               }}\r\n               fullWidth\r\n               label=\"search\"\r\n               id=\"search\"\r\n               size=\"small\"\r\n               {...register(\"term\", {\r\n                  maxLength: {\r\n                     value: 15,\r\n                     message: \"Слишком много букв\"\r\n                  }\r\n               }\r\n               )} />\r\n\r\n            <Button\r\n               sx={{\r\n                  borderRadius: 1,\r\n                  pr: 5,\r\n                  pl: 5,\r\n                  height: {\r\n                     sm:\"100%\"\r\n                  }\r\n               }}\r\n               size=\"small\"\r\n               variant=\"contained\"\r\n               type={\"submit\"}>Submit\r\n\r\n            </Button>\r\n         </UsersFormElement>}\r\n   </Box>\r\n\r\n}\r\n\r\nexport let UsersForm = memo(UsersFormWoMemo)","import {useTypesSelector} from \"../../app/hooks\";\r\nimport React, {FC} from \"react\";\r\nimport {Box, Typography} from '@mui/material';\r\nimport {User} from \"./User\";\r\nimport {MyPagination} from \"./MyPagination\";\r\nimport {UsersForm} from \"./UsersForm\";\r\nimport {Discklamer} from \"../profile/Profile\";\r\n\r\n\r\nexport let Users: FC = () => {\r\n   let usersId = useTypesSelector(state => state.usersPage.usersID)\r\n   let isInitialize = useTypesSelector(state => state.auth.isLog)\r\n\r\n   if (isInitialize === false){\r\n      return <Discklamer />\r\n   }\r\n   return (\r\n      <>\r\n         <UsersForm/>\r\n         <Box sx={{\r\n            display: \"grid\",\r\n            gridTemplate: \"1fr/repeat(auto-fill, minmax(150px, 1fr))\",\r\n            gap: 2,\r\n         }}>\r\n            {usersId.map(item => <User id={item} key={item} />)}\r\n         </Box>\r\n         <MyPagination />\r\n      </>\r\n   )\r\n}\r\n\r\n","import {Outlet} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {Box} from \"@mui/material\";\r\n\r\nexport let Wrapper = () => {\r\n   // let location = useLocation()\r\n   // let isAuth = useTypesSelector(state => state.auth.isLog)\r\n   // if (!isAuth && location.pathname !== \"/login\") return <Navigate to={\"/login\"} replace={true} />\r\n\r\n   return <Box\r\n      component={\"main\"}\r\n      sx={{\r\n         flex: \"1 1 auto\",\r\n         display: \"flex\",\r\n         paddingTop: \"70px\"\r\n      }}\r\n   >\r\n      <Box\r\n         sx={{\r\n            margin: \"0 auto\",\r\n            maxWidth: {\r\n               xs: \"100%\",\r\n               sm: 600,\r\n               md: 800,\r\n               lg: 1000,\r\n               xl: 1200,\r\n            },\r\n            padding: {\r\n               sm: \"0 10px\",\r\n               xs: \"0 5px\"\r\n            },\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            flex: \"1 1 auto\",\r\n         }}\r\n      >\r\n         <Outlet />\r\n      </Box>\r\n   </Box>\r\n}","import {Box, Button, Typography} from \"@mui/material\";\r\nimport styled from \"@emotion/styled\";\r\nimport {useAppDispatch} from \"../../app/redax-store\";\r\nimport {logout} from \"../../redax/authReducer\";\r\n\r\nlet FooterComponent = styled(\"footer\")(({theme}) => ({\r\n   width: \"100%\",\r\n   height: \"60px\",\r\n   backgroundColor: \"gray\"\r\n}))\r\n\r\nexport let Footer = () => {\r\n   let dispatch = useAppDispatch()\r\n\r\n   return <FooterComponent>\r\n      <Box sx={{\r\n         maxWidth: {\r\n            xs: \"100%\",\r\n            sm: 600,\r\n            md: 800,\r\n            lg: 1000,\r\n            xl: 1200,\r\n         },\r\n         height: \"100%\",\r\n         margin: \"0 auto\",\r\n         padding: {\r\n            sm: \"0 10px\",\r\n            xs: \"0 5px\"\r\n         },\r\n      }}>\r\n         <Box sx={{\r\n            display: \"flex\",\r\n            justifyContent: {\r\n               sm: \"space-around\",\r\n               xs: \"space-between\"\r\n            },\r\n            alignItems: \"center\",\r\n            backgroundColor: \"#d3d3d3\",\r\n            height: \"100%\",\r\n            padding: \"0 10px\"\r\n         }}>\r\n            <Typography\r\n               sx={{\r\n                  color: \"##d3d3d3\",\r\n                  overflow: \"hidden\",\r\n                  textOverflow: \"ellipsis\",\r\n                  whiteSpace: \"nowrap\"\r\n               }} variant={\"body1\"}>\r\n               CC kkdras - Kozlov Konstantin\r\n            </Typography>\r\n            <Button href={\"/login\"} sx={{\r\n               marginLeft: \"5px\"\r\n            }} variant={\"outlined\"} onClick={() => dispatch(logout())}>\r\n               Logout\r\n            </Button>\r\n         </Box>\r\n      </Box>\r\n   </FooterComponent>\r\n}","import React, {useEffect} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {HashRouter, LinkProps as RouterLinkProps, NavLink as RouterLink, Route, Routes} from \"react-router-dom\";\r\nimport {NotFound, Profile, ProfileRedirect} from \"./components/profile/Profile\";\r\nimport {HeaderContainer} from \"./components/header/headerContainer\";\r\nimport {Login} from \"./components/login/login\";\r\nimport Loading from \"./components/users/loading\";\r\nimport {Dialogs} from \"./components/dilogs/dialogs\"\r\nimport {useTypesSelector} from \"./app/hooks\";\r\nimport {getLogUserInfo} from \"./redax/authReducer\";\r\nimport {Users} from \"./components/users/Users\";\r\nimport {Wrapper} from \"./Wrapper\";\r\nimport {LinkProps} from '@mui/material/Link';\r\nimport {createTheme, ThemeProvider} from \"@mui/material\";\r\nimport {Footer} from \"./components/footer/Footer\";\r\n\r\nconst LinkBehavior = React.forwardRef<any,\r\n   Omit<RouterLinkProps, 'to'> & { href: RouterLinkProps['to'] }>((props, ref) => {\r\n   const {href, ...other} = props;\r\n   // Map href (MUI) -> to (react-router)\r\n   return <RouterLink data-testid=\"custom-link\" ref={ref} to={href} {...other} />;\r\n});\r\n\r\nconst theme = createTheme({\r\n   components: {\r\n      MuiLink: {\r\n         defaultProps: {\r\n            component: LinkBehavior,\r\n         } as LinkProps,\r\n      },\r\n      MuiButtonBase: {\r\n         defaultProps: {\r\n            LinkComponent: LinkBehavior,\r\n         },\r\n      },\r\n   },\r\n});\r\n\r\nexport let App = () => {\r\n   let isInitialize = useTypesSelector(state => state.auth.isLog)\r\n\r\n   let dispatch = useDispatch()\r\n\r\n   useEffect(() => {\r\n      dispatch(getLogUserInfo())\r\n   }, [])\r\n\r\n   if (isInitialize === null) {\r\n      return <Loading />\r\n   }\r\n\r\n   return <ThemeProvider theme={theme}>\r\n      <HashRouter>\r\n         <HeaderContainer/>\r\n         <Routes>\r\n            <Route path={\"/\"} element={<Wrapper/>}>\r\n               <Route path={\"dialogs\"} element={<Dialogs/>}/>\r\n               <Route path={\"profile/:userId\"} element={<Profile/>}/>\r\n               <Route path={\"profile\"} element={<ProfileRedirect/>}/>\r\n               <Route path={\"users\"} element={<Users/>}/>\r\n               <Route path={\"login\"} element={<Login/>}/>\r\n               <Route path={\"*\"} element={<NotFound/>}/>\r\n               <Route index element={<ProfileRedirect/>}/>\r\n            </Route>\r\n         </Routes>\r\n         {isInitialize && <Footer/>}\r\n      </HashRouter>\r\n   </ThemeProvider>\r\n}\r\n","import React from 'react';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from \"react-dom/client\";\r\nimport {App} from \"./App\";\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./app/redax-store\";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n   <Provider store={store}>\r\n      <App/>\r\n   </Provider>,\r\n)\r\n\r\n\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile__banner\":\"profile_profile__banner__2fPc_\",\"profile\":\"profile_profile__2oUyy\",\"profile__post\":\"profile_profile__post__2cPhc\",\"infoWrapper\":\"profile_infoWrapper__QPz2C\",\"infoText\":\"profile_infoText___hl0a\",\"addPost\":\"profile_addPost__1_EtF\",\"add\":\"profile_add__12cU3\",\"texarea\":\"profile_texarea__2XP2v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users__container\":\"users_users__container__uY6zT\",\"userWrapper\":\"users_userWrapper__34afh\",\"userLeft\":\"users_userLeft__1iX1p\",\"userImage\":\"users_userImage__337Zj\",\"userButton\":\"users_userButton__2T06l\",\"userRight\":\"users_userRight__342uH\",\"userRL\":\"users_userRL__G1l9p\",\"userRR\":\"users_userRR__1npk5\",\"userName\":\"users_userName__3_Avc\",\"activeCurrentPagination\":\"users_activeCurrentPagination__2RWbg\",\"loadingContainer\":\"users_loadingContainer__3QPAo\"};"],"sourceRoot":""}