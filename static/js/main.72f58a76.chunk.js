(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{107:function(e,t,n){e.exports={loginWrapper:"login_loginWrapper__fnGzZ",fieldError:"login_fieldError__2A8rS"}},123:function(e,t,n){},155:function(e,t,n){"use strict";n.r(t);var r,a,s=n(0),o=n.n(s),i=(n(123),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,218)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),s(e),o(e)}))}),c=n(100),u=n.n(c),A=n(5),l=n(49),d=n(21),b=n(44),f=n(17),p=n(10),j=n(18),h=n(101),g=n.n(h).a.create({withCredentials:"true",baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"2a53a8d7-9713-4730-bda2-40c41c92534f"}});!function(e){e[e.NeedCaptcha=10]="NeedCaptcha"}(r||(r={})),function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(a||(a={}));var x={getLogUser:function(){return g.get("auth/me").then((function(e){return e.data}))},login:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return g.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},logout:function(){return g.delete("auth/login").then((function(e){return e.data}))},getCaptcha:function(){return g.get("/security/get-captcha-url")}},m={getUsers:function(e,t,n,r){var a="users?page=".concat(e,"&count=").concat(t);return n&&(a+="&term=".concat(n)),r&&(a+="&friend=".concat(r)),g.get(a).then((function(e){return e.data}))},unfollowUser:function(e){return g.delete("follow/".concat(e)).then((function(e){return e.data}))},followUser:function(e){return g.post("follow/".concat(e)).then((function(e){return e.data}))}},O={getUserProfile:function(e){return g.get("profile/"+e).then((function(e){return e}))},getStatus:function(e){return g.get("profile/status/".concat(e))},setStatus:function(e){return g.put("profile/status",{status:e})},setPhoto:function(e){var t=new FormData;return t.append("image",e),g.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},setDescription:function(e){return g.put("profile",e).then((function(e){return e.data}))}},v=n(19),w=Object(v.c)({name:"auth",initialState:{userId:null,email:null,login:null,isLog:null,urlCaptcha:null,photos:null},reducers:{setUserInfo:function(e,t){return Object(A.a)(Object(A.a)({},e),t.payload)},setUserPhotos:function(e,t){e.photos=t.payload},setCaptcha:function(e,t){e.urlCaptcha=t.payload}},extraReducers:function(){}}),y=w.reducer,C=w.actions,k=C.setUserInfo,S=C.setCaptcha,P=C.setUserPhotos,B=Object(v.b)("auth/",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r,s,o,i,c,u,A;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.prev=1,e.next=4,x.getLogUser();case 4:if((s=e.sent).resultCode!==a.Error){e.next=7;break}throw new Error("\u0432\u044b\u043d\u0443\u0436\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430");case 7:return o=s.data,i=o.id,c=o.email,u=o.login,e.prev=8,e.next=11,O.getUserProfile(i).then((function(e){return e.data}));case 11:A=e.sent,r(P(A.photos)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),console.log("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438");case 18:r(k({userId:i,login:u,email:c,isLog:!0})),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(1),r(k({userId:null,email:null,login:null,isLog:!1}));case 24:case"end":return e.stop()}}),e,null,[[1,21],[8,15]])})));return function(t,n){return e.apply(this,arguments)}}()),E=Object(v.b)("auth/captcha",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.next=3,x.getCaptcha();case 3:a=e.sent,r(S(a.data.url));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),L=Object(v.b)("auth/login",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var s,o;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.dispatch,e.next=3,x.login(t.email,t.password,t.rememberMe,t.captcha);case 3:(o=e.sent).resultCode===a.Success?s(B()):o.resultCode===r.NeedCaptcha&&s(E());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),I=Object(v.b)("auth/logout",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.next=3,x.logout();case 3:e.sent.resultCode===a.Success&&r(k({userId:null,login:null,email:null,isLog:!1}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),F=n(102),Q=Object(v.c)({name:"profile",initialState:{userProfile:null,editMode:!1,submitButtonDisabled:!1,status:null,pendingStatus:!1},reducers:{togglePendingStatus:function(e){e.pendingStatus=!e.pendingStatus},setStatusProfile:function(e,t){e.status=t.payload},setUserPhoto:function(e,t){e.userProfile&&e.userProfile.photos&&(e.userProfile.photos=t.payload)},toggleSubmitButton:function(e){e.submitButtonDisabled=!e.submitButtonDisabled},toggleEditMode:function(e,t){Object(F.isBoolean)(t.payload)?e.editMode=t.payload:e.editMode=!e.editMode}},extraReducers:function(e){e.addCase(T.fulfilled,(function(e,t){console.log(t),e.userProfile=t.payload})).addCase(K.pending,(function(e){e.submitButtonDisabled=!e.submitButtonDisabled})).addCase(K.fulfilled,(function(e){e.submitButtonDisabled=!e.submitButtonDisabled})).addCase(K.rejected,(function(e){e.submitButtonDisabled=!e.submitButtonDisabled}))}}),W=Q.reducer,R=Q.actions,U=R.togglePendingStatus,H=R.setStatusProfile,M=R.setUserPhoto,N=(R.toggleSubmitButton,R.toggleEditMode),T=Object(v.b)("profile/getProfile",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getUserProfile(t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J=Object(v.b)("profile/getProfileStatus",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.dispatch)(U()),e.prev=2,e.next=5,O.getStatus(t);case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a={data:"Some error happen"};case 11:r(H(a.data)),r(U());case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Y=Object(v.b)("profile/updateProfileStatus",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.dispatch)(U()),e.next=4,O.setStatus(t);case 4:0===e.sent.data.resultCode&&(r(H(t)),r(U()));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),q=Object(v.b)("profile/setProfilePhoto",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.next=3,O.setPhoto(t);case 3:0===(a=e.sent).data.resultCode&&(r(M(a.data.data.photos)),r(P(a.data.data.photos)));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),K=Object(v.b)("profile/putProfileObject",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r,s,o;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,s=n.rejectWithValue,e.next=3,O.setDescription(t);case 3:if(1!==(o=e.sent).resultCode){e.next=6;break}return e.abrupt("return",s(o));case 6:return r(T(t.userId)),r(N()),e.abrupt("return",{messages:[],data:{},resultCode:a.Success});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),D=d.c,z=function(){return Object(d.b)()},G=n(65),V=n.n(G),Z=n(82),_=n.n(Z),X=n(1),$=function(){return Object(X.jsx)("div",{className:_.a.loadingContainer,children:Object(X.jsx)("img",{className:_.a.loadingGif,src:"data:image/gif;base64,R0lGODlhAAIAAvUAAAAAAAAAAHp6ej4+PsvLy11dXSEhIY2Njd3d3UxMTG5ubjIyMhAQEIeHh9bW1kZGRmVlZSkpKZqamuXl5VZWVgoKCoKCgtHR0XV1dTg4OBoaGgYGBn5+fkJCQs3NzWBgYCUlJZGRkeHh4VBQUHJycjY2NomJidra2ktLS2lpaS0tLZ2dnejo6FtbWxwcHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgAAACzMAMwAaABoAAAG/0CAcEgsGo/I5PAACRRMyqh0Sq1aj4eAVmu5er/gsJCy1T7E6LR6WN6u33BrWxuv24/zwH2vRCDAeWAlAnxeHoceDl6BVy1bJYVVDoiHJ1eMVVllGpFTlIiXc1cgop1Rn4eKVZhTTaWmSaiHcq9TeSqwfbKqtrVRjnOEuUmTqH+9bVSabWfDSrIeVKxKEXkhzkrFn5ZS00gpeQXYp7LIZebn40onu92+R8BtCurkqCJR3kUCeQv0UQjQ8L0rsiAPB3/1Ph1Dkm+IgjwJEEYRETBJQyF5AqyQGEUbJV5GLsYrk4KjlIp4BgKQkDHXiZdg2KECSaShgTwkwCRwYoWAz/9UX6DdA0MiDyQv4LbgmuIREbcqMlGFyQjFSooMcyB4guZh4dZPQ7+sGNBmhJUQKDLqOck1URWAiLyG4VCNThUyatdObOvzKTmaaZqUbJVXCwYqUdvKPTJhMSwMFQoHQHGlLaWwJgEIcCF5wIEvcC0D9jcyI4ODYhJz9avOVeHBappCc2zqoWQKdUK3HR2pg+QFn++oRsXalIXCqAvJBjVuZx6tsET8vExvDgoJ2BD49Mkb1ogtGqqqKyYx8mGJMBE2yMy+vfv38OPLn0+//pvhlj+1z9/2KX/L+/3HFQD4CTgLewZCU2CCASaIygUOSoVghJRcoBuFDVLYFQDLGZj/YYSA+SHiSy85YKKJF6QIYTQTqnjBiSaSeIKIfthn44045qjjjjz2yNEExWGDmT8ySXQIbbCcMB2L41GCJB8U2UPPTMN0yKQzq3WiJAFcPbnHhcTtEWV+2Pzn5RdWOtlkft15sSAlQTqTplNoSMflbpmNaVmcbOU3JEdvqvkWf2eK8GeS/LVJhJ7QKDoEUHCww2cRc7rVJ1csUKHbpFXoacWcX8lyaCzGiEFlp21NgR+nRoB5YFCiXuGqo0J8QqsRQoVRIJr6SWLiBF/gx1s5RygYU3qmoISrhEZMoGx8y3VH7BHLsYoQo8whMW2xsgAb35JxPcPsEbvC5+qV3PZKiWqp7+UqrrpIYPsqe8Jemi0xsliL5bbrUhKqv+xV+++8SdSb2bP93vsuWCYtd2at4yoh762RGDwwutnI8nAkCC+scEIA+5OvFfx2VHKZEdtLsMoYY9OUvo+m/I/MKENKMs0Zf0wPspXhHIWFPsYMb9BgnEz0zUMffYVsSodh53YbN32ECJPUyFEQACH5BAUKAAAALPoAzAA6ADgAhAAAAAAAAHV1dTU1Nc3NzVBQUN/f3xsbG4aGhkFBQdbW1ikpKdLS0mVlZeHh4RwcHImJiUpKSgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWnIAA4CqE4YqqubOu+rkPMswHfeL6W9Kz/QFaPFiwChz6j8oYkLJ+uJnSqklKp1is0q11yu8YvOCge/8rmHDrNRLKL63fULT/T6+o7vj3c5/t+fD2BgkSEL3GHiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChmAGkpaanqAECcqmtrQtvrrKnq2mzt6RsuLOwtruuCLq/qQWxAQ/IDwMJzBENzw0Q0hANKyEAIfkEBQoAAAAsCAHSACUASgCEAAAAAAAAdnZ2Pj4+zc3NWlpaJycn3d3djo6OUVFRbm5uFxcX1tbWOzs7fn5+SUlJYmJiLy8v5OTknJycBAQEQUFB0dHRXl5eKioq4eHhk5OTVlZWcnJyHh4e2tragYGBBc0gII4keRxlqq4qQ7wEK8+ABMN0Xt64rru8mC8XfA1pQB7qyDoUhczVUxJdeYqMqrSoVT093ZKTGyY9l2XAlZwGTNuA5C3btrHTX/g6CHcX0Wl2c30jY0aEJC5giIyNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpiwakRQUH44JqxQYDoywsBuEFbW1Cm0fur+8YQO/vw2zXRfEvxdlG8q6AmEIr8+rHRxhCg3Vqw/HWgoL3BQJzeMQaQ/cbRPDyn0OGL8FiAW1Bq4O9CIhACH5BAUKAAAALAgB5AAlAEoAhQAAAAAAAHR0dDw8PM3NzVpaWiUlJZKSkt7e3mpqakxMTDExMdbW1mBgYJmZmRAQEImJiSwsLOTk5HFxcVdXV35+fklJSdLS0l5eXisrK5SUlOHh4W5ublFRUTk5Odra2mVlZZ+fnxcXFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbWQIBwSCwaj0MGgYFsOosfglT6rBqj0ynTWpVkvwTuUwnOipHY8vRzhqrB7SHi/ZXEhWQ6AXEH5OlbcWl6fQB6U3yFc3RshUNvgY6PYHaSRX+JlkZSjZpHmZ6hoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8tQIBCaYQCwHFpQrFyR2jyc0BEKK/zgEDoyLTAQKiDtgPowXYIMzYIaIc2AqjGdgVohrYC6MU2Bzj06MJ2BijBtgHohDQfWNnr1mGUSCwkernjFTAZtVIgSt28JQBbX2CAAAh+QQFCgAAACz6APwAOgA4AIMAAAAAAACDg4PNzc1DQ0Pa2tpUVFSKiorV1dVfX1+Hh4fR0dHe3t5hYWEAAAAAAAAElBDISau9dejNux8FJo7YZ55kSp5sF6pw1s5DbEt0u9x2zjK8mM+ECAoHi+QCwWQWngWGlFE0Wq/YrHbL7Xq/4LB4TC6bz+i0es1uu9/wuHxOr9vv7YB+H6Dz935/fXOCg3KFgX+JfIuAhIKNepGGcYiPipeMmY6HkJuSn5Rwlp2YpZqnnHEGfwR0B38CdQoNAQmycxEAIfkEBQoAAAAs4gAKAUsAJACFAAAAAAAAdnZ2Q0NDzc3NWFhYHR0d3t7eZGRkoaGhT09PLCwsDQ0NgYGB1tbWY2Nj5OTkbm5uV1dXNjY2FxcXenp6S0tL0tLSX19fIiIi4uLiaWlpUFBQMzMzEhISiYmJ2traAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABuJAgHBILBqPyCRSo2w6n1AogXCIWq/YomM6rWa/YCSX6wibw+M06MyOHtLwdXsuhtu99Lxwa0+X9YB8fVxygHQag2qGeSCJY3hNCR+LTo2OBH9NAwERlE6Cg5lIDQGlARueTZdNE6alCw2pSRCJSgKuphOySm9wokYUuKWTu0qgBEoRwgEPxU8g0E3LAc5tCMsY1WcfyxnaZwrLFd9hFcsW5GEZy8TpWMrCqO5ZDMvzWRjL8vdWyx38VySIAxgFHq4CBKOEE5YwyrJODZ8I8xARikBXECs6MWCKg8YoDTx+dBIEACH5BAUKAAAALNEACgFKACQAhQAAAAAAAHZ2dj09Pc3NzVtbW5aWlt7e3i4uLkhISIWFhWlpaaKiotbW1hgYGERERGFhYZ2dnebm5jU1NVFRUY6Ojnt7e0JCQtLS0l9fX5ubm+Hh4U9PT4iIiHBwcKqqqtra2h4eHjs7OwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbgQIBwSCwSIx6jcslsOp/LRSAArVqvTsF0esF6v8+OaLutgM9oAIdM7qbfVQ97boHbl5XxnD24+4cQe2whCn9+UoJkC4Z3HSGJWwmMdxeQUxMGk3AKlgEOdZpvGp0ZoU8gBCBOE5APH6ZNBwSzBE6JCGawTLS8TQV7Sbq7vLQbTaxbFMJOqMSzWRAcDMtPzrOq1G8b1rXZbw3W2N5o3BLjaM3O5+TWB+tg29bvYODO4vNX3Phe6bwN+1i4GQNYJR6xfwSrcHOXEIq+hk/qEYPoUB1FJ7ImXnQisdvGJxjEBQEAIfkEBQoAAAAszAD8ADcAOACEAAAAAAAAdXV1NTU1zc3NUFBQ39/fGxsbhoaGQUFB1tbWKioq0tLSZWVl4eHhHBwciYmJSkpKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABZogAAhBaZ5oGohs675wu6g0Hd84S9b8mf+wnrAELLJmQ57RiEgql8WC0waFNhBYRGPbiCS+g4f4Qayaz+i0es1uu9/wuHxOr9vv+Lx+z+/7/4CBgoOEhYaHiIk3BIyNBIOOjZCRj4KUlYGXk5Gbjp2SlpSfjKOYgJqhnKmeq6CZoq2ksaZ/qK+qt6y5roAKsIEOkQaEBr4KwwAhACH5BAUKAAAALNEA5AAkAEoAhAAAAAAAAHZ2dj4+Ps3NzVlZWYqKit3d3SYmJmpqan9/f0lJSdbW1pOTky4uLmJiYuXl5XJychgYGHp6ekFBQdHR0V5eXo2NjeHh4SsrK25uboGBgVNTU9nZ2ZSUlDExMQXPIABQUyKeaKqu6RC8wcPOtGjBsBTVPPrhuIGix3MAgRwizXM8apQsTROI2EFVvymMYrimNlltoOBNTcQwQRlVQAcy6jUA7F7IRQ90/A7gTCl8KA1GQF2BKBs4MocqNwGMLBcmkJSVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytroEYGJoEBAyYB7S0HZa5vQeQuL25kMK5v4cdxbXEypAMyraHGMoEzMXHgcHF1sKyyNDcvc7Ku4zU49eMycXRh8/b4bqUzfPC5fW07ZUM+jQhACH5BAUKAAAALNEA0gAkAEoAhQAAAAAAAHp6ekJCQsvLy15eXt3d3R8fH21tbZKSklBQUNbW1omJiWVlZeXl5TMzMxMTE4GBgdLS0nV1dVhYWHx8fE5OTs3NzWJiYuHh4SIiInFxcZ6enlZWVtra2mlpaejo6DU1NRYWFgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbkQIBwSCwWEx+jcskcDgLQTnPKxECvG6qWeL1CtuDuVQHWWsTQMhWBDlDU0067Am+2H3VmoZ3MK9sBfkpsaH2CRBptDIdEAm0WjERnaAKRQgxtGpZCDW0FmwCAoIRiGKAiipsTbSGgIWIHCaARXXSgQk8Nt0Qctru/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbXwg4ewR4XF78eBATe35sZ5OgZlgvo7Yzh4+3kBn7n8vd57Pft9HDd++i2wckgDiC5PAbT1TGQ0Fu/gQ0XCJKQEMQhg+oY6Wsn0FJBbxJ3LRjpYFcQACH5BAUKAAAALMwAzAA3ADgAgwAAAAAAAIODg83NzURERNra2lVVVYyMjNXV1V9fX4eHh9HR0d7e3mFhYQAAAAAAAASbEMhJq704z9NCUloojltgmgKprpNxmgQrj+8531lt4nylB70g4CfsEYu4I3KmXLKaThU0StNRn9arNKut1rqkKfgiHvu4Zkw5LVmz3Wm4WT6ms+/4vH7P7/v/gIGCg4SFhoeIiYqLjI16BQORkpOUlQNUlpmaUZCanpNRn6KRUQujn1EMp55UCKuZYAgMswwFtgUIubkLvKaXThEAIfkEBQoAAAAs0QDSAEoAJACFAAAAAAAAenp6PT09y8vLWlpaISEhjY2N2traampqLCwsTExM0dHRYGBgm5ubGRkZiIiIKSkp4eHhcnJyNjY2V1dXBgYGf39/R0dHzc3NXFxcJSUlkJCQ3t7ebW1tMjIyUFBQ1tbWZGRknZ2dAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABuRAgHBILBqPyKRyOaQImNCodFoIWCnTrDZ7sHof27D4uPF6x2ixyHxOu6dsq+JNZ1bjz7re2I1j9oBECnEBHIGBCYQah4GEAYyAFYQekHoChB+Veh+EF5p0HoQLn3SOI6Rud2wJqGkOjkoIsq1LBoQTSQS6GRkhtEcThFhIIbzGvAi/RI4HScfPGR3KACMDbKNJDNDHvtMXg1ZLEtvGusnTa6xLCOTP0tNS7c8S8FEd8sbd9Uzs+Bnn+5YU8/cuYJJ7/vQZJLaLHMCFSQZugwhFQkNj9ChC6aBLl0KNTAaCzDILYhAAOw==",alt:""})})},ee=n(3),te=n(42),ne=function(e){for(var t="",n=!1,r=0;r<e.length;r++)"("===e[r]?n=!0:")"===e[r]?n=!1:n&&("("===e[r-1]?t+=e[r].toLowerCase():"-"===e[r]?t+="":">"===e[r]?t+=".":">"===e[r-1]?t+=e[r].toLowerCase():t+=e[r]);return t},re=n(6),ae=n(212),se=n(206),oe=n(199),ie=n(203),ce=n(208),ue=n(9),Ae=null,le=null,de=function(){var e,t,n,r;null===(e=Ae)||void 0===e||e.removeEventListener("open",be),null===(t=Ae)||void 0===t||t.removeEventListener("message",fe),null===(n=Ae)||void 0===n||n.removeEventListener("error",pe),null===(r=Ae)||void 0===r||r.removeEventListener("close",je)},be=function(){console.log("open"),he("ready")},fe=function(e){console.log("MESSAGE");var t=JSON.parse(e.data);xe["message-received"].forEach((function(e){return e(t)}))},pe=function(){console.log("error"),he("error")},je=function(){console.log("close"),he("pending"),le=setTimeout(ge,3e3)},he=function(e){xe["status-changed"].forEach((function(t){return t(e)}))},ge=function(){var e=Object(j.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:return e.next=4,null===(t=Ae)||void 0===t?void 0:t.close();case 4:return e.next=6,new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx");case 6:return Ae=e.sent,e.next=9,he("pending");case 9:return e.next=11,Ae.addEventListener("open",be);case 11:return e.next=13,Ae.addEventListener("close",je);case 13:return e.next=15,Ae.addEventListener("message",fe);case 15:return e.next=17,Ae.addEventListener("error",pe);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe={"status-changed":[],"message-received":[]},me=function(){console.log("start"),ge()},Oe=function(e,t){return xe[e].push(t),function(){xe[e]=xe[e].filter((function(e){return e!==t}))}},ve=function(e){var t;null===(t=Ae)||void 0===t||t.send(e)},we=function(){var e;xe["message-received"]=[],xe["status-changed"]=[],de(),null===(e=Ae)||void 0===e||e.close(),le&&clearTimeout(le)},ye=Object(v.c)({name:"dialogs",initialState:{status:"pending",message:[]},reducers:{responseMessage:{reducer:function(e,t){e.message=[].concat(Object(ue.a)(e.message),Object(ue.a)(t.payload))},prepare:function(e){return{payload:e.map((function(e){return e.id=Object(v.d)(),e}))}}},changeStatus:function(e,t){e.status=t.payload},cleanState:function(e){e.message=[]}}}),Ce=ye.reducer,ke=ye.actions.cleanState,Se=null,Pe=function(e){return null===Se&&(Se=function(t){e(ye.actions.responseMessage(t))}),Se},Be=null,Ee=function(e){return null===Be&&(Be=function(t){e(ye.actions.changeStatus(t))}),Be},Le=Object(v.b)("dialogs/startListenMessage",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.dispatch,me(),Oe("message-received",Pe(r)),Oe("status-changed",Ee(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ie=Object(v.b)("dialogs/stopListenMessage",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:we();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Fe=Object(v.c)({name:"users",initialState:{usersID:[],users:{},currentPage:1,totalUsersCount:0,usersPerPage:5,isLoading:!1,term:"",friend:""},reducers:{setCurrentPage:function(e,t){e.currentPage=t.payload},setTerm:function(e,t){e.term=t.payload},setFriend:function(e,t){e.friend=t.payload},setUsersOnPage:function(e,t){e.usersPerPage=t.payload},toggleLoading:function(e){e.isLoading=!e.isLoading},setUsers:function(e,t){t.payload.forEach((function(t){e.users[t.id]=t})),e.usersID=t.payload.map((function(e){return e.id}))},setTotalUsersCount:function(e,t){e.totalUsersCount=t.payload},followInProgress:function(e,t){e.users[t.payload.userId].pendingFollow=t.payload.isFetching},unfollow:function(e,t){e.users[t.payload].followed=!1},follow:function(e,t){e.users[t.payload].followed=!0}}}),Qe=Fe.reducer,We=Fe.actions,Re=We.setCurrentPage,Ue=We.setTerm,He=We.setFriend,Me=We.setUsersOnPage,Ne=We.toggleLoading,Te=We.setUsers,Je=We.setTotalUsersCount,Ye=We.followInProgress,qe=We.unfollow,Ke=We.follow,De=Object(v.b)("users/applyFilters",(function(e,t){var n=t.dispatch,r=(0,t.getState)().usersPage,a=r.term,s=r.friend,o=r.usersPerPage;a!==e.term&&n(Ue(e.term)),s!==e.friend&&n(He(e.friend)),o!==e.usersPerPage&&n(Me(+e.usersPerPage||1)),void 0!==e.currentPage?n(Re(+e.currentPage||1)):a===e.term&&s===e.friend&&o===e.usersPerPage||n(Re(1))})),ze=Object(v.b)("users/getUsers",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r,a,s,o,i,c,u,A;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,a=n.getState,s=a().usersPage,o=s.term,i=s.friend,c=s.currentPage,u=s.usersPerPage,r(Ne()),e.next=5,m.getUsers(c,u,o,i);case 5:A=e.sent,r(Ne()),r(Te(A.items)),r(Je(A.totalCount));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ge=(Object(v.b)("users/changePage",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r,a,s,o,i,c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,a=n.getState,s=a().usersPage,o=s.term,i=s.friend,r(Ne()),r(Re(t.pageNumber)),e.next=6,m.getUsers(t.pageNumber,t.count,o,i);case 6:c=e.sent,r(Ne()),r(Te(c.items));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Object(v.b)("users/unfollowUser",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.dispatch)(Ye({isFetching:!0,userId:t})),e.next=4,m.unfollowUser(t);case 4:0===e.sent.resultCode&&r(qe(t)),r(Ye({isFetching:!1,userId:t}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),Ve=Object(v.b)("users/followUser",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.dispatch)(Ye({isFetching:!0,userId:t})),e.next=4,m.followUser(t);case 4:0===e.sent.resultCode&&r(Ke(t)),r(Ye({isFetching:!1,userId:t}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ze=function(e){return e.usersPage.usersPerPage},_e=function(e){return e.usersPage.currentPage},Xe=function(e){return e.usersPage.friend},$e=function(e){return e.usersPage.term},et=Object(v.a)({reducer:{profilePage:W,dialogsPage:Ce,usersPage:Qe,auth:y}}),tt=function(){return Object(d.b)()},nt=Object(re.a)("form")((function(e){var t,n=e.theme;return t={p:1,border:"1px solid theme.palette.text.secondary"},Object(ee.a)(t,n.breakpoints.up("md"),{display:"grid",gridTemplateColumns:"1fr 1fr",gridAutoRows:"auto",gap:10}),Object(ee.a)(t,"> *",Object(ee.a)({},n.breakpoints.down("md"),{":not(:last-child)":{marginBottom:"15px"}})),t})),rt=function(e,t){var n=[];e.forEach((function(e){n.push({type:"manual",name:ne(e),message:e.split("(")[0]})})),n.forEach((function(e){var n=e.name,r=e.type,a=e.message;return t(n,{type:r,message:a})}))},at=function(){var e,t,n,r,a,s,o,i,c,u,l,d,b,f,h,g,x,m,O,v,w,y,C,k,S=Object(te.a)(),P=S.register,B=S.setError,E=S.handleSubmit,L=S.formState.errors,I=tt(),F=D((function(e){return e.profilePage.submitButtonDisabled})),Q=D((function(e){return e.auth.userId})),W=D((function(e){return e.profilePage.userProfile})),R=function(){var e=Object(j.a)(Object(p.a)().mark((function e(t){var n,r,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("number"===typeof Q){e.next=2;break}return e.abrupt("return");case 2:return t.userId=Q,e.next=5,I(K(t));case 5:n=e.sent,K.rejected.match(n)&&(a=null===(r=n.payload)||void 0===r?void 0:r.messages)&&rt(a,B);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(X.jsxs)(nt,{onSubmit:E(R),children:[Object(X.jsxs)(ae.a,{fullWidth:!0,children:[Object(X.jsx)(se.a,{variant:"standard",htmlFor:"lookingForAJob",children:"Looking for a job"}),Object(X.jsxs)(oe.a,Object(A.a)(Object(A.a)({},P("lookingForAJob",{deps:["lookingForAJobDescription"]})),{},{defaultValue:!(null===W||void 0===W||!W.lookingForAJob),inputProps:{name:"lookingForAJob",id:"lookingForAJob"},children:[Object(X.jsx)("option",{value:"true",children:"Yes"}),Object(X.jsx)("option",{value:"false",children:"No"})]}))]}),Object(X.jsx)(ie.a,Object(A.a)(Object(A.a)({size:"small"},P("lookingForAJobDescription",{required:!0})),{},{error:!!L.lookingForAJobDescription,defaultValue:(null===W||void 0===W?void 0:W.lookingForAJobDescription)||void 0,helperText:L.lookingForAJobDescription&&L.lookingForAJobDescription.message,fullWidth:!0,label:"Description of the job I'm looking for"})),Object(X.jsx)(ie.a,Object(A.a)(Object(A.a)({size:"small"},P("fullName")),{},{error:!!L.fullName,helperText:L.fullName&&L.fullName.message,defaultValue:(null===W||void 0===W?void 0:W.fullName)||void 0,fullWidth:!0,label:"My fullname"})),Object(X.jsx)(ie.a,Object(A.a)(Object(A.a)({size:"small"},P("aboutMe")),{},{error:!!L.aboutMe,helperText:L.aboutMe&&L.aboutMe.message,defaultValue:(null===W||void 0===W?void 0:W.aboutMe)||void 0,fullWidth:!0,label:"About me"})),Object(X.jsx)(ie.a,Object(A.a)(Object(A.a)({size:"small"},P("contacts.facebook")),{},{error:!(null===(e=L.contacts)||void 0===e||!e.facebook),helperText:(null===(t=L.contacts)||void 0===t?void 0:t.facebook)&&(null===(n=L.contacts)||void 0===n?void 0:n.facebook.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.facebook)||void 0,fullWidth:!0,label:"My profile in facebook"})),Object(X.jsx)(ie.a,Object(A.a)(Object(A.a)({size:"small"},P("contacts.github")),{},{error:!(null===(r=L.contacts)||void 0===r||!r.github),helperText:(null===(a=L.contacts)||void 0===a?void 0:a.github)&&(null===(s=L.contacts)||void 0===s?void 0:s.github.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.github)||void 0,fullWidth:!0,label:"My profile in github"})),Object(X.jsx)(ie.a,Object(A.a)(Object(A.a)({size:"small"},P("contacts.instagram")),{},{error:!(null===(o=L.contacts)||void 0===o||!o.instagram),helperText:(null===(i=L.contacts)||void 0===i?void 0:i.instagram)&&(null===(c=L.contacts)||void 0===c?void 0:c.instagram.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.instagram)||void 0,fullWidth:!0,label:"My profile in instagram"})),Object(X.jsx)(ie.a,Object(A.a)(Object(A.a)({size:"small"},P("contacts.mainLink")),{},{error:!(null===(u=L.contacts)||void 0===u||!u.mainLink),helperText:(null===(l=L.contacts)||void 0===l?void 0:l.mainLink)&&(null===(d=L.contacts)||void 0===d?void 0:d.mainLink.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.mainLink)||void 0,fullWidth:!0,label:"My profile in mainLink"})),Object(X.jsx)(ie.a,Object(A.a)(Object(A.a)({size:"small"},P("contacts.twitter")),{},{error:!(null===(b=L.contacts)||void 0===b||!b.twitter),helperText:(null===(f=L.contacts)||void 0===f?void 0:f.twitter)&&(null===(h=L.contacts)||void 0===h?void 0:h.twitter.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.twitter)||void 0,fullWidth:!0,label:"My profile in twitter"})),Object(X.jsx)(ie.a,Object(A.a)(Object(A.a)({size:"small"},P("contacts.vk")),{},{error:!(null===(g=L.contacts)||void 0===g||!g.vk),helperText:(null===(x=L.contacts)||void 0===x?void 0:x.vk)&&(null===(m=L.contacts)||void 0===m?void 0:m.vk.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.vk)||void 0,fullWidth:!0,label:"My profile in vk"})),Object(X.jsx)(ie.a,Object(A.a)(Object(A.a)({size:"small"},P("contacts.website")),{},{error:!(null===(O=L.contacts)||void 0===O||!O.website),helperText:(null===(v=L.contacts)||void 0===v?void 0:v.website)&&(null===(w=L.contacts)||void 0===w?void 0:w.website.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.website)||void 0,fullWidth:!0,label:"My website"})),Object(X.jsx)(ie.a,Object(A.a)(Object(A.a)({size:"small"},P("contacts.youtube")),{},{error:!(null===(y=L.contacts)||void 0===y||!y.youtube),helperText:(null===(C=L.contacts)||void 0===C?void 0:C.youtube)&&(null===(k=L.contacts)||void 0===k?void 0:k.youtube.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.youtube)||void 0,fullWidth:!0,label:"My channel in youtube"})),Object(X.jsx)(ce.a,{fullWidth:!0,sx:{display:"block"},variant:"outlined",type:"submit",disabled:F,children:"Submit"}),Object(X.jsx)(ce.a,{fullWidth:!0,sx:{display:"block"},onClick:function(){return I(N())},variant:"outlined",type:"submit",disabled:F,children:"i don`t want to edit"})]})},st=n(213),ot=n(209),it=Object(re.a)(st.a)((function(e){var t=e.theme;return Object(A.a)(Object(A.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),ct=Object(re.a)("span")((function(e){return{fontWeight:"bold",color:"gray",display:"inline-block",marginRight:e.theme.spacing(1)}})),ut=function(e){var t=e.aboutMe,n=e.lookingForAJob,r=e.lookingForAJobDescription,a=e.fullName,s=e.contacts,o=e.isOwn,i=Object(d.b)();return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(ot.a,{container:!0,spacing:2,children:[Object(X.jsx)(ot.a,{spacing:2,xs:12,item:!0,sm:6,children:Object(X.jsxs)(it,{children:[Object(X.jsx)(ct,{children:"About me -"}),Object(X.jsx)("span",{children:t})]})}),Object(X.jsx)(ot.a,{spacing:2,xs:12,item:!0,sm:6,children:Object(X.jsxs)(it,{children:[Object(X.jsx)(ct,{children:"Looking for a job -"}),Object(X.jsx)("span",{children:n?"Yes":"No"})]})}),Object(X.jsx)(ot.a,{spacing:2,xs:12,item:!0,sm:6,children:Object(X.jsxs)(it,{children:[Object(X.jsx)(ct,{children:"Looking for a job discription -"}),Object(X.jsx)("span",{children:r})]})}),Object(X.jsx)(ot.a,{spacing:2,xs:12,item:!0,sm:6,children:Object(X.jsxs)(it,{children:[Object(X.jsx)(ct,{children:"Full name-"}),Object(X.jsx)("span",{children:a})]})}),Object.entries(s).map((function(e,t){return Object(X.jsx)(ot.a,{spacing:2,item:!0,xs:12,sm:6,children:Object(X.jsx)(it,{children:Object(X.jsx)(At,{title:e[0],value:e[1]})})},t)}))]}),o&&Object(X.jsx)(ce.a,{size:"large",sx:{mt:1},variant:"contained",type:"submit",onClick:function(){return i(N())},children:"Edit my details"})]})},At=function(e){var t=e.title,n=e.value,r=t[0].toUpperCase()+t.slice(1,t.length);return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(ct,{children:[r," -"]}),Object(X.jsx)("span",{children:n||"unknown"})]})},lt=n(215),dt=n(216),bt=n(11),ft=n(214),pt=function(e){var t=e.isOwn,n=Object(d.b)(),r=D((function(e){return e.profilePage.status})),a=D((function(e){return e.profilePage.pendingStatus})),o=Object(s.useState)(r||""),i=Object(bt.a)(o,2),c=i[0],u=i[1];Object(s.useEffect)((function(){c!==r&&u(r||"")}),[r]);var A=function(){r!==c&&n(Y(c))};return Object(X.jsxs)(X.Fragment,{children:[a&&Object(X.jsx)(ft.a,{sx:{mb:2}}),Object(X.jsx)(ie.a,{disabled:!t||a,onBlur:function(){return A()},value:c,onChange:function(e){u(e.target.value)},fullWidth:!0,label:"Status",onKeyDown:function(e){13===e.keyCode&&(A(),e.target.blur())}})]})},jt=Object(re.a)("input")({display:"none"}),ht=Object(re.a)("div")((function(e){var t,n=e.theme;return t={border:"2px solid white",height:"250px"},Object(ee.a)(t,n.breakpoints.up("xs"),{width:"100%"}),Object(ee.a)(t,n.breakpoints.up("sm"),{width:"250px",flex:"0 0 250px"}),Object(ee.a)(t,"marginRight",n.spacing(1)),Object(ee.a)(t,"borderRadius",n.spacing(1)),Object(ee.a)(t,"position","relative"),t})),gt=function(e){var t=e.src,n=e.isOwn,r=D((function(e){var t;return null===(t=e.profilePage.userProfile)||void 0===t?void 0:t.fullName})),a=Object(d.b)();return Object(X.jsxs)(lt.a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},bgcolor:"#bab0b0",overflow:"hidden",boxShadow:1,fontWeight:"bold",p:2},children:[Object(X.jsx)(ht,{children:Object(X.jsx)(lt.a,{component:"img",sx:{position:"absolute",objectFit:"cover",top:0,left:0,width:"100%",height:"100%"},alt:"It's my own picture",src:t})}),Object(X.jsxs)(lt.a,{sx:{flex:"1 1 auto"},children:[Object(X.jsx)(dt.a,{variant:"h5",gutterBottom:!0,component:"div",children:r}),!n||Object(X.jsxs)("label",{htmlFor:"change-photo",children:[Object(X.jsx)(jt,{onChange:function(e){var t;null!==(t=e.target.files)&&void 0!==t&&t.length&&a(q(e.target.files[0]))},id:"change-photo",type:"file",accept:"image/*"}),Object(X.jsx)(ce.a,{size:"large",sx:{borderRadius:1,mb:2},variant:"contained",component:"span",children:"Change photo"})]}),Object(X.jsx)(pt,{isOwn:n})]})]})},xt=n.p+"static/media/1024px-User-avatar.svg.6ca1b977.png",mt=function(e){var t=D((function(e){return e.profilePage.editMode})),n=D((function(e){return e.profilePage.userProfile})),r=z();return Object(s.useEffect)((function(){return function(){r(N(!1))}}),[]),n?Object(X.jsxs)("div",{className:V.a.infoWrapper,children:[Object(X.jsx)(gt,{src:n.photos.large||n.photos.small||xt,isOwn:e.isOwn}),Object(X.jsx)(lt.a,{sx:{bgcolor:"#bab0b0",width:"100%",boxShadow:1,mt:1},className:V.a.addPost,children:Object(X.jsxs)(lt.a,{sx:{padding:function(e){return e.spacing(1)},pt:2,textAlign:"end"},children:[t||Object(X.jsx)(ut,Object(A.a)({isOwn:e.isOwn},n)),e.isOwn&&t&&Object(X.jsx)(at,{})]})})]}):Object(X.jsx)($,{})};var Ot=function(){var e=D((function(e){return e.auth.userId})),t=D((function(e){return e.auth.isLog})),n=Object(f.i)().userId,r=Object(d.b)();return Object(s.useEffect)((function(){r(J(Number(n))),r(T(Number(n)))}),[n]),!1===t?Object(X.jsx)(yt,{}):(function(e){if("number"!==typeof e)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430")}(e),Object(X.jsx)(mt,{isOwn:e===Number(n)}))},vt=function(){var e=D((function(e){return e.auth.userId}));return Object(X.jsx)(f.a,{to:e?"/profile/".concat(e):"/login",replace:!0})},wt=function(){return Object(X.jsx)(lt.a,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(X.jsx)(dt.a,{variant:"h4",children:"404 Not Found"})})},yt=function(){return Object(X.jsx)(lt.a,{sx:{width:"100%",height:"calc(100vh - 70px)",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(X.jsx)(dt.a,{variant:"h4",children:"\u0427\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})})},Ct=n(56),kt=n(210),St=Object(Ct.a)("header")({width:"100%",height:"60px",padding:"5px 0",position:"fixed",top:0,left:0,zIndex:50,borderBottom:"1px solid #B2B2B2FF",backgroundColor:"#fff"}),Pt=function(){var e=D((function(e){return e.auth.photos}));return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(St,{children:Object(X.jsx)(lt.a,{sx:{padding:{sm:"0 10px",xs:"0 5px"},maxWidth:{xs:"100%",sm:600,md:800,lg:1e3,xl:1200},height:"100%",margin:"0 auto"},children:Object(X.jsxs)(lt.a,{sx:{padding:"0 10px",display:"flex",height:"100%",borderLeft:"1px solid #B2B2B2FF",borderRight:"1px solid #B2B2B2FF",alignItems:"center"},children:[Object(X.jsxs)(lt.a,{sx:{display:"flex"},children:[Object(X.jsx)(ce.a,{sx:{marginRight:{xs:"5px",sm:"10px"}},variant:"contained",size:"small",href:"/profile",children:"Profile"}),Object(X.jsx)(ce.a,{sx:{marginRight:{xs:"5px",sm:"10px"}},variant:"contained",size:"small",href:"/dialogs",children:"Dialogs"}),Object(X.jsx)(ce.a,{variant:"contained",size:"small",href:"/users",children:"Users"})]}),Object(X.jsx)(lt.a,{sx:{flex:"1 1 auto",display:"flex",justifyContent:"flex-end"},children:Object(X.jsx)(kt.a,{src:(null===e||void 0===e?void 0:e.small)||(null===e||void 0===e?void 0:e.large)||xt})})]})})})})},Bt=n(107),Et=n.n(Bt),Lt=function(e){var t,n=e.onSubmit,r=Object(te.a)(),a=r.register,s=r.handleSubmit,o=r.formState.errors,i=D((function(e){return e.auth.urlCaptcha}));return Object(X.jsxs)("form",{onSubmit:s(n),children:[Object(X.jsxs)("div",{children:[Object(X.jsx)("input",Object(A.a)(Object(A.a)({},a("login",{maxLength:{value:25,message:"\u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0431\u0443\u043a\u0432"}})),{},{placeholder:"login",name:"login"})),Object(X.jsx)("span",{children:null===o||void 0===o||null===(t=o.login)||void 0===t?void 0:t.message})]}),Object(X.jsx)("div",{children:Object(X.jsx)("input",Object(A.a)(Object(A.a)({},a("password")),{},{placeholder:"password",name:"password"}))}),Object(X.jsxs)("div",{children:[Object(X.jsx)("input",Object(A.a)(Object(A.a)({type:"checkbox"},a("rememberMe")),{},{name:"rememberMe"})),"remember me"]}),!!i&&Object(X.jsx)("img",{src:i,alt:""}),!!i&&Object(X.jsx)("input",Object(A.a)({type:"text"},a("captcha"))),Object(X.jsx)("div",{children:Object(X.jsx)("button",{children:"submit"})})]})},It=function(){var e=Object(d.b)();return Object(X.jsx)("div",{className:Et.a.loginWrapper,children:Object(X.jsx)(Lt,{onSubmit:function(t){e(L({email:t.login,password:t.password,rememberMe:t.rememberMe,captcha:t.captcha}))}})})},Ft=n(217),Qt=function(e){var t=e.item;return Object(X.jsxs)(lt.a,{sx:{display:"flex",":not(:first-child)":{marginTop:"15px"}},children:[Object(X.jsx)(lt.a,{sx:{flex:"0 1 auto"},children:Object(X.jsx)(kt.a,{sx:{marginRight:"5px"},sizes:"small",src:t.photo||xt})}),Object(X.jsxs)(lt.a,{children:[Object(X.jsx)(Ft.a,{sx:{display:"block",marginBottom:"5px"},href:"/profile/".concat(t.userId),children:t.userName}),Object(X.jsx)(lt.a,{sx:{},children:t.message})]})]})},Wt=Object(s.memo)(Qt),Rt=n(108),Ut=n.n(Rt),Ht=function(e){e.message&&ve(e.message)},Mt=function(){var e=D((function(e){return e.dialogsPage.message})),t=D((function(e){return e.dialogsPage.status})),n=Object(s.useRef)(!0),r=Object(s.useRef)(0),a=Object(s.useRef)(null),o=D((function(e){return e.auth.isLog})),i=Object(s.useState)(!0),c=Object(bt.a)(i,2),u=c[0],A=c[1],l=Object(d.b)();Object(s.useEffect)((function(){if(o)return l(Le()),function(){l(Ie()),l(ke())}}),[]);var b=function(e){var t=a.current,s=n.current;e&&(s=!0),s&&t&&t.scrollHeight!==t.offsetHeight+t.scrollTop&&(r.current=t.scrollTop,t.scrollBy({top:t.scrollHeight-t.offsetHeight-t.scrollTop,left:100,behavior:"smooth"}))};return Object(s.useEffect)((function(){var e,t=function(e){var t=e.target;r.current>t.scrollTop?(A(!1),n.current=!1):(A(!0),t.scrollHeight===t.scrollTop+t.offsetHeight&&(A(!1),n.current=!0)),r.current=e.target.scrollTop};return null===(e=a.current)||void 0===e||e.addEventListener("scroll",t),function(){var e;null===(e=a.current)||void 0===e||e.removeEventListener("scroll",t)}}),[]),Object(s.useEffect)((function(){b()}),[e]),console.log("Rerender"),!1===o?Object(X.jsx)(yt,{}):Object(X.jsxs)(lt.a,{sx:{display:"flex",flexDirection:"column",flex:"1 1 auto","@media (min-height: 500px)":{maxHeight:"calc(100vh - 130px)"},backgroundColor:"#ffffff",padding:{sm:"0 10px"},position:"relative"},children:[Object(X.jsxs)(lt.a,{ref:a,sx:{flex:"1 1 auto",overflowY:"auto","@media (max-height: 500px)":{flexGrow:0,flexShrink:1,flexBasis:"279px"},padding:"10px 0",display:"flex",flexDirection:"column"},children:[Object(X.jsx)(lt.a,{sx:{flex:"1 1 auto"}}),e.map((function(e){return Object(X.jsx)(Wt,{item:e},e.id)}))]}),Object(X.jsx)(Ut.a,{onClick:function(){console.log("\u0412\u044b\u0437\u043e\u0432 \u0444\u0443\u0433\u043a\u0446\u0438\u0438 \u0438\u0437 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430"),b(!0)},sx:{fontSize:"40px",position:"absolute",backgroundColor:"white",borderRadius:"50%",border:"1px solid gray",bottom:"85px",right:"15px","@media (any-hover: hover)":{right:u?"45px":"15px"},"@media (any-hover: none)":{right:u?"20px":"0px"},transition:"all 0.3s ease 0s",opacity:u?"1":"0",visibility:u?"visible":"hidden"}}),Object(X.jsx)(Nt,{ready:!("ready"===t),submitForm:Ht})]})},Nt=function(e){var t=e.submitForm,n=e.ready,r=Object(te.a)(),a=r.handleSubmit,s=r.register,o=r.reset,i=r.formState.errors;return Object(X.jsxs)(lt.a,{sx:{flex:"0 0 70px",backgroundColor:"#706f6f",display:"flex",alignItems:"center",margin:"0 -10px"},component:"form",onSubmit:a((function(e){""!==e.message&&(t(e),o())})),children:[Object(X.jsx)(ie.a,Object(A.a)(Object(A.a)({size:"small",error:!!i.message,helperText:!!i.message&&i.message.message,sx:{flex:"1 1 auto",marginLeft:"10px"},placeholder:"\u0412\u0432\u0435\u0434\u0438 \u0441\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"},s("message",{maxLength:{value:50,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u043c\u0435\u043d\u044c\u0448\u0435 \u0431\u0443\u043a\u0432"}})),{},{className:V.a.textarea})),Object(X.jsx)(ce.a,{type:"submit",sx:{margin:"0 10px"},variant:"contained",disabled:n,children:"send"})]})},Tt=function(e){var t=e.id,n=Object(d.b)(),r=D((function(e){return e.usersPage.users[t]})),a=r.name,s=r.status,o=r.followed,i=r.photos,c=i.small,u=i.large,A=r.pendingFollow,l=o?"Unfollow":"Follow";return Object(X.jsxs)(lt.a,{sx:{display:"flex",flexDirection:"column",alignItems:"start",bgcolor:"background.paper",":hover":{boxShadow:10},"@media (any-hover: hover)":{":hover .userConCont":{visibility:"visible",opacity:1}},"@media (any-hover: none)":{".userConCont":{visibility:"visible",opacity:1}},borderRadius:3,position:"relative"},children:[Object(X.jsx)(lt.a,{sx:{position:"relative",width:"100%",height:"180px"},children:Object(X.jsx)(lt.a,{component:"img",src:u||c||xt,sx:{position:"absolute",width:"100%",height:"100%",objectFit:"cover",top:0,left:0,borderRadius:3}})}),Object(X.jsxs)(lt.a,{className:"userConCont",sx:{position:"absolute",top:0,left:0,display:"flex",flexDirection:"column",padding:1,visibility:"hidden",opacity:0,bgcolor:"rgba(0,0,0,0.7)",width:"100%",height:"100%",boxSizing:"border-box",borderRadius:3,transition:"opacity 0.3s ease 0s"},children:[Object(X.jsx)(Ft.a,{sx:{flexGrow:s?0:1},href:"/profile/"+t,children:Object(X.jsx)(dt.a,{sx:{color:"common.white",marginBottom:1,lineHeight:1.1},variant:"body2",children:a})}),s&&Object(X.jsx)(dt.a,{sx:{color:"common.white",flexGrow:1,overflow:"hidden",lineHeight:1.1},variant:"body2",children:s}),Object(X.jsx)(ce.a,{onClick:function(){return function(e){n((o?Ge:Ve)(e))}(t)},sx:{opacity:1,justifySelf:"end",pt:1},variant:"contained",size:"small",disabled:A,children:l})]})]})},Jt=n(204),Yt=function(){var e=D((function(e){return e.usersPage.totalUsersCount})),t=D(_e),n=D(Ze),r=z();return Object(X.jsx)(Jt.a,{sx:{mt:1,mb:1,"> ul":{justifyContent:"center"}},siblingCount:0,boundaryCount:1,page:t,count:Math.ceil(e/n),variant:"outlined",onChange:function(e,t){r(Re(t))},shape:"rounded"})},qt=Object(s.memo)(Yt),Kt=Object(re.a)("form")((function(e){var t,n=e.theme;return t={flex:"1 1 auto",display:"flex",flexWrap:"wrap",alignItems:"center"},Object(ee.a)(t,n.breakpoints.up("sm"),{flexWrap:"noWrap"}),Object(ee.a)(t,n.breakpoints.down("sm"),{height:"120px"}),t})),Dt=function(){var e=D(Ze),t=D(_e),n=D(Xe),r=D($e),a=D((function(e){return e.usersPage.isLoading})),o=Object(te.a)(),i=o.handleSubmit,c=o.formState.errors,u=o.register,l=o.reset,d=tt(),f=Object(b.c)(),p=Object(bt.a)(f,2),j=p[0],h=p[1];return Object(s.useEffect)((function(){var a={};!function(e,t){e.forEach((function(e,n){t[n]=e}))}(j,a);var s=t,o=n,i=r,c=e,u=!1;a.currentPage&&Number(a.currentPage)!==s&&Number(a.currentPage)&&(u=!0,s=Number(a.currentPage)),a.term&&a.term!==i&&(u=!0,i=a.term),a.friend&&a.friend!==o&&(u=!0,o=a.friend),a.usersPerPage&&Number(a.usersPerPage)!==c&&Number(a.usersPerPage)&&(u=!0,c=Number(a.usersPerPage)),u&&d(De({term:i,friend:o,currentPage:s,usersPerPage:c}))}),[]),Object(s.useEffect)((function(){var a=new URLSearchParams;r&&a.append("term",r),n&&a.append("friend",n),t&&a.append("currentPage",String(t)),e&&a.append("usersPerPage",String(e)),h(a,{replace:!0}),d(ze()),l({friend:n,usersPerPage:e,term:r})}),[t,e,r,n]),Object(X.jsx)(lt.a,{sx:{display:"flex",pt:1,pb:1},children:a?Object(X.jsx)(ft.a,{sx:{flex:"1 1 auto"}}):Object(X.jsxs)(Kt,{onSubmit:i((function(e){d(De(e))})),children:[Object(X.jsxs)(oe.a,Object(A.a)(Object(A.a)({sx:{mr:1,ml:1,flex:{sm:"0 0 80px",xs:"1 1 auto"}}},u("friend",{value:n})),{},{children:[Object(X.jsx)("option",{value:"",children:"All"}),Object(X.jsx)("option",{value:"true",children:"Friend"}),Object(X.jsx)("option",{value:"false",children:"No friend"})]})),Object(X.jsx)(oe.a,Object(A.a)(Object(A.a)({sx:{mr:1,flex:{sm:"0 0 50px",xs:"1 1 auto"},width:"50px"}},u("usersPerPage",{value:e})),{},{children:[5,10,15,20,25].map((function(e){return Object(X.jsx)("option",{value:e,children:e},e)}))})),Object(X.jsx)(ie.a,Object(A.a)({error:!!c.term,helperText:c.term&&c.term.message,sx:{mr:1,flex:"1 1 auto"},fullWidth:!0,label:"search",id:"search",size:"small"},u("term",{maxLength:{value:15,message:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0431\u0443\u043a\u0432"}}))),Object(X.jsx)(ce.a,{sx:{borderRadius:1,pr:5,pl:5,height:{sm:"100%"}},size:"small",variant:"contained",type:"submit",children:"Submit"})]})})},zt=Object(s.memo)(Dt),Gt=function(){var e=D((function(e){return e.usersPage.usersID}));return!1===D((function(e){return e.auth.isLog}))?Object(X.jsx)(yt,{}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(zt,{}),Object(X.jsx)(lt.a,{sx:{display:"grid",gridTemplate:"1fr/repeat(auto-fill, minmax(150px, 1fr))",gap:2},children:e.map((function(e){return Object(X.jsx)(Tt,{id:e},e)}))}),Object(X.jsx)(qt,{})]})},Vt=function(){return Object(X.jsx)(lt.a,{component:"main",sx:{flex:"1 1 auto",display:"flex",paddingTop:"70px"},children:Object(X.jsx)(lt.a,{sx:{margin:"0 auto",maxWidth:{xs:"100%",sm:600,md:800,lg:1e3,xl:1200},padding:{sm:"0 10px",xs:"0 5px"},display:"flex",flexDirection:"column",flex:"1 1 auto"},children:Object(X.jsx)(f.b,{})})})},Zt=n(109),_t=n(211),Xt=Object(Ct.a)("footer")((function(e){e.theme;return{width:"100%",height:"60px",backgroundColor:"gray"}})),$t=function(){var e=tt();return Object(X.jsx)(Xt,{children:Object(X.jsx)(lt.a,{sx:{maxWidth:{xs:"100%",sm:600,md:800,lg:1e3,xl:1200},height:"100%",margin:"0 auto",padding:{sm:"0 10px",xs:"0 5px"}},children:Object(X.jsxs)(lt.a,{sx:{display:"flex",justifyContent:{sm:"space-around",xs:"space-between"},alignItems:"center",backgroundColor:"#d3d3d3",height:"100%",padding:"0 10px"},children:[Object(X.jsx)(dt.a,{sx:{color:"##d3d3d3",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},variant:"body1",children:"CC kkdras - Kozlov Konstantin"}),Object(X.jsx)(ce.a,{sx:{marginLeft:"5px"},variant:"outlined",onClick:function(){return e(I())},children:"Logout"})]})})})},en=["href"],tn=o.a.forwardRef((function(e,t){var n=e.href,r=Object(l.a)(e,en);return Object(X.jsx)(b.b,Object(A.a)({"data-testid":"custom-link",ref:t,to:n},r))})),nn=Object(Zt.a)({components:{MuiLink:{defaultProps:{component:tn}},MuiButtonBase:{defaultProps:{LinkComponent:tn}}}}),rn=function(){var e=D((function(e){return e.auth.isLog})),t=Object(d.b)();return Object(s.useEffect)((function(){t(B())}),[]),null===e?Object(X.jsx)($,{}):Object(X.jsx)(_t.a,{theme:nn,children:Object(X.jsxs)(b.a,{children:[Object(X.jsx)(Pt,{}),Object(X.jsx)(f.e,{children:Object(X.jsxs)(f.c,{path:"/",element:Object(X.jsx)(Vt,{}),children:[Object(X.jsx)(f.c,{path:"dialogs",element:Object(X.jsx)(Mt,{})}),Object(X.jsx)(f.c,{path:"profile/:userId",element:Object(X.jsx)(Ot,{})}),Object(X.jsx)(f.c,{path:"profile",element:Object(X.jsx)(vt,{})}),Object(X.jsx)(f.c,{path:"users",element:Object(X.jsx)(Gt,{})}),Object(X.jsx)(f.c,{path:"login",element:Object(X.jsx)(It,{})}),Object(X.jsx)(f.c,{path:"*",element:Object(X.jsx)(wt,{})})]})}),e&&Object(X.jsx)($t,{})]})})};u.a.createRoot(document.getElementById("root")).render(Object(X.jsx)(d.a,{store:et,children:Object(X.jsx)(rn,{})})),i()},65:function(e,t,n){e.exports={profile__banner:"profile_profile__banner__2fPc_",profile:"profile_profile__2oUyy",profile__post:"profile_profile__post__2cPhc",infoWrapper:"profile_infoWrapper__QPz2C",infoText:"profile_infoText___hl0a",addPost:"profile_addPost__1_EtF",add:"profile_add__12cU3",texarea:"profile_texarea__2XP2v"}},82:function(e,t,n){e.exports={users__container:"users_users__container__uY6zT",userWrapper:"users_userWrapper__34afh",userLeft:"users_userLeft__1iX1p",userImage:"users_userImage__337Zj",userButton:"users_userButton__2T06l",userRight:"users_userRight__342uH",userRL:"users_userRL__G1l9p",userRR:"users_userRR__1npk5",userName:"users_userName__3_Avc",activeCurrentPagination:"users_activeCurrentPagination__2RWbg",loadingContainer:"users_loadingContainer__3QPAo"}}},[[155,1,2]]]);
//# sourceMappingURL=main.72f58a76.chunk.js.map