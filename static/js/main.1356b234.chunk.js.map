{"version":3,"sources":["dal/api.ts","reportWebVitals.js","dal/sessionStorageAPI.ts","redax/authReducer.ts","redax/profileReducer.ts","app/hooks.ts","components/users/loading.tsx","asserts/unnamed.gif","components/utils/getName.js","components/profile/aboutMe/aboutMeForm.tsx","components/profile/aboutMe/aboutMe.tsx","components/profile/status.tsx","components/profile/aboutMe/profileTop.tsx","asserts/1024px-User-avatar.svg.png","components/profile/aboutMe/info.tsx","components/profile/Profile.tsx","components/header/headerContainer.tsx","components/login/steps/LoginStep.tsx","components/login/steps/PasswordStep.tsx","components/login/steps/OptionsStep.tsx","components/login/steps/CaptchaPage.tsx","components/login/login.tsx","components/dilogs/massage.tsx","dal/chat-api.ts","redax/dialogsReducer.ts","components/dilogs/dialogs.tsx","redax/usersReducer.ts","components/users/User.tsx","components/users/MyPagination.tsx","components/users/UsersForm.tsx","components/users/Users.tsx","Wrapper.tsx","components/footer/Footer.tsx","App.tsx","app/redax-store.ts","index.js","components/profile/profile.module.css","components/users/users.module.css"],"names":["ResultCodeLoginCreator","ResultCode","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","instance","axios","create","withCredentials","baseURL","headers","axiosRequest","getLogUser","get","response","data","login","email","password","rememberMe","captcha","post","logout","delete","getCaptcha","getUsers","currentPage","count","term","friend","template","unfollowUser","id","followUser","getUserProfile","userId","getStatus","setStatus","string","put","status","setPhoto","photo","formData","FormData","append","setDescription","setProfileData","r","STEPPER_FORM_DATA_KEY","getFormData","rawFormData","sessionStorage","getItem","JSON","parse","setFormData","setItem","stringify","getError","tmp","authSlice","createSlice","name","initialState","isLog","urlCaptcha","photos","error","pending","reducers","setUserInfo","state","action","payload","setId","setUserPhotos","setCaptcha","setError","setPending","extraReducers","actions","getLogUserInfo","createAsyncThunk","_","dispatch","resultCode","Error","console","log","url","logIn","arg","rejectWithValue","getState","Success","auth","removeItem","NeedCaptcha","profileSlice","userProfile","editMode","submitButtonDisabled","pendingStatus","togglePendingStatus","setStatusProfile","setUserPhoto","toggleSubmitButton","toggleEditMode","isBoolean","builder","addCase","fulfilled","putProfileObject","rejected","getProfileStatus","updateProfileStatus","setProfilePhoto","setProfile","messages","useTypesSelector","useSelector","useAppDispatch","useDispatch","Loading","className","styles","loadingContainer","loadingGif","src","alt","getName","value","flag","i","length","toLowerCase","FormTag","styled","theme","p","border","breakpoints","up","display","gridTemplateColumns","gridAutoRows","gap","down","marginBottom","addErrors","errArr","callBack","errors","forEach","item","push","type","message","split","AboutForm","useForm","register","handleSubmit","formState","isDisabled","profilePage","submit","match","arrOfErrors","onSubmit","FormControl","fullWidth","InputLabel","variant","htmlFor","NativeSelect","deps","defaultValue","lookingForAJob","inputProps","TextField","size","required","lookingForAJobDescription","undefined","helperText","label","fullName","aboutMe","contacts","facebook","github","instagram","mainLink","twitter","vk","website","youtube","Button","sx","disabled","onClick","Item","Paper","typography","body2","padding","spacing","textAlign","color","palette","text","secondary","CustomLabel","fontWeight","marginRight","AboutMe","isOwn","Grid","container","xs","sm","Object","entries","map","title","mt","ContactsItem","newTitle","toUpperCase","slice","Status","useState","inputValue","setInputValue","useEffect","submitStatus","LinearProgress","mb","onBlur","onChange","e","target","onKeyDown","event","keyCode","blur","Input","ImgWrapper","height","width","flex","ProfileTop","Box","flexDirection","bgcolor","overflow","boxShadow","component","position","objectFit","top","left","Typography","gutterBottom","files","accept","borderRadius","Info","props","edit","s","infoWrapper","large","small","img","addPost","pt","Profile","myId","isInitialize","useParams","Number","to","replace","testMyId","ProfileRedirect","NotFound","alignItems","justifyContent","Discklamer","Header","zIndex","borderBottom","backgroundColor","HeaderContainer","images","maxWidth","md","lg","xl","margin","borderLeft","borderRight","href","Avatar","LoginStep","defaultValues","navigate","useNavigate","location","useLocation","useCallback","pathname","search","hash","activeStep","PasswordStep","onBack","IconButton","mr","KeyboardBackspace","fontSize","OptionsStep","genSubmit","path","Checkbox","CaptchaPage","onGenSubmit","captchaURI","w","h","Login","Component","tabs","setTabs","useLayoutEffect","Stepper","index","labelProps","optional","Step","StepLabel","Message","marginTop","sizes","Link","userName","memo","ws","_timerId","cleanUp","removeEventListener","openHandler","messageHandler","errorHandler","closeHandler","notifyStatusSubscribers","newMessage","subscribers","setTimeout","createChannel","close","WebSocket","addEventListener","ChatApi","observer","filter","send","clearTimeout","dialogSlice","responseMessage","reducer","prepare","nanoid","changeStatus","cleanState","_messageHandler","getMessageHandler","_statusHandler","getStatusHandler","startListeningMessage","stopListeningMessage","submitForm","Dialogs","dialogsPage","isScroll","useRef","prevScroll","chat","isScrollSt","setIsScrollSt","scroll","current","scrollHeight","offsetHeight","scrollTop","scrollBy","behavior","handler","maxHeight","ref","overflowY","flexGrow","flexShrink","flexBasis","bottom","right","transition","opacity","visibility","ready","DialogForm","reset","marginLeft","placeholder","maxLength","profileStyle","textarea","usersSlice","usersID","users","totalUsersCount","usersPerPage","isLoading","setCurrentPage","setTerm","setFriend","setUsersOnPage","toggleLoading","setUsers","setTotalUsersCount","followInProgress","pendingFollow","isFetching","unfollow","followed","follow","applyFilters","a","usersPage","items","totalCount","pageNumber","itemId","usersPerPageSelector","currentPageSelector","friendSelector","termSelector","User","isDisabledBtn","contentBtn","boxSizing","lineHeight","btnHandler","justifySelf","MyPaginationWOMemo","Pagination","siblingCount","boundaryCount","page","Math","ceil","shape","MyPagination","UsersFormElement","flexWrap","UsersFormWoMemo","useSearchParams","searchParams","setSearchParams","paramsObject","key","splitParams","actualPage","friendURI","termURI","URLSearchParams","String","pb","ml","pr","pl","UsersForm","Users","usersId","gridTemplate","Wrapper","paddingTop","FooterComponent","Footer","textOverflow","whiteSpace","LinkBehavior","React","forwardRef","other","createTheme","components","MuiLink","defaultProps","MuiButtonBase","LinkComponent","App","ThemeProvider","element","store","configureStore","profileReducer","dialogsReducer","usersReducer","authReducer","ReactDOM","createRoot","document","getElementById","render","module","exports"],"mappings":"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","file":"static/js/main.1356b234.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport {ISetUserProfile, IUserOfList, IUserPhoto, userProfileType} from \"../types/types\";\r\n\r\nlet apiKey = \"2a53a8d7-9713-4730-bda2-40c41c92534f\"\r\nlet withCredentials: any = \"true\"\r\nlet instance = axios.create({\r\n   withCredentials: withCredentials,\r\n   baseURL:`https://social-network.samuraijs.com/api/1.0/`,\r\n   headers:{\r\n      \"API-KEY\":apiKey\r\n   },\r\n})\r\n\r\nexport interface IRespType<D = {}, RC = ResultCode> {\r\n   resultCode: RC\r\n   messages: string[]\r\n   data: D\r\n}\r\n\r\nexport enum ResultCodeLoginCreator {\r\n   NeedCaptcha = 10\r\n}\r\n\r\nexport enum ResultCode {\r\n   Success,\r\n   Error,\r\n}\r\n\r\ntype AuthLoginDataType = {\r\n   id:number\r\n   email: string\r\n   login: string\r\n}\r\n\r\nexport interface IAuth {\r\n   userId: number\r\n}\r\n\r\ntype GetUserType = {\r\n   items: IUserOfList[]\r\n   totalCount: number\r\n   error: null | string\r\n}\r\n\r\ntype SetPhotoDataType = {\r\n   photos: IUserPhoto[\"photos\"]\r\n}\r\nexport type friendUnion = \"true\" | \"false\" | \"\"\r\n\r\n\r\nexport let axiosRequest = {\r\n   auth: {\r\n      getLogUser(){\r\n         return instance.get<IRespType<AuthLoginDataType>>(`auth/me`).then(response => response.data)\r\n      },\r\n      login(email: string,password:string,rememberMe:boolean,captcha: null | string = null){\r\n\r\n         return instance.post<IRespType<IAuth, ResultCodeLoginCreator | ResultCode>>(`auth/login`,{email,password,rememberMe,captcha})\r\n            .then(response => response.data)\r\n      },\r\n      logout(){\r\n         return instance.delete<IRespType<IAuth, ResultCodeLoginCreator | ResultCode>>(`auth/login`)\r\n            .then(response => response.data)\r\n      },\r\n      getCaptcha(){\r\n         return instance.get<{url:string}>(\"/security/get-captcha-url\")\r\n      }\r\n   },\r\n   users:{\r\n      getUsers(currentPage: number,count: number,term: string, friend: friendUnion){\r\n         let template = `users?page=${currentPage}&count=${count}`\r\n         term && (template += `&term=${term}`)\r\n         friend && (template += `&friend=${friend}`)\r\n         return instance.get<GetUserType>(template) .then(response => response.data)\r\n      },\r\n      unfollowUser(id: number){\r\n         return instance.delete<IRespType>(`follow/${id}`).then(response => response.data)\r\n      },\r\n      followUser(id:number){\r\n         return instance.post<IRespType>(`follow/${id}`).then(response => response.data)\r\n      }\r\n   },\r\n   profile:{\r\n      getUserProfile(userId: number){\r\n         return instance.get<userProfileType>(`profile/` + userId).then(response => {\r\n            return response\r\n         })\r\n      },\r\n      getStatus(userId: number){\r\n         return instance.get<string>(`profile/status/${userId}`)\r\n      },\r\n      setStatus(string: string){\r\n         return instance.put<IRespType>(`profile/status`,{status: string})\r\n      },\r\n      setPhoto(photo: any){\r\n         let formData = new FormData()\r\n         formData.append(\"image\",photo)\r\n         return instance.put<IRespType<SetPhotoDataType>>(\"/profile/photo\",formData,{\r\n            headers:{'Content-Type': 'multipart/form-data'}\r\n         })\r\n      },\r\n      setDescription(setProfileData: ISetUserProfile){\r\n         return instance.put<IRespType>(\"profile\",setProfileData).then(r => r.data)\r\n      }\r\n   }\r\n}\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const STEPPER_FORM_DATA_KEY = \"stepper-form-data\";\r\n\r\nexport let removeFormData = () => {\r\n   sessionStorage.removeItem(STEPPER_FORM_DATA_KEY);\r\n};\r\n\r\nexport let getFormData = (): Record<string, string> => {\r\n   const rawFormData = sessionStorage.getItem(STEPPER_FORM_DATA_KEY);\r\n\r\n   if (!rawFormData) {\r\n      return {};\r\n   }\r\n\r\n   return JSON.parse(rawFormData);\r\n};\r\n\r\nexport let setFormData = (formData: object) => {\r\n   sessionStorage.setItem(STEPPER_FORM_DATA_KEY, JSON.stringify(formData));\r\n};","import {axiosRequest, IAuth, IRespType, ResultCode, ResultCodeLoginCreator} from \"../dal/api\"\r\nimport {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {IUserPhoto} from \"../types/types\";\r\nimport {removeFormData} from \"../dal/sessionStorageAPI\";\r\nimport {RootState} from \"../app/hooks\";\r\n\r\n\r\ninterface IURLCaptcha {\r\n   urlCaptcha: null | string\r\n}\r\n\r\ninterface IInitialState {\r\n   userId: number | null\r\n   email: string | null\r\n   login: string | null\r\n   isLog: boolean | null\r\n   photos: IUserPhoto[\"photos\"] | null\r\n   error: boolean\r\n   pending: boolean\r\n}\r\n\r\nlet getError = (): boolean => {\r\n   let tmp = sessionStorage.getItem(\"error\")\r\n   if (tmp === null) return false\r\n   return JSON.parse(tmp)\r\n}\r\n\r\n\r\nlet getInitialState = ():IInitialState & IURLCaptcha => {\r\n   return  {\r\n      userId: null,\r\n      email: null,\r\n      login: null,\r\n      isLog: null,\r\n      urlCaptcha: sessionStorage.getItem(\"captcha\"),\r\n      photos: null,\r\n      error: getError(),\r\n      pending: false\r\n   }\r\n}\r\n\r\n\r\nlet authSlice = createSlice({\r\n      name: \"auth\",\r\n      initialState: getInitialState,\r\n      reducers: {\r\n         setUserInfo(state, action:\r\n            PayloadAction<Omit<IInitialState, \"photos\" | \"error\" | \"pending\">>) {\r\n            return {\r\n               ...state,\r\n               ...action.payload\r\n            }\r\n         },\r\n         setId(state, action: PayloadAction<{ id: number }>) {\r\n            state.userId = action.payload.id\r\n         },\r\n         setUserPhotos(state, action: PayloadAction<IInitialState['photos']>) {\r\n            state.photos = action.payload\r\n         },\r\n         setCaptcha(state, action: PayloadAction<string>) {\r\n            state.urlCaptcha = action.payload\r\n         },\r\n         setError(state, action: PayloadAction<boolean>) {\r\n            state.error = action.payload\r\n         },\r\n         setPending(state, action: PayloadAction<boolean>) {\r\n            state.pending = action.payload\r\n         }\r\n      },\r\n      extraReducers: () => {\r\n\r\n      }\r\n   }\r\n)\r\nexport default authSlice.reducer\r\nexport let {\r\n   setUserInfo,\r\n   setCaptcha,\r\n   setUserPhotos,\r\n   setId,\r\n   setError,\r\n   setPending\r\n} = authSlice.actions\r\n\r\n\r\nexport let getLogUserInfo = createAsyncThunk(\r\n   \"auth/\",\r\n   async (_, {dispatch}) => {\r\n      try {\r\n         let response = await axiosRequest.auth.getLogUser()\r\n\r\n         if (response.resultCode === ResultCode.Error) throw new Error(\"вынужденная ошибка\")\r\n         let {id, email, login} = response.data;\r\n\r\n         try {\r\n            let tmp = await axiosRequest.profile.getUserProfile(id).then(r => r.data)\r\n            dispatch(setUserPhotos(tmp.photos))\r\n         } catch (e) {\r\n            console.log(\"Не удалось педварительно загрузить фотографии\")\r\n         }\r\n\r\n         dispatch(setUserInfo({userId: id, login, email, isLog: true}))\r\n      } catch (e) {\r\n\r\n         dispatch(setUserInfo({userId: null, email: null, login: null, isLog: false}))\r\n      }\r\n   }\r\n)\r\n\r\nexport let getCaptcha = createAsyncThunk(\r\n   \"auth/captcha\",\r\n   async (_: undefined, {dispatch}) => {\r\n      try {\r\n         let response = await axiosRequest.auth.getCaptcha()\r\n         sessionStorage.setItem(\"captcha\", response.data.url)\r\n         dispatch(setCaptcha(response.data.url))\r\n      } catch (e) {\r\n         console.log(\"Не удалось получить капчу\")\r\n      }\r\n\r\n   }\r\n)\r\n\r\nexport interface ILoginAction {\r\n   email: string,\r\n   password: string,\r\n   rememberMe: boolean,\r\n   captcha: string\r\n}\r\n\r\nexport let logIn = createAsyncThunk<IRespType<IAuth, ResultCodeLoginCreator | ResultCode>\r\n   , ILoginAction, { state: RootState }>(\r\n   \"auth/login\",\r\n   async (arg: ILoginAction, {dispatch, rejectWithValue, getState}) => {\r\n      let state = getState()\r\n      dispatch(setPending(true))\r\n\r\n      let response = await axiosRequest.auth.login(arg.email, arg.password, arg.rememberMe, arg.captcha)\r\n\r\n      if (response.resultCode === ResultCode.Success) {\r\n         dispatch(setId({id: response.data.userId}))\r\n         await dispatch(getLogUserInfo())\r\n\r\n         if (state.auth.urlCaptcha) {\r\n            dispatch(setCaptcha(\"\"))\r\n            sessionStorage.setItem(\"captcha\", \"\")\r\n         }\r\n         if (state.auth.error) setError(false)\r\n         removeFormData()\r\n      } else {\r\n         if (response.resultCode === ResultCodeLoginCreator.NeedCaptcha) {\r\n            await dispatch(getCaptcha())\r\n         }\r\n\r\n         if (response.resultCode === ResultCodeLoginCreator.NeedCaptcha &&\r\n            state.auth.urlCaptcha || response.resultCode === ResultCode.Error) {\r\n            dispatch(setError(true))\r\n            sessionStorage.setItem(\"error\", \"true\")\r\n         }\r\n      }\r\n      dispatch(setPending(false))\r\n      return response\r\n   }\r\n)\r\n\r\nexport let logout = createAsyncThunk(\r\n   \"auth/logout\",\r\n   async (_: undefined, {dispatch}) => {\r\n      let response = await axiosRequest.auth.logout()\r\n      if (response.resultCode === ResultCode.Success) {\r\n         dispatch(setUserInfo({userId: null, login: null, email: null, isLog: false}))\r\n      }\r\n   }\r\n)","import { axiosRequest, IRespType, ResultCode } from \"../dal/api\";\r\nimport {ISetUserProfile, IUserPhoto, userProfileType} from \"../types/types\";\r\nimport { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport {setUserPhotos} from \"./authReducer\";\r\nimport {isBoolean} from \"util\";\r\n\r\n\r\ntype initialStateType = {\r\n   userProfile: userProfileType | null\r\n   editMode: boolean\r\n   submitButtonDisabled: boolean\r\n   status: null | string\r\n   pendingStatus: boolean\r\n}\r\n\r\nlet initialState: initialStateType = {\r\n   userProfile: null,\r\n   editMode: false,\r\n   submitButtonDisabled: false,\r\n   status: null,\r\n   pendingStatus: false\r\n}\r\n\r\nlet profileSlice = createSlice({\r\n   name: \"profile\",\r\n   initialState,\r\n   reducers: {\r\n      togglePendingStatus(state) {\r\n         state.pendingStatus = !state.pendingStatus\r\n      },\r\n      setStatusProfile(state, action: PayloadAction<string>) {\r\n         state.status = action.payload\r\n      },\r\n      setUserPhoto(state, action: PayloadAction<IUserPhoto['photos']>) {\r\n         if (state.userProfile && state.userProfile.photos) {\r\n            state.userProfile.photos = action.payload\r\n         }\r\n      },\r\n      toggleSubmitButton(state) {\r\n         state.submitButtonDisabled = !state.submitButtonDisabled\r\n      },\r\n      toggleEditMode(state, action: PayloadAction<boolean | undefined>) {\r\n         if(isBoolean(action.payload)){\r\n            state.editMode = action.payload\r\n            return\r\n\r\n         }\r\n         state.editMode = !state.editMode\r\n      },\r\n   },\r\n   extraReducers: (builder) => {\r\n      builder\r\n         .addCase(getUserProfile.fulfilled, ((state, action) => {\r\n            console.log(action)\r\n            state.userProfile = action.payload\r\n         }))\r\n         .addCase(putProfileObject.pending, (state => {\r\n            state.submitButtonDisabled = !state.submitButtonDisabled\r\n         }))\r\n         .addCase(putProfileObject.fulfilled, (state => {\r\n            state.submitButtonDisabled = !state.submitButtonDisabled\r\n         }\r\n         ))\r\n         .addCase(putProfileObject.rejected, (state => {\r\n            state.submitButtonDisabled = !state.submitButtonDisabled\r\n         }\r\n         ))\r\n   }\r\n})\r\nexport default profileSlice.reducer\r\n\r\nexport let {\r\n   togglePendingStatus,\r\n   setStatusProfile,\r\n   setUserPhoto,\r\n   toggleSubmitButton,\r\n   toggleEditMode\r\n} = profileSlice.actions\r\n\r\nexport let getUserProfile = createAsyncThunk(\r\n   \"profile/getProfile\",\r\n   async (userId: number) => {\r\n      return await axiosRequest.profile.getUserProfile(userId)\r\n         .then(r => r.data)\r\n   }\r\n)\r\n\r\n\r\n//getStatusProfile\r\nexport let getProfileStatus = createAsyncThunk(\r\n   \"profile/getProfileStatus\",\r\n   async (userId: number, { dispatch }) => {\r\n      dispatch(togglePendingStatus())\r\n      let response\r\n      try {\r\n         response = await axiosRequest.profile.getStatus(userId)\r\n      } catch (e) {\r\n         response = { data: \"Some error happen\" }\r\n      }\r\n      //debugger\r\n      dispatch(setStatusProfile(response.data))\r\n      dispatch(togglePendingStatus())\r\n   }\r\n)\r\n//updateStatusProfile\r\nexport let updateProfileStatus = createAsyncThunk(\r\n   \"profile/updateProfileStatus\",\r\n   async (status: string, { dispatch }) => {\r\n      dispatch(togglePendingStatus())\r\n      let response = await axiosRequest.profile.setStatus(status)\r\n      if (response.data.resultCode === 0) {\r\n         dispatch(setStatusProfile(status))\r\n         dispatch(togglePendingStatus())\r\n      }\r\n   }\r\n)\r\n\r\nexport let setProfilePhoto = createAsyncThunk(\r\n   \"profile/setProfilePhoto\",\r\n   async (photo: any, { dispatch }) => {\r\n      let response = await axiosRequest.profile.setPhoto(photo)\r\n      if (response.data.resultCode === 0) {\r\n         dispatch(setUserPhoto(response.data.data.photos))\r\n         dispatch(setUserPhotos(response.data.data.photos))\r\n      }\r\n   }\r\n)\r\n\r\nexport let putProfileObject = createAsyncThunk<\r\n   IRespType,\r\n   ISetUserProfile,\r\n   { rejectValue: IRespType }\r\n>(\"profile/putProfileObject\",\r\n   async (setProfile, { dispatch, rejectWithValue }) => {\r\n      let response = await axiosRequest.profile.setDescription(setProfile)\r\n      if (response.resultCode === 1) return rejectWithValue(response)\r\n\r\n      dispatch(getUserProfile(setProfile.userId))\r\n      dispatch(toggleEditMode())\r\n\r\n      return { messages: [], data: {}, resultCode: ResultCode.Success } as IRespType\r\n   }\r\n)\r\n\r\n","import {TypedUseSelectorHook, useDispatch, useSelector} from \"react-redux\";\r\nimport {store} from \"./redax-store\";\r\n\r\nexport let useTypesSelector:TypedUseSelectorHook<RootState> = useSelector\r\n\r\nexport let usePrivateContent = () => {\r\n   let isLog = useTypesSelector(state => state.auth.isLog)\r\n   return !isLog\r\n}\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\n\r\nexport type AppDispatch = typeof store.dispatch\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()","import styles from \"./users.module.css\";\r\nimport unnamed from \"../../asserts/unnamed.gif\";\r\nimport {FC} from \"react\";\r\n\r\nlet Loading:FC = () =>{\r\n    return (<div className={styles.loadingContainer}>\r\n             <img className={styles.loadingGif} src={unnamed} alt=\"\"/>\r\n        </div>)\r\n}\r\nexport default Loading","export default \"data:image/gif;base64,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\"","export let getName = (string) => {\r\n    let value = \"\"\r\n    let flag = false\r\n    for (let i = 0; i < string.length; i++) {\r\n        if(string[i] === \"(\"){\r\n            flag = true\r\n        }else if(string[i] === \")\"){\r\n            flag = false\r\n        }else if(flag){\r\n            if(string[i - 1] === \"(\"){\r\n                value += string[i].toLowerCase()\r\n            } else if(string[i] === \"-\"){\r\n                value += \"\"\r\n            }else if(string[i] === \">\"){\r\n                value += \".\"\r\n            }else if(string[i - 1] === \">\"){\r\n                value += string[i].toLowerCase()\r\n            }else{\r\n                value += string[i]\r\n            }\r\n        }\r\n    }\r\n    return value\r\n}","import React, {FC} from \"react\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {getName} from \"../../utils/getName\";\r\nimport {useAppDispatch, useTypesSelector} from \"../../../app/hooks\";\r\nimport {putProfileObject, toggleEditMode} from \"../../../redax/profileReducer\";\r\nimport {Button, FormControl, InputLabel, NativeSelect, styled, TextField} from '@mui/material';\r\nimport {IErrorType, ISetUserProfile} from \"../../../types/types\";\r\n\r\n\r\nlet FormTag = styled(\"form\")(({theme}) => ({\r\n   p: 1,\r\n   border: \"1px solid theme.palette.text.secondary\",\r\n   [theme.breakpoints.up('md')]: {\r\n      display: \"grid\",\r\n      gridTemplateColumns: \"1fr 1fr\",\r\n      gridAutoRows: \"auto\",\r\n      gap: 10\r\n   },\r\n   \"> *\": {\r\n      //backgroundColor: \"red\",\r\n      [theme.breakpoints.down('md')]: {\r\n         \":not(:last-child)\": {\r\n            marginBottom: \"15px\"\r\n         },\r\n      }\r\n   }\r\n}))\r\nlet addErrors = (errArr: string[], callBack: (...args: any[]) => void): void => {\r\n   const errors: IErrorType[] = []\r\n   errArr.forEach((item) => {\r\n      debugger\r\n      errors.push({type: \"manual\", name: getName(item), message: item.split(\"(\")[0]})\r\n   })\r\n   errors.forEach(({name, type, message}) =>\r\n      callBack(name, {type, message})\r\n   );\r\n}\r\n\r\nexport let AboutForm: FC = () => {\r\n   const {register, setError, handleSubmit, formState: {errors}} = useForm<ISetUserProfile>();\r\n   let dispatch = useAppDispatch()\r\n\r\n   let isDisabled = useTypesSelector(state => state.profilePage.submitButtonDisabled)\r\n   let id = useTypesSelector(state => state.auth.userId)\r\n   let userProfile = useTypesSelector(state => state.profilePage.userProfile)\r\n\r\n   let submit = async (data: ISetUserProfile) => {\r\n      if (typeof id !== \"number\") return\r\n      data.userId = id\r\n      let response = await dispatch(putProfileObject(data))\r\n\r\n      if (putProfileObject.rejected.match(response)) {\r\n         const arrOfErrors = response.payload?.messages\r\n         if (arrOfErrors) {\r\n            addErrors(arrOfErrors, setError)\r\n         }\r\n      }\r\n   }\r\n   return (\r\n\r\n      <FormTag onSubmit={handleSubmit(submit)}>\r\n         <FormControl fullWidth>\r\n            <InputLabel variant=\"standard\" htmlFor=\"lookingForAJob\">\r\n               Looking for a job\r\n            </InputLabel>\r\n            <NativeSelect\r\n               {...register(\"lookingForAJob\", {\r\n                  deps: ['lookingForAJobDescription'],\r\n               })}\r\n               defaultValue={!!userProfile?.lookingForAJob}\r\n               inputProps={{\r\n                  name: 'lookingForAJob',\r\n                  id: 'lookingForAJob',\r\n               }}\r\n            >\r\n               <option value={\"true\"}>Yes</option>\r\n               <option value={\"false\"}>No</option>\r\n            </NativeSelect>\r\n         </FormControl>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"lookingForAJobDescription\", {\r\n                       required: true\r\n                    })}\r\n                    error={!!errors.lookingForAJobDescription}\r\n                    defaultValue={userProfile?.lookingForAJobDescription || undefined}\r\n                    helperText={errors.lookingForAJobDescription && errors.lookingForAJobDescription.message}\r\n                    fullWidth\r\n                    label=\"Description of the job I'm looking for\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"fullName\")}\r\n                    error={!!errors.fullName}\r\n                    helperText={errors.fullName && errors.fullName.message}\r\n                    defaultValue={userProfile?.fullName || undefined}\r\n                    fullWidth\r\n                    label=\"My fullname\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"aboutMe\")}\r\n                    error={!!errors.aboutMe}\r\n                    helperText={errors.aboutMe && errors.aboutMe.message}\r\n                    defaultValue={userProfile?.aboutMe || undefined}\r\n                    fullWidth\r\n                    label=\"About me\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.facebook\")}\r\n                    error={!!errors.contacts?.facebook}\r\n                    helperText={errors.contacts?.facebook && errors.contacts?.facebook.message}\r\n                    defaultValue={userProfile?.contacts.facebook || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in facebook\"\r\n         />\r\n         {/*{errors.facebook && <p>{errors.facebook.message}</p>}*/}\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.github\")}\r\n                    error={!!errors.contacts?.github}\r\n                    helperText={errors.contacts?.github && errors.contacts?.github.message}\r\n                    defaultValue={userProfile?.contacts.github || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in github\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.instagram\")}\r\n                    error={!!errors.contacts?.instagram}\r\n                    helperText={errors.contacts?.instagram && errors.contacts?.instagram.message}\r\n                    defaultValue={userProfile?.contacts.instagram || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in instagram\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.mainLink\")}\r\n                    error={!!errors.contacts?.mainLink}\r\n                    helperText={errors.contacts?.mainLink && errors.contacts?.mainLink.message}\r\n                    defaultValue={userProfile?.contacts.mainLink || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in mainLink\"/>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.twitter\")}\r\n                    error={!!errors.contacts?.twitter}\r\n                    helperText={errors.contacts?.twitter && errors.contacts?.twitter.message}\r\n                    defaultValue={userProfile?.contacts.twitter || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in twitter\"/>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.vk\")}\r\n                    error={!!errors.contacts?.vk}\r\n                    helperText={errors.contacts?.vk && errors.contacts?.vk.message}\r\n                    defaultValue={userProfile?.contacts.vk || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in vk\"/>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.website\")}\r\n                    error={!!errors.contacts?.website}\r\n                    helperText={errors.contacts?.website && errors.contacts?.website.message}\r\n                    defaultValue={userProfile?.contacts.website || undefined}\r\n                    fullWidth\r\n                    label=\"My website\"/>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.youtube\")}\r\n                    error={!!errors.contacts?.youtube}\r\n                    helperText={errors.contacts?.youtube && errors.contacts?.youtube.message}\r\n                    defaultValue={userProfile?.contacts.youtube || undefined}\r\n                    fullWidth\r\n                    label=\"My channel in youtube\"/>\r\n         <Button fullWidth sx={{\r\n            display: \"block\",\r\n\r\n         }} variant=\"outlined\" type={\"submit\"} disabled={isDisabled}>Submit</Button>\r\n         <Button\r\n            fullWidth\r\n            sx={{\r\n               display: \"block\",\r\n            }}\r\n            onClick={() => dispatch(toggleEditMode())}\r\n            variant=\"outlined\"\r\n            type={\"submit\"}\r\n            disabled={isDisabled}>i don`t want to edit\r\n         </Button>\r\n      </FormTag>\r\n   )\r\n}\r\n","import React, {FC} from \"react\";\r\nimport {userProfileType} from \"../../../types/types\";\r\nimport {Box, Button, Grid, Paper, styled} from '@mui/material';\r\nimport {toggleEditMode} from \"../../../redax/profileReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\n\r\nconst Item = styled(Paper)(({theme}) => ({\r\n   ...theme.typography.body2,\r\n   padding: theme.spacing(1),\r\n   textAlign: 'center',\r\n   color: theme.palette.text.secondary,\r\n}));\r\nlet CustomLabel = styled(\"span\")(({theme}) => ({\r\n   fontWeight: \"bold\",\r\n   color: \"gray\",\r\n   display: \"inline-block\",\r\n   marginRight: theme.spacing(1)\r\n}))\r\nexport let AboutMe: FC<userProfileType & {isOwn: boolean}> = (\r\n   {\r\n      aboutMe,\r\n      lookingForAJob,\r\n      lookingForAJobDescription,\r\n      fullName,\r\n      contacts,\r\n      isOwn\r\n   }\r\n) => {\r\n   let dispatch = useDispatch()\r\n   return (\r\n      <>\r\n         <Grid container spacing={2}>\r\n            <Grid spacing={2} xs={12} item sm={6}>\r\n               <Item>\r\n                  <CustomLabel>About me -</CustomLabel>\r\n                  <span>{aboutMe}</span>\r\n               </Item>\r\n            </Grid>\r\n            <Grid spacing={2} xs={12} item sm={6}>\r\n               <Item>\r\n                  <CustomLabel>Looking for a job -</CustomLabel>\r\n                  <span>{lookingForAJob ? \"Yes\" : \"No\"}</span>\r\n               </Item>\r\n            </Grid>\r\n            <Grid spacing={2} xs={12} item sm={6}>\r\n               <Item>\r\n                  <CustomLabel>Looking for a job discription -</CustomLabel>\r\n                  <span>{lookingForAJobDescription}</span>\r\n               </Item>\r\n            </Grid>\r\n            <Grid spacing={2} xs={12} item sm={6}>\r\n               <Item>\r\n                  <CustomLabel>Full name-</CustomLabel>\r\n                  <span>{fullName}</span>\r\n               </Item>\r\n            </Grid>\r\n            {Object.entries(contacts).map((item, i) => <Grid\r\n               key={i}\r\n               spacing={2}\r\n               item xs={12} sm={6}>\r\n               <Item>\r\n                  <ContactsItem title={item[0]} value={item[1]}/>\r\n               </Item>\r\n            </Grid>)}\r\n         </Grid>\r\n         {isOwn &&\r\n         <Button\r\n            size=\"large\"\r\n            sx={{\r\n               mt: 1\r\n            }}\r\n            variant=\"contained\"\r\n            type=\"submit\"\r\n            onClick={() => dispatch(toggleEditMode())}>\r\n            Edit my details\r\n         </Button>}\r\n      </>\r\n   )\r\n}\r\n\r\ninterface ContactsType {\r\n   title: string\r\n   value: string | null\r\n}\r\n\r\nlet ContactsItem: FC<ContactsType> = ({title, value}) => {\r\n   let newTitle = title[0].toUpperCase() + title.slice(1,title.length)\r\n   return (\r\n      <>\r\n         <CustomLabel>{newTitle} -</CustomLabel>\r\n         <span>{value || \"unknown\"}</span>\r\n      </>\r\n   )\r\n}","import React, {FC, useEffect, useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport {updateProfileStatus} from \"../../redax/profileReducer\";\r\nimport {LinearProgress, TextField} from '@mui/material';\r\n\r\nexport let Status: FC<{isOwn: boolean}> = ({isOwn}) => {\r\n   let dispatch = useDispatch()\r\n   let status = useTypesSelector(state => state.profilePage.status)\r\n   let pending = useTypesSelector(state => state.profilePage.pendingStatus)\r\n\r\n   let [inputValue, setInputValue] = useState<string>(status || \"\")\r\n\r\n\r\n\r\n   useEffect(() => {\r\n      if(inputValue !== status) setInputValue(status || \"\")\r\n   }, [status])\r\n\r\n   let submitStatus = () => {\r\n      if(status !== inputValue) dispatch(updateProfileStatus(inputValue))\r\n   }\r\n\r\n   let onStatusChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      setInputValue(e.target.value);\r\n   }\r\n\r\n   return <>\r\n      {pending && <LinearProgress sx={{\r\n         mb:2\r\n      }}/>}\r\n      <TextField\r\n         disabled={isOwn ? pending: true }\r\n         onBlur={() => submitStatus()}\r\n         value={inputValue}\r\n         onChange={onStatusChange}\r\n         fullWidth\r\n         label=\"Status\"\r\n         onKeyDown={(event) => {\r\n            if (event.keyCode === 13){\r\n               submitStatus()\r\n               //@ts-ignore\r\n               event.target.blur()\r\n            }\r\n         }}\r\n      />\r\n   </>\r\n}","import * as React from 'react';\r\nimport {Box, Button, Typography} from '@mui/material';\r\nimport {ChangeEvent, FC} from \"react\";\r\nimport {styled} from '@mui/material/styles';\r\nimport {Status} from \"../status\";\r\nimport {setProfilePhoto} from \"../../../redax/profileReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useTypesSelector} from \"../../../app/hooks\";\r\n\r\ntype ProfileTop = {\r\n   isOwn: boolean\r\n   src: string\r\n}\r\nconst Input = styled('input')({\r\n   display: 'none',\r\n});\r\n\r\nlet ImgWrapper = styled(\"div\")(({theme}) => ({\r\n   border: \"2px solid white\",\r\n   height: \"250px\",\r\n   [theme.breakpoints.up('xs')]:{\r\n      width: \"100%\"\r\n   },\r\n   [theme.breakpoints.up('sm')]:{\r\n      width: \"250px\",\r\n      flex: \"0 0 250px\"\r\n   },\r\n   marginRight: theme.spacing(1),\r\n   borderRadius: theme.spacing(1),\r\n   position: \"relative\",\r\n}))\r\n\r\nexport let ProfileTop: FC<ProfileTop> = ({src, isOwn}) => {\r\n   let fullName = useTypesSelector(state => state.profilePage.userProfile?.fullName)\r\n   let dispatch = useDispatch()\r\n   let putPhoto = (e: ChangeEvent<HTMLInputElement>) => {\r\n      if (e.target.files?.length) {\r\n         dispatch(setProfilePhoto(e.target.files[0]))\r\n      }\r\n   }\r\n   return (\r\n      <Box\r\n         sx={{\r\n            display: 'flex',\r\n\r\n            flexDirection: {xs: 'column', sm: 'row'},\r\n            bgcolor: '#bab0b0',\r\n            overflow: 'hidden',\r\n            boxShadow: 1,\r\n            fontWeight: 'bold',\r\n            p: 2,\r\n         }}\r\n      >\r\n         <ImgWrapper >\r\n            <Box\r\n               component=\"img\"\r\n               sx={{\r\n                  position: \"absolute\",\r\n                  objectFit: \"cover\",\r\n                  top: 0,\r\n                  left: 0,\r\n                  width: \"100%\",\r\n                  height: \"100%\",\r\n               }}\r\n               alt=\"It's my own picture\"\r\n               src={src}\r\n            />\r\n         </ImgWrapper>\r\n         <Box sx={{\r\n            flex: \"1 1 auto\"\r\n         }}>\r\n            <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n               {fullName}\r\n            </Typography>\r\n            {!isOwn || <label htmlFor=\"change-photo\">\r\n               <Input onChange={putPhoto} id=\"change-photo\" type=\"file\" accept=\"image/*\"/>\r\n               <Button\r\n                  size=\"large\"\r\n                  sx={{\r\n                     borderRadius: 1,\r\n                     mb: 2\r\n                  }}\r\n                  variant=\"contained\"\r\n                  component=\"span\">\r\n                  Change photo\r\n               </Button>\r\n            </label>}\r\n            <Status isOwn={isOwn}/>\r\n         </Box>\r\n      </Box>\r\n   );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/1024px-User-avatar.svg.6ca1b977.png\";","import s from \"../profile.module.css\";\r\nimport React, {FC, useEffect} from \"react\";\r\nimport Loading from \"../../users/loading\";\r\nimport {AboutForm} from \"./aboutMeForm\";\r\nimport {useAppDispatch, useTypesSelector} from \"../../../app/hooks\";\r\nimport {AboutMe} from \"./aboutMe\";\r\nimport {ProfileTop} from \"./profileTop\";\r\nimport img from \"./../../../asserts/1024px-User-avatar.svg.png\"\r\nimport {toggleEditMode} from \"../../../redax/profileReducer\";\r\nimport {Box} from \"@mui/material\";\r\n\r\ninterface IInfo {\r\n   isOwn: boolean\r\n}\r\n\r\n\r\nexport let Info: FC<IInfo> = (props) => {\r\n   let edit = useTypesSelector(state => state.profilePage.editMode)\r\n   let userProfile = useTypesSelector(state => state.profilePage.userProfile)\r\n   let dispatch = useAppDispatch()\r\n\r\n   useEffect(() => {\r\n\r\n      return () => {\r\n         //не вызывается если страница перезагружена или закрыт браузер\r\n         dispatch(toggleEditMode(false))\r\n      }\r\n   }, [])\r\n\r\n\r\n   if (!userProfile) {\r\n      return (<Loading />)\r\n   } else {\r\n      return (\r\n         <div className={s.infoWrapper}>\r\n            <ProfileTop\r\n               src={userProfile.photos.large || userProfile.photos.small || img}\r\n               isOwn={props.isOwn}\r\n            />\r\n            <Box sx={{\r\n               bgcolor: \"#bab0b0\",\r\n               width: \"100%\",\r\n               boxShadow: 1,\r\n               mt: 1,\r\n            }} className={s.addPost}>\r\n               <Box sx={{\r\n                  padding: (theme) => theme.spacing(1),\r\n                  pt: 2,\r\n                  textAlign: \"end\",\r\n                  flex: \"1 1 auto\"\r\n               }}>\r\n                  {edit || <AboutMe isOwn={props.isOwn} {...userProfile} />}\r\n                  {props.isOwn && edit && <AboutForm/>}\r\n               </Box>\r\n            </Box>\r\n         </div>\r\n      )\r\n   }\r\n}\r\n\r\n/*type InfoFormType = {\r\n   addPost: (data: addPostPropsType) => void\r\n}*/\r\n\r\n/*\r\nlet InfoForm: FC<InfoFormType> = ({ addPost }) => {\r\n   let { handleSubmit, register, formState: { errors } } = useForm<addPostPropsType>()\r\n   return (\r\n      <form onSubmit={handleSubmit(addPost)}>\r\n         <input {...register(\"post\", {\r\n            maxLength: {\r\n               value: 20,\r\n               message: \"Пожалуйста поменьше букв\"\r\n            }\r\n         })} placeholder={\"Введите свое сообщение\"} className={s.texarea} />\r\n         {errors.post && <p>{errors.post.message}</p>}\r\n         <button className={s.add}>submit</button>\r\n      </form>\r\n   )\r\n}\r\n*/\r\n\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport {getProfileStatus, getUserProfile} from \"../../redax/profileReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Navigate, useParams} from \"react-router-dom\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport {Info} from \"./aboutMe/info\";\r\nimport {Box, Typography} from \"@mui/material\";\r\n\r\nfunction testMyId(id: number | null): asserts id is number {\r\n    if (typeof id !== \"number\") throw new Error(\"Ошибка доступа\")\r\n}\r\n\r\nexport let Profile = () => {\r\n    let myId = useTypesSelector(state => state.auth.userId)\r\n    let isInitialize = useTypesSelector(state => state.auth.isLog)\r\n    let { userId } = useParams<string>()\r\n    let dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getProfileStatus(Number(userId)))\r\n        dispatch(getUserProfile(Number(userId)))\r\n    }, [userId])\r\n\r\n\r\n\r\n    if (isInitialize === false){\r\n        return <Navigate to={\"/login\"} replace={true} />\r\n    }\r\n    testMyId(myId)\r\n    return (\r\n        <Info isOwn={myId === Number(userId)} />\r\n    )\r\n}\r\n\r\nexport let ProfileRedirect = () => {\r\n    let myId = useTypesSelector(state => state.auth.userId)\r\n    return <Navigate to={myId ? `/profile/${myId}` : \"/login\"} replace={true} />\r\n}\r\n\r\nexport let NotFound = () => {\r\n    return <Box sx={{\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\"\r\n    }}>\r\n        <Typography variant={\"h4\"}>\r\n            404 Not Found\r\n        </Typography>\r\n    </Box>\r\n}\r\n\r\nexport let Discklamer = () => {\r\n    return <Box sx={{\r\n        width: \"100%\",\r\n        height: \"calc(100vh - 70px)\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\"\r\n    }}>\r\n        <Typography variant={\"h4\"}>\r\n            Чтобы увидеть содержимое страницы необходимо войти в аккаунт\r\n        </Typography>\r\n    </Box>\r\n}","import React from \"react\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport styled from \"@emotion/styled\";\r\nimport {Avatar, Box, Button} from \"@mui/material\";\r\nimport img from \"./../../asserts/1024px-User-avatar.svg.png\"\r\n\r\nlet Header = styled(\"header\")({\r\n   width: \"100%\",\r\n   height: \"60px\",\r\n   padding: \"5px 0\",\r\n   position: \"fixed\",\r\n   top: 0,\r\n   left: 0,\r\n   zIndex: 50,\r\n   borderBottom: \"1px solid #B2B2B2FF\",\r\n   backgroundColor: \"#fff\"\r\n\r\n})\r\n\r\nexport let HeaderContainer = () => {\r\n   let images = useTypesSelector(state => state.auth.photos)\r\n   let isLog = useTypesSelector(state => state.auth.isLog)\r\n\r\n   return (\r\n      <>\r\n         <Header>\r\n            <Box sx={{\r\n               padding: {\r\n                  sm: \"0 10px\",\r\n                  xs: \"0 5px\"\r\n               },\r\n               maxWidth: {\r\n                  xs: \"100%\",\r\n                  sm: 600,\r\n                  md: 800,\r\n                  lg: 1000,\r\n                  xl: 1200,\r\n               },\r\n               height: \"100%\",\r\n               margin: \"0 auto\",\r\n            }}>\r\n               <Box sx={{\r\n                  padding: \"0 10px\",\r\n                  display: \"flex\",\r\n                  height: \"100%\",\r\n                  borderLeft: \"1px solid #B2B2B2FF\",\r\n                  borderRight: \"1px solid #B2B2B2FF\",\r\n                  alignItems: \"center\",\r\n               }}>\r\n                  <Box sx={{display: \"flex\"}}>\r\n                     <Button sx={{\r\n                        marginRight: {\r\n                           xs: \"5px\",\r\n                           sm: \"10px\"\r\n                        }\r\n                     }} variant=\"contained\" size=\"small\"\r\n                             href=\"/profile\">\r\n                        {isLog ? \"Profile\" : \"Login\"}\r\n                     </Button>\r\n                     <Button\r\n                        sx={{\r\n                        marginRight: {\r\n                           xs: \"5px\",\r\n                           sm: \"10px\"\r\n                        }\r\n                     }} variant=\"contained\" size=\"small\"\r\n                             href=\"/dialogs\">\r\n                        Dialogs\r\n                     </Button>\r\n                     <Button variant=\"contained\" size=\"small\"\r\n                             href=\"/users\">\r\n                        Users\r\n                     </Button>\r\n                  </Box>\r\n                  <Box sx={{flex: \"1 1 auto\", display: \"flex\", justifyContent: \"flex-end\"}}>\r\n                     <Avatar src={images?.small || images?.large || img}/>\r\n                  </Box>\r\n               </Box>\r\n            </Box>\r\n         </Header>\r\n\r\n      </>\r\n   )\r\n}\r\n\r\n\r\n","import Box from \"@mui/material/Box\"\r\nimport {useLocation, useNavigate} from \"react-router-dom\";\r\nimport {Button, TextField, Typography} from \"@mui/material\";\r\nimport {FC, useCallback} from \"react\";\r\nimport {getFormData, setFormData} from \"../../../dal/sessionStorageAPI\";\r\nimport {useForm} from \"react-hook-form\";\r\n\r\n\r\nexport let LoginStep: FC<{ title: string }> = ({title}) => {\r\n   let {handleSubmit, register} = useForm({defaultValues: {...getFormData()}})\r\n   let navigate = useNavigate()\r\n   let location = useLocation()\r\n\r\n\r\n   let onSubmit = useCallback((data: object) => {\r\n      console.log(data)\r\n      setFormData(data)\r\n      navigate(location.pathname + location.search + location.hash,\r\n         {state: {activeStep: 1}})\r\n   }, [navigate, location])\r\n\r\n   return <Box>\r\n      <Typography sx={{p: 2, textAlign: \"center\"}} variant={\"h5\"}>{title}</Typography>\r\n      <Box component={\"form\"} sx={{\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         alignItems: \"center\"\r\n      }} onSubmit={handleSubmit(onSubmit)}>\r\n         <TextField sx={{mb: 2}} {...register(\"email\")}/>\r\n         <Button variant={\"contained\"} type={\"submit\"}>next</Button>\r\n      </Box>\r\n   </Box>\r\n}","import Box from \"@mui/material/Box\"\r\nimport {FC, useCallback} from \"react\";\r\nimport {getFormData, setFormData} from \"../../../dal/sessionStorageAPI\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {useLocation, useNavigate} from \"react-router-dom\";\r\nimport {Button, IconButton, TextField, Typography} from \"@mui/material\";\r\nimport {KeyboardBackspace} from \"@mui/icons-material\";\r\n\r\n\r\nexport let PasswordStep: FC<{ title: string }> = ({title}) => {\r\n   let {handleSubmit, register} = useForm({defaultValues: {...getFormData()}})\r\n   let navigate = useNavigate()\r\n   let location = useLocation()\r\n\r\n\r\n   let onSubmit = useCallback((data: object) => {\r\n      console.log(data)\r\n      setFormData(data)\r\n      navigate(location.pathname + location.search + location.hash,\r\n         {state: {activeStep: 2}})\r\n   }, [navigate, location])\r\n\r\n   const onBack = useCallback(() => {\r\n      navigate(-1)\r\n   }, [navigate]);\r\n\r\n   return <Box>\r\n      <Typography sx={{p: 2, textAlign: \"center\"}} variant={\"h5\"}>{title}</Typography>\r\n\r\n      <Box component={\"form\"} sx={{\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         alignItems: \"center\"\r\n      }} onSubmit={handleSubmit(onSubmit)}>\r\n         <TextField sx={{mb: 2}} {...register(\"password\")}/>\r\n         <Box sx={{display: \"flex\"}}>\r\n            <IconButton sx={{mr: 2}}  onClick={onBack}>\r\n               <KeyboardBackspace fontSize=\"inherit\" />\r\n            </IconButton>\r\n            <Button variant={\"outlined\"} type={\"submit\"}>next</Button>\r\n         </Box>\r\n      </Box>\r\n   </Box>\r\n}","import Box from \"@mui/material/Box\"\r\nimport {FC, useCallback} from \"react\";\r\nimport {getFormData, setFormData} from \"../../../dal/sessionStorageAPI\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {useLocation, useNavigate} from \"react-router-dom\";\r\nimport {Button, Checkbox, IconButton, Typography} from \"@mui/material\";\r\nimport {KeyboardBackspace} from \"@mui/icons-material\";\r\nimport {ILoginAction} from \"../../../redax/authReducer\";\r\nimport {useTypesSelector} from \"../../../app/hooks\";\r\n\r\n\r\ninterface IOptionStep {\r\n   title: string\r\n   genSubmit: (data: ILoginAction) => void\r\n}\r\n\r\n\r\nexport let OptionsStep: FC<IOptionStep> = ({title,genSubmit}) => {\r\n   let {handleSubmit, register} = useForm<ILoginAction>({defaultValues: {...getFormData()}})\r\n   let navigate = useNavigate()\r\n   let location = useLocation()\r\n   let captcha = useTypesSelector(state => state.auth.urlCaptcha)\r\n\r\n\r\n   let onSubmit = useCallback(async (data: ILoginAction) => {\r\n      setFormData(data)\r\n      console.log(data)\r\n      if(captcha){\r\n         let path = location.pathname + location.search + location.hash\r\n         navigate(path, {state: {activeStep: 3}})\r\n      }else{\r\n         genSubmit(data)\r\n      }\r\n   }, [])\r\n\r\n   const onBack = useCallback(() => {\r\n      navigate(-1)\r\n   }, [navigate]);\r\n\r\n\r\n   return <Box>\r\n      <Typography sx={{p: 2, textAlign: \"center\"}} variant={\"h5\"}>{title}</Typography>\r\n\r\n      <Box component={\"form\"} sx={{\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         alignItems: \"center\"\r\n      }} onSubmit={handleSubmit(onSubmit)}>\r\n         <Checkbox sx={{mb: 2}} {...register(\"rememberMe\")}/>\r\n         <Box sx={{display: \"flex\"}}>\r\n            <IconButton sx={{mr: 2}}  onClick={onBack}>\r\n               <KeyboardBackspace fontSize=\"inherit\" />\r\n            </IconButton>\r\n            <Button variant={\"outlined\"} type={\"submit\"}>next</Button>\r\n         </Box>\r\n      </Box>\r\n   </Box>\r\n\r\n\r\n}","import {ILoginAction} from \"../../../redax/authReducer\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {useTypesSelector} from \"../../../app/hooks\";\r\nimport {Button, IconButton, TextField, Typography} from \"@mui/material\";\r\nimport {FC, useCallback} from \"react\";\r\nimport {getFormData, setFormData} from \"../../../dal/sessionStorageAPI\";\r\nimport {KeyboardBackspace} from \"@mui/icons-material\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport Box from \"@mui/material/Box\";\r\n\r\ninterface ICaptchaOptions {\r\n   onGenSubmit: (data: ILoginAction) => void\r\n   title: string\r\n}\r\n\r\nexport let CaptchaPage:FC<ICaptchaOptions> = ({onGenSubmit,title}) => {\r\n   let {handleSubmit, register} = useForm<ILoginAction>({defaultValues: {...getFormData()}})\r\n   let captchaURI = useTypesSelector(state => state.auth.urlCaptcha)\r\n   let navigate = useNavigate()\r\n   let onSubmit = (data: ILoginAction) => {\r\n      console.log(data)\r\n      setFormData(data)\r\n      onGenSubmit(data)\r\n   }\r\n\r\n   const onBack = useCallback(() => {\r\n      navigate(-1)\r\n   }, [navigate]);\r\n\r\n\r\n   return <Box>\r\n      <Typography sx={{p: 2, textAlign: \"center\"}} variant={\"h5\"}>{title}</Typography>\r\n\r\n      <Box component={\"form\"} sx={{\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         alignItems: \"center\"\r\n      }} onSubmit={handleSubmit(onSubmit)}>\r\n         <Box component={\"img\"} sx={{w: \"200px\", h: \"100px\", mb: 2}} src={captchaURI || \"\"}/>\r\n         <TextField sx={{mb: 2}} {...register(\"captcha\")}/>\r\n         <Box sx={{display: \"flex\"}}>\r\n            <IconButton sx={{mr: 2}}  onClick={onBack}>\r\n               <KeyboardBackspace fontSize=\"inherit\" />\r\n            </IconButton>\r\n            <Button variant={\"outlined\"} type={\"submit\"}>Submit</Button>\r\n         </Box>\r\n      </Box>\r\n   </Box>\r\n\r\n}","import React, {ReactNode, useCallback, useLayoutEffect, useState} from \"react\";\r\nimport {Box, Step, StepLabel, Stepper} from \"@mui/material\";\r\nimport {Navigate, useLocation, useNavigate} from \"react-router-dom\";\r\nimport {LoginStep} from \"./steps/LoginStep\";\r\nimport {PasswordStep} from \"./steps/PasswordStep\";\r\nimport {OptionsStep} from \"./steps/OptionsStep\";\r\nimport {ILoginAction, logIn} from \"../../redax/authReducer\";\r\n\r\nimport {CaptchaPage} from \"./steps/CaptchaPage\";\r\nimport {useAppDispatch, useTypesSelector} from \"../../app/hooks\";\r\nimport Loading from \"../users/loading\";\r\n\r\n\r\nexport interface ILocationState {\r\n   activeStep: number\r\n}\r\n\r\nexport let Login = () => {\r\n   let location = useLocation()\r\n   let state = location.state as ILocationState\r\n   if(!state) state = {activeStep: 0}\r\n   let error = useTypesSelector(state => state.auth.error)\r\n   let dispatch = useAppDispatch()\r\n   let navigate = useNavigate()\r\n   let captcha = useTypesSelector(state => state.auth.urlCaptcha)\r\n   let isLog = useTypesSelector(state => state.auth.isLog)\r\n   let myId = useTypesSelector(state => state.auth.userId)\r\n   let pending = useTypesSelector(state => state.auth.pending)\r\n\r\n   let [tabs,setTabs] = useState([\r\n      {title: \"Login\"},\r\n      {title: \"Password\"},\r\n      {title: \"Options\"}\r\n   ])\r\n\r\n   let submit = useCallback(async (data: ILoginAction) => {\r\n      dispatch(logIn(data))\r\n   },[])\r\n\r\n\r\n   useLayoutEffect(() => {\r\n      if(captcha && tabs.length === 3){\r\n         let path = location.pathname + location.search + location.hash\r\n         navigate(path, {state: {activeStep: 3}})\r\n         //@ts-ignore\r\n         setTabs(tabs => [...tabs, {\r\n            component: CaptchaPage,\r\n            title: \"captcha\"\r\n         }])\r\n      }\r\n   },[captcha,navigate])\r\n\r\n   useLayoutEffect(() => {\r\n      let path = location.pathname + location.search + location.hash\r\n      navigate(path, {state: {activeStep: 0}})\r\n   },[error])\r\n\r\n\r\n\r\n   let Component\r\n   if (state.activeStep === 0) {\r\n      Component = <LoginStep title={\"Login\"}/>\r\n   } else if (state.activeStep === 1) {\r\n      Component = <PasswordStep title={\"Password\"}/>\r\n   } else if (state.activeStep === 2) {\r\n      Component = <OptionsStep\r\n         title={\"Options\"}\r\n         genSubmit={submit}\r\n      />\r\n   } else if(state.activeStep === 3){\r\n      Component = <CaptchaPage title={\"Captcha\"} onGenSubmit={submit}/>\r\n   }\r\n\r\n\r\n   if(isLog){\r\n      return <Navigate to={myId ? `/profile/${myId}` : \"/login\"} replace={true} />\r\n   }\r\n\r\n   if(pending){\r\n      return <Loading />\r\n   }\r\n\r\n   return (\r\n      <Box>\r\n         <Stepper sx={{\r\n            p: 2\r\n         }} activeStep={state.activeStep}>\r\n            {tabs.map(({title},index) => {\r\n               let labelProps: {\r\n                  optional?: ReactNode\r\n                  error?: boolean\r\n               } = {}\r\n\r\n               if(error){\r\n                  if(state.activeStep <= index){\r\n                     labelProps.error = true\r\n                     labelProps.optional = <div>Исправьте ошибку</div>\r\n                  }\r\n               }\r\n               return <Step key={title}>\r\n                  <StepLabel {...labelProps}>{title}</StepLabel>\r\n               </Step>\r\n            })}\r\n            {}\r\n         </Stepper>\r\n         {Component || \"Произошла ошибка\"}\r\n      </Box>\r\n   )\r\n}","import {FC, memo} from \"react\";\r\nimport {IMessage} from \"../../dal/chat-api\";\r\nimport {Avatar, Box, Link} from \"@mui/material\";\r\nimport img from \"./../../asserts/1024px-User-avatar.svg.png\"\r\n\r\ntype messagePropsType = {\r\n   item: IMessage\r\n}\r\n\r\n let Message: FC<messagePropsType> = ({item}) => {\r\n   return (\r\n      <Box sx={{\r\n         display: \"flex\",\r\n         \":not(:first-child)\":{\r\n            marginTop: \"15px\",\r\n         }\r\n\r\n      }}>\r\n         <Box sx={{\r\n            flex: \"0 1 auto\"\r\n         }}>\r\n            <Avatar sx={{\r\n               marginRight: \"5px\"\r\n            }} sizes={\"small\"} src={item.photo || img}/>\r\n         </Box>\r\n         <Box>\r\n            <Link sx={{\r\n               display: \"block\",\r\n               marginBottom: \"5px\"\r\n            }} href={`/profile/${item.userId}`}>{item.userName}</Link>\r\n\r\n            <Box sx={{}}>\r\n               {item.message}\r\n            </Box>\r\n         </Box>\r\n      </Box>\r\n   )\r\n}\r\n\r\nexport default memo(Message)","export type statusType = \"pending\" | \"ready\" | \"error\"\r\n\r\nexport interface IMessage {\r\n    message: string\r\n    photo: string\r\n    userId: number\r\n    userName: string\r\n    id: string\r\n}\r\n\r\nlet ws: WebSocket | null = null\r\nlet _timerId: ReturnType<typeof setTimeout> | null = null\r\n\r\n\r\nlet cleanUp = () => {\r\n    ws?.removeEventListener(\"open\",openHandler)\r\n    ws?.removeEventListener(\"message\",messageHandler)\r\n    ws?.removeEventListener(\"error\",errorHandler)\r\n    ws?.removeEventListener('close',closeHandler)\r\n}\r\n\r\nlet openHandler = () => {\r\n    notifyStatusSubscribers(\"ready\")\r\n}\r\nlet messageHandler = (event: MessageEvent) => {\r\n    let newMessage = JSON.parse(event.data)\r\n    subscribers[\"message-received\"].forEach(item => item(newMessage))\r\n};\r\nlet errorHandler = () => {\r\n    notifyStatusSubscribers(\"error\")\r\n}\r\nlet closeHandler = () => {\r\n    notifyStatusSubscribers(\"pending\")\r\n    _timerId = setTimeout(createChannel,3000)\r\n}\r\n\r\nlet notifyStatusSubscribers = (status: statusType) => {\r\n    subscribers[\"status-changed\"].forEach(item => item(status))\r\n}\r\n\r\nlet createChannel = async () => {\r\n    await cleanUp()\r\n    await ws?.close()\r\n    ws = await new WebSocket(\"wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\")\r\n    await notifyStatusSubscribers(\"pending\")\r\n    await ws.addEventListener(\"open\", openHandler)\r\n    await ws.addEventListener(\"close\",closeHandler)\r\n    await ws.addEventListener(\"message\", messageHandler)\r\n    await ws.addEventListener(\"error\", errorHandler)\r\n\r\n}\r\n\r\n\r\nexport type MessageObs = (message: IMessage[]) => void\r\nexport type StatusObs = (status: statusType) => void\r\n\r\n\r\nexport type eventType = \"message-received\" | \"status-changed\"\r\n\r\n\r\ninterface ISubscribers{\r\n    \"message-received\": MessageObs[]\r\n    \"status-changed\": StatusObs[]\r\n}\r\n\r\nconst subscribers: ISubscribers = {\r\n    \"status-changed\": [],\r\n    \"message-received\": [],\r\n}\r\n\r\nexport let ChatApi = {\r\n    start(){\r\n        console.log('start')\r\n        createChannel()\r\n    },\r\n    subscribe<T extends eventType>(event: T, observer: T extends \"message-received\" ? MessageObs : StatusObs) {\r\n        //@ts-ignore\r\n        subscribers[event].push(observer)\r\n        return () => {\r\n            //@ts-ignore\r\n            subscribers[event] = subscribers[event].filter(item => item !== observer)\r\n        }\r\n    },\r\n    unsubscribe(event: eventType,observer:MessageObs | StatusObs){\r\n        //@ts-ignore\r\n        subscribers[event] = subscribers[event].filter(item => item !== observer)\r\n    },\r\n    sendMessage(message: string){\r\n        ws?.send(message)\r\n    },\r\n    stop(){\r\n        subscribers[\"message-received\"] = []\r\n        subscribers[\"status-changed\"] = []\r\n        cleanUp()\r\n        ws?.close()\r\n        if(_timerId) clearTimeout(_timerId)\r\n    }\r\n}\r\n\r\n","import {\r\n   StatusObs,\r\n   ChatApi,\r\n   IMessage,\r\n   MessageObs,\r\n   statusType\r\n} from \"../dal/chat-api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {createAsyncThunk, createSlice, nanoid, PayloadAction} from \"@reduxjs/toolkit\";\r\n\r\n\r\nexport type dialogPageType = {\r\n   message: Array<IMessage>\r\n   status: statusType\r\n}\r\n\r\nlet initialState: dialogPageType = {\r\n   status: \"pending\",\r\n   message: [],\r\n}\r\n\r\nlet dialogSlice = createSlice({\r\n   name: \"dialogs\",\r\n   initialState,\r\n   reducers: {\r\n      responseMessage: {\r\n         reducer(state, action: PayloadAction<IMessage[]>) {\r\n            state.message = [...state.message, ...action.payload]\r\n         },\r\n         prepare(messages: IMessage[]) {\r\n            return {\r\n               payload: messages.map(item => {\r\n                  item.id = nanoid()\r\n                  return item\r\n               })\r\n            }\r\n         }\r\n      },\r\n      changeStatus(state, action: PayloadAction<statusType>) {\r\n         state.status = action.payload\r\n      },\r\n      cleanState(state) {\r\n         state.message = []\r\n      }\r\n   }\r\n})\r\nexport default dialogSlice.reducer\r\nexport let {cleanState} = dialogSlice.actions\r\n\r\n\r\nlet _messageHandler: MessageObs | null = null\r\nlet getMessageHandler = (dispatch: Dispatch): MessageObs => {\r\n   if (_messageHandler === null) {\r\n      _messageHandler = (messages: IMessage[]) => {\r\n         dispatch(dialogSlice.actions.responseMessage(messages))\r\n      }\r\n   }\r\n   return _messageHandler\r\n}\r\n\r\nlet _statusHandler: StatusObs | null = null\r\nlet getStatusHandler = (dispatch: Dispatch): StatusObs => {\r\n   if (_statusHandler === null) {\r\n      _statusHandler = (status: statusType) => {\r\n         dispatch(dialogSlice.actions.changeStatus(status))\r\n      }\r\n   }\r\n   return _statusHandler\r\n}\r\n\r\n\r\nexport let startListeningMessage = createAsyncThunk(\r\n   \"dialogs/startListenMessage\",\r\n   async (_, {dispatch}) => {\r\n      ChatApi.start()\r\n      ChatApi.subscribe(\"message-received\", getMessageHandler(dispatch))\r\n      ChatApi.subscribe(\"status-changed\", getStatusHandler(dispatch))\r\n   }\r\n)\r\n\r\nexport let stopListeningMessage = createAsyncThunk(\r\n   \"dialogs/stopListenMessage\",\r\n   async (_) => {\r\n      ChatApi.stop()\r\n   }\r\n)\r\n","import Message from \"./massage\";\r\nimport profileStyle from \"./../profile/profile.module.css\";\r\nimport React, {FC, useEffect, useRef, useState} from \"react\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {cleanState, startListeningMessage, stopListeningMessage} from \"../../redax/dialogsReducer\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {ChatApi} from \"../../dal/chat-api\";\r\nimport {Box, Button, TextField} from \"@mui/material\";\r\nimport {Discklamer} from \"../profile/Profile\";\r\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\r\n\r\nlet submitForm: (data: { message: string }) => void = (data) => {\r\n   if (!data.message) return\r\n   ChatApi.sendMessage(data.message)\r\n}\r\n\r\nexport let Dialogs: FC = () => {\r\n   let messages = useTypesSelector(state => state.dialogsPage.message)\r\n   let status = useTypesSelector(state => state.dialogsPage.status)\r\n   let isScroll = useRef<boolean>(true)\r\n   let prevScroll = useRef<number>(0)\r\n   let chat = useRef<HTMLElement>(null)\r\n   let isInitialize = useTypesSelector(state => state.auth.isLog)\r\n   let [isScrollSt,setIsScrollSt] = useState<boolean>(true)\r\n\r\n   let dispatch = useDispatch()\r\n   useEffect(() => {\r\n      if(isInitialize) {\r\n         dispatch(startListeningMessage())\r\n         return () => {\r\n            dispatch(stopListeningMessage())\r\n            dispatch(cleanState())\r\n         }\r\n      }\r\n   }, [])\r\n\r\n\r\n   let scroll = (useRef?: true) => {\r\n      let tmp = chat.current\r\n      let flag = isScroll.current\r\n      if(useRef) flag = true\r\n      if (flag && tmp && tmp.scrollHeight !== tmp.offsetHeight + tmp.scrollTop) {\r\n         prevScroll.current = tmp.scrollTop\r\n         tmp.scrollBy({\r\n            top: tmp.scrollHeight - tmp.offsetHeight - tmp.scrollTop,\r\n            behavior: 'smooth'\r\n         });\r\n      }\r\n   }\r\n\r\n\r\n   useEffect(() => {\r\n   //подписываемся на событие сролла в контейнере сообщений\r\n\r\n      let handler = (event: any) => {\r\n         // defaultValue isScroll.current === false\r\n         let tmp = event.target\r\n\r\n\r\n         if (prevScroll.current > tmp.scrollTop ) {\r\n         //если проскроллили вверх\r\n\r\n            setIsScrollSt(false)\r\n\r\n            //отключаем автоскролл\r\n            isScroll.current = false\r\n\r\n         }else{\r\n         //если проскролли вниз\r\n\r\n\r\n             setIsScrollSt(true)\r\n\r\n            //еcли доскролили до конца\r\n            if(tmp.scrollHeight === (tmp.scrollTop + tmp.offsetHeight)){\r\n               setIsScrollSt(false)\r\n               //включаем автоскролл\r\n               isScroll.current = true\r\n            }\r\n         }\r\n         prevScroll.current = event.target.scrollTop\r\n      }\r\n\r\n      chat.current?.addEventListener(\"scroll\", handler)\r\n      return () => {\r\n         chat.current?.removeEventListener(\"scroll\", handler)\r\n      }\r\n   }, [])\r\n\r\n   useEffect(() => {\r\n      // при появлении новых сообщений\r\n      //если скролл разрешен и не проскроленно до конца - скролим до конца\r\n      scroll()\r\n   }, [messages])\r\n   console.log(\"Rerender\")\r\n\r\n   if (isInitialize === false){\r\n      return <Discklamer/>\r\n   }\r\n\r\n   return (\r\n      <Box sx={{\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         flex: \"1 1 auto\",\r\n         \"@media (min-height: 500px)\": {\r\n            maxHeight: \"calc(100vh - 130px)\"\r\n         },\r\n         backgroundColor: \"#ffffff\",\r\n         padding: {\r\n            sm: \"0 10px\",\r\n         },\r\n         position: \"relative\"\r\n      }}>\r\n         <Box\r\n            ref={chat}\r\n            sx={{\r\n               flex: \"1 1 auto\",\r\n               overflowY: \"auto\",\r\n               \"@media (max-height: 500px)\": {\r\n                  flexGrow: 0,\r\n                  flexShrink: 1,\r\n                  flexBasis: \"279px\"\r\n               },\r\n               padding: \"10px 0\",\r\n               display: \"flex\",\r\n               flexDirection: \"column\"\r\n            }}>\r\n            <Box sx={{flex: \"1 1 auto\"}}/>\r\n            {\r\n               messages.map(item => <Message key={item.id} item={item}/>)\r\n            }\r\n         </Box>\r\n         <ArrowDownwardIcon\r\n            onClick={() => {\r\n               console.log(\"Вызов фугкции из обработчика\")\r\n               scroll(true)\r\n            }}\r\n            sx={{\r\n            fontSize: \"40px\",\r\n            position: \"absolute\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: \"50%\",\r\n            border: \"1px solid gray\",\r\n            bottom: \"85px\",\r\n            right:\"15px\",\r\n            \"@media (any-hover: hover)\": {\r\n               right: isScrollSt ? \"45px\" : \"15px\",\r\n            },\r\n            \"@media (any-hover: none)\": {\r\n               right: isScrollSt ? \"20px\" : \"0px\",\r\n            },\r\n            transition: \"all 0.3s ease 0s\",\r\n            opacity: isScrollSt ? \"1\": \"0\",\r\n            visibility: isScrollSt ? \"visible\": \"hidden\"\r\n         }}/>\r\n         <DialogForm ready={!(status === \"ready\")} submitForm={submitForm}/>\r\n      </Box>\r\n   )\r\n}\r\n\r\ninterface DialogForm {\r\n   submitForm: (data: { message: string }) => void\r\n   ready: boolean\r\n}\r\n\r\nlet DialogForm: FC<DialogForm> = ({submitForm, ready}) => {\r\n   let {handleSubmit, register, reset, formState: {errors}} = useForm<{ message: string }>()\r\n   return (\r\n      <Box sx={{\r\n         flex: \"0 0 70px\",\r\n         backgroundColor: \"#706f6f\",\r\n         display: \"flex\",\r\n         alignItems: \"center\",\r\n         margin: \"0 -10px\"\r\n\r\n      }} component={\"form\"} onSubmit={handleSubmit((data: { message: string }) => {\r\n         if (data.message === \"\") return\r\n         submitForm(data)\r\n         reset()\r\n      })}>\r\n\r\n         <TextField\r\n\r\n            size={\"small\"}\r\n            error={!!errors.message}\r\n            helperText={!!errors.message && errors.message.message}\r\n            sx={{\r\n               flex: \"1 1 auto\",\r\n               marginLeft: \"10px\",\r\n            }}\r\n            placeholder={\"Введи свое сообщение\"}\r\n            {...register(\"message\", {\r\n               maxLength: {\r\n                  value: 50,\r\n                  message: \"Пожалуйста поменьше букв\"\r\n               }\r\n            })} className={profileStyle.textarea}\r\n         />\r\n         <Button type={\"submit\"} sx={{\r\n            margin: \"0 10px\"\r\n         }} variant={\"contained\"} disabled={ready}>send</Button>\r\n      </Box>\r\n   )\r\n}\r\n\r\n","import {axiosRequest, friendUnion} from \"../dal/api\";\r\nimport {IUserOfList} from \"../types/types\";\r\nimport {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {AppDispatch, RootState} from \"../app/hooks\";\r\n\r\n\r\n\r\ninterface IUsersInitialState {\r\n   usersID: number[],\r\n   users: {[key: number]: IUserOfList}\r\n   currentPage: number\r\n   totalUsersCount: number\r\n   usersPerPage: number\r\n   isLoading: boolean\r\n   term: string,\r\n   friend: friendUnion\r\n}\r\n\r\nlet initialState: IUsersInitialState = {\r\n   usersID: [],\r\n   users: {},\r\n   currentPage: 1,\r\n   totalUsersCount: 0,\r\n   usersPerPage: 5,\r\n   isLoading: false,\r\n   term: \"\",\r\n   friend: \"\",\r\n}\r\n\r\ninterface IFollowInPrAct { isFetching: boolean, userId: number }\r\n\r\nlet usersSlice = createSlice({\r\n   name: \"users\",\r\n   initialState,\r\n   reducers: {\r\n      setCurrentPage(state, action: PayloadAction<number>) {\r\n         state.currentPage = action.payload\r\n      },\r\n      setTerm(state, action: PayloadAction<string>) {\r\n         state.term = action.payload\r\n      },\r\n      setFriend(state, action: PayloadAction<\"true\" | \"false\" | \"\">) {\r\n         state.friend = action.payload\r\n      },\r\n      setUsersOnPage(state, action: PayloadAction<number>) {\r\n         state.usersPerPage = action.payload\r\n      },\r\n      toggleLoading(state) {\r\n         state.isLoading = !state.isLoading\r\n      },\r\n      setUsers(state, action: PayloadAction<IUserOfList[]>){\r\n         action.payload.forEach(item => {\r\n            state.users[item.id] = item\r\n         })\r\n         state.usersID = action.payload.map(item => item.id)\r\n\r\n      },\r\n      setTotalUsersCount(state, action: PayloadAction<number>) {\r\n         state.totalUsersCount = action.payload\r\n      },\r\n      followInProgress(state, action: PayloadAction<IFollowInPrAct>) {\r\n         state.users[action.payload.userId].pendingFollow = action.payload.isFetching\r\n      },\r\n      unfollow(state,action:PayloadAction<number>){\r\n         state.users[action.payload].followed = false\r\n      },\r\n      follow(state,action:PayloadAction<number>){\r\n         state.users[action.payload].followed = true\r\n      }\r\n   }\r\n})\r\n\r\nexport default usersSlice.reducer\r\n\r\nexport let {\r\n   setCurrentPage,\r\n   setTerm,\r\n   setFriend,\r\n   setUsersOnPage,\r\n   toggleLoading,\r\n   setUsers,\r\n   setTotalUsersCount,\r\n   followInProgress,\r\n   unfollow,\r\n   follow\r\n} = usersSlice.actions\r\n\r\nexport interface ISearchFilters {\r\n   term: string,\r\n   friend: friendUnion,\r\n   usersPerPage: number\r\n   currentPage?: number\r\n}\r\n\r\nexport let applyFilters = createAsyncThunk<void, ISearchFilters,\r\n   {\r\n      dispatch: AppDispatch\r\n      state: RootState\r\n   }>(\r\n   \"users/applyFilters\",\r\n    (a: ISearchFilters, {dispatch,getState}) => {\r\n      let {term,friend,usersPerPage} = getState().usersPage\r\n      if(term !== a.term) dispatch(setTerm(a.term))\r\n      if(friend !== a.friend) dispatch(setFriend(a.friend))\r\n      if(usersPerPage !== a.usersPerPage) dispatch(setUsersOnPage(+a.usersPerPage || 1))\r\n\r\n      if(a.currentPage !== undefined) dispatch(setCurrentPage(+a.currentPage || 1))\r\n      else {\r\n         if (\r\n            term !== a.term ||\r\n            friend !== a.friend ||\r\n            usersPerPage !== a.usersPerPage\r\n         ) dispatch(setCurrentPage(1))\r\n      }\r\n   }\r\n)\r\n\r\n\r\n//getUsersCreator\r\nexport let getUsers = createAsyncThunk<Promise<any>, void,\r\n   {\r\n      dispatch: AppDispatch\r\n      state: RootState\r\n   }>(\r\n   \"users/getUsers\",\r\n   async (_, {dispatch, getState}) => {\r\n      let {term, friend, currentPage, usersPerPage} = getState().usersPage\r\n      dispatch(toggleLoading())\r\n      let data = await axiosRequest.users.getUsers(currentPage, usersPerPage, term, friend)\r\n      dispatch(toggleLoading())\r\n      dispatch(setUsers(data.items))\r\n      dispatch(setTotalUsersCount(data.totalCount))\r\n   }\r\n)\r\n\r\n\r\ntype changePageArgsType = { pageNumber: number, count: number }\r\nexport let changePageNumber = createAsyncThunk<Promise<any>, changePageArgsType,\r\n   {\r\n      dispatch: AppDispatch\r\n      state: RootState\r\n   }>(\r\n   \"users/changePage\",\r\n   async (arg, {dispatch, getState}) => {\r\n      let {term, friend} = getState().usersPage\r\n      dispatch(toggleLoading())\r\n      dispatch(setCurrentPage(arg.pageNumber))\r\n      let data = await axiosRequest.users.getUsers(arg.pageNumber, arg.count, term, friend)\r\n      dispatch(toggleLoading())\r\n      dispatch(setUsers(data.items))\r\n   }\r\n)\r\n//unfollowedCreator\r\nexport let unfollowUser = createAsyncThunk(\r\n   \"users/unfollowUser\",\r\n   async (itemId: number, {dispatch}) => {\r\n      dispatch(followInProgress({isFetching:true, userId:itemId}))\r\n      let data = await axiosRequest.users.unfollowUser(itemId)\r\n      if (data.resultCode === 0) {\r\n         dispatch(unfollow(itemId))\r\n      }\r\n      dispatch(followInProgress({isFetching:false, userId:itemId}))\r\n   }\r\n)\r\n\r\nexport let followUser = createAsyncThunk(\r\n   \"users/followUser\",\r\n   async (userId: number, {dispatch}) => {\r\n      dispatch(followInProgress({isFetching:true, userId}))\r\n      let data = await axiosRequest.users.followUser(userId)\r\n      if (data.resultCode === 0) {\r\n         dispatch(follow(userId))\r\n      }\r\n      dispatch(followInProgress({isFetching:false, userId}))\r\n   }\r\n)\r\n\r\nexport let usersPerPageSelector = (state: RootState) => state.usersPage.usersPerPage\r\nexport let currentPageSelector = (state: RootState) => state.usersPage.currentPage\r\nexport let friendSelector = (state: RootState) => state.usersPage.friend\r\nexport let termSelector = (state: RootState) => state.usersPage.term\r\n","import {FC} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Box, Button, Link, Typography} from \"@mui/material\";\r\nimport img from \"./../../asserts/1024px-User-avatar.svg.png\"\r\nimport {followUser, unfollowUser} from \"../../redax/usersReducer\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\n\r\ninterface IUserProps {\r\n   id: number\r\n}\r\n\r\n\r\nexport let User: FC<IUserProps> = ({id}) => {\r\n   let dispatch = useDispatch()\r\n   let {\r\n      name,\r\n      status,\r\n      followed,\r\n      photos: {small, large},\r\n      pendingFollow: isDisabledBtn\r\n   } = useTypesSelector(state => state.usersPage.users[id])\r\n\r\n\r\n   const contentBtn = followed ? \"Unfollow\" : \"Follow\"\r\n   let btnHandler = (id: number) => {\r\n      let tmp = followed ? unfollowUser : followUser\r\n      dispatch(tmp(id))\r\n   }\r\n\r\n   return <Box\r\n      sx={{\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         alignItems: \"start\",\r\n         bgcolor: \"background.paper\",\r\n         \":hover\": {\r\n            boxShadow: 10,\r\n         },\r\n         \"@media (any-hover: hover)\": {\r\n            \":hover .userConCont\": {\r\n               visibility: \"visible\",\r\n               opacity: 1,\r\n            },\r\n         },\r\n         \"@media (any-hover: none)\": {\r\n            \".userConCont\": {\r\n               visibility: \"visible\",\r\n               opacity: 1,\r\n            },\r\n         },\r\n         borderRadius: 3,\r\n         position: \"relative\"\r\n      }}\r\n   >\r\n      <Box sx={{\r\n         position: \"relative\",\r\n         width: \"100%\",\r\n         height: \"180px\",\r\n      }}>\r\n         <Box component={\"img\"} src={large || small || img} sx={{\r\n            position: \"absolute\",\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            objectFit: \"cover\",\r\n            top: 0,\r\n            left: 0,\r\n            borderRadius: 3,\r\n         }}/>\r\n      </Box>\r\n      <Box className={\"userConCont\"} sx={{\r\n         position: \"absolute\",\r\n         top: 0,\r\n         left: 0,\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         padding: 1,\r\n         visibility: \"hidden\",\r\n         opacity: 0,\r\n         bgcolor: \"rgba(0,0,0,0.7)\",\r\n         width: \"100%\",\r\n         height: \"100%\",\r\n         boxSizing: \"border-box\",\r\n         borderRadius: 3,\r\n         transition: \"opacity 0.3s ease 0s\"\r\n      }}>\r\n         <Link sx={{flexGrow: status ? 0 : 1}} href={'/profile/' + id}>\r\n            <Typography\r\n               sx={{\r\n                  color: \"common.white\",\r\n                  marginBottom: 1,\r\n                  lineHeight: 1.1\r\n               }}\r\n               variant={\"body2\"}\r\n            >{name}</Typography>\r\n         </Link>\r\n         {status && <Typography\r\n            sx={{\r\n               color: \"common.white\",\r\n               flexGrow: 1,\r\n               overflow: \"hidden\",\r\n               lineHeight: 1.1\r\n            }}\r\n            variant={\"body2\"}>{status}\r\n         </Typography>}\r\n\r\n         <Button\r\n            onClick={() => btnHandler(id)}\r\n            sx={{\r\n               opacity: 1,\r\n               justifySelf: \"end\",\r\n               pt: 1\r\n            }}\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            disabled={isDisabledBtn}>\r\n            {contentBtn}\r\n         </Button>\r\n      </Box>\r\n   </Box>\r\n}","import { Pagination } from \"@mui/material\";\r\nimport React, { FC, memo } from \"react\";\r\nimport { currentPageSelector, setCurrentPage, usersPerPageSelector } from \"../../redax/usersReducer\";\r\nimport { useAppDispatch, useTypesSelector } from \"../../app/hooks\";\r\n\r\nlet MyPaginationWOMemo: FC = () => {\r\n   let totalUsersCount = useTypesSelector(state => state.usersPage.totalUsersCount)\r\n   let currentPage = useTypesSelector(currentPageSelector)\r\n   let usersPerPage = useTypesSelector(usersPerPageSelector)\r\n   let dispatch = useAppDispatch()\r\n\r\n   return <Pagination\r\n      sx={{\r\n         mt: 1,\r\n         mb: 1,\r\n         \"> ul\": {\r\n            justifyContent: \"center\",\r\n         }\r\n      }}\r\n      siblingCount={0}\r\n      boundaryCount={1}\r\n      page={currentPage}\r\n      count={Math.ceil(totalUsersCount / usersPerPage)}\r\n      variant=\"outlined\"\r\n      onChange={(_, page: number) => {\r\n         dispatch(setCurrentPage(page))\r\n      }}\r\n      shape=\"rounded\" />\r\n}\r\n\r\nexport let MyPagination = memo(MyPaginationWOMemo)","import React, {FC, memo, useEffect} from \"react\";\r\nimport {Box, Button, LinearProgress, NativeSelect, styled, TextField} from \"@mui/material\";\r\nimport {useForm} from \"react-hook-form\";\r\n\r\nimport {\r\n   applyFilters,\r\n   currentPageSelector,\r\n   friendSelector,\r\n   getUsers,\r\n   ISearchFilters,\r\n   termSelector,\r\n   usersPerPageSelector\r\n} from \"../../redax/usersReducer\";\r\nimport {useAppDispatch, useTypesSelector} from \"../../app/hooks\";\r\nimport {useSearchParams} from \"react-router-dom\";\r\nimport {friendUnion} from \"../../dal/api\";\r\n\r\nlet UsersFormElement = styled(\"form\")(({ theme }) => ({\r\n   flex: \"1 1 auto\",\r\n   display: \"flex\",\r\n   flexWrap: \"wrap\",\r\n   alignItems: \"center\",\r\n   [theme.breakpoints.up('sm')]: {\r\n      flexWrap: \"noWrap\",\r\n   },\r\n   [theme.breakpoints.down('sm')]: {\r\n      height: \"120px\"\r\n   }\r\n\r\n}))\r\n\r\ninterface ISearchParams extends Partial<Record<string, string>> {\r\n   term?: string;\r\n   friend?: string;\r\n   currentPage?: string;\r\n   count?: string;\r\n}\r\n\r\n\r\nlet splitParams = (searchParams: URLSearchParams, tmp: ISearchParams) => {\r\n   searchParams.forEach((value, key) => {\r\n      tmp[key] = value\r\n   })\r\n}\r\n\r\n\r\nlet UsersFormWoMemo: FC = () => {\r\n   let usersPerPage = useTypesSelector(usersPerPageSelector)\r\n   let currentPage = useTypesSelector(currentPageSelector)\r\n   let friend = useTypesSelector(friendSelector)\r\n   let term = useTypesSelector(termSelector)\r\n   let isLoading = useTypesSelector(state => state.usersPage.isLoading)\r\n\r\n   let { handleSubmit, formState: { errors }, register, reset } = useForm<ISearchFilters>()\r\n\r\n\r\n   let dispatch = useAppDispatch()\r\n\r\n   let [searchParams, setSearchParams] = useSearchParams()\r\n\r\n   let onSubmit = (data: ISearchFilters) => {\r\n      dispatch(applyFilters(data))\r\n   }\r\n\r\n   useEffect( () => {\r\n      // if search params string !== \"\" apply search params\r\n      let paramsObject: ISearchParams = {}\r\n      splitParams(searchParams, paramsObject)\r\n      let actualPage = currentPage\r\n      let friendURI = friend\r\n      let termURI = term\r\n      let count = usersPerPage\r\n\r\n      let flag = false\r\n\r\n      if (paramsObject.currentPage &&\r\n         Number(paramsObject.currentPage) !== actualPage &&\r\n         !!Number(paramsObject.currentPage)) {\r\n         flag = true\r\n         actualPage = Number(paramsObject.currentPage)\r\n      }\r\n      if (paramsObject.term &&\r\n         paramsObject.term !== termURI) {\r\n         flag = true\r\n         termURI = paramsObject.term\r\n      }\r\n      if (paramsObject.friend &&\r\n         paramsObject.friend !== friendURI) {\r\n         flag = true\r\n         friendURI = paramsObject.friend as friendUnion\r\n      }\r\n      if (paramsObject.usersPerPage &&\r\n         Number(paramsObject.usersPerPage) !== count &&\r\n         !!Number(paramsObject.usersPerPage)) {\r\n         flag = true\r\n         count = Number(paramsObject.usersPerPage)\r\n      }\r\n      if (flag) {\r\n         dispatch(\r\n            applyFilters({\r\n               term: termURI,\r\n               friend: friendURI,\r\n               currentPage: actualPage,\r\n               usersPerPage: count\r\n            })\r\n         )\r\n\r\n      }\r\n\r\n   }, [])\r\n\r\n   useEffect(() => {\r\n      let tmp = new URLSearchParams()\r\n\r\n      if (term) tmp.append(\"term\", term)\r\n      if (friend) tmp.append(\"friend\", friend)\r\n      if (currentPage) tmp.append(\"currentPage\", String(currentPage))\r\n      if (usersPerPage) tmp.append(\"usersPerPage\", String(usersPerPage))\r\n      setSearchParams(tmp, { replace: true })\r\n      dispatch(getUsers())\r\n      reset({\r\n         friend: friend,\r\n         usersPerPage: usersPerPage,\r\n         term: term\r\n      })\r\n   }, [currentPage, usersPerPage, term, friend])\r\n\r\n   return <Box\r\n      sx={{\r\n         display: \"flex\",\r\n         pt: 1,\r\n         pb: 1,\r\n\r\n      }}>\r\n      {isLoading ? <LinearProgress sx={{ flex: \"1 1 auto\" }} /> :\r\n         <UsersFormElement onSubmit={handleSubmit(onSubmit)}>\r\n            <NativeSelect\r\n               sx={{\r\n                  mr: 1,\r\n                  ml: 1,\r\n                  flex: {\r\n                     sm: \"0 0 80px\",\r\n                     xs: \"1 1 auto\"\r\n                  }\r\n               }}\r\n               {...register(\"friend\",{value: friend})}\r\n\r\n            >\r\n               <option value=\"\">All</option>\r\n               <option value=\"true\">Friend</option>\r\n               <option value=\"false\">No friend</option>\r\n            </NativeSelect>\r\n\r\n            <NativeSelect\r\n               sx={{\r\n                  mr: 1,\r\n                  flex: {\r\n                     sm: \"0 0 50px\",\r\n                     xs: \"1 1 auto\"\r\n                  },\r\n                  width: \"50px\",\r\n               }}\r\n               {...register(\"usersPerPage\",{value: usersPerPage})}\r\n\r\n            >\r\n               {[5, 10, 15, 20, 25].map(item => <option key={item} value={item}>{item}</option>)}\r\n            </NativeSelect>\r\n\r\n            <TextField\r\n               error={!!errors.term}\r\n               helperText={errors.term && errors.term.message}\r\n               sx={{\r\n                  mr: 1,\r\n                  flex: \"1 1 auto\"\r\n               }}\r\n               fullWidth\r\n               label=\"search\"\r\n               id=\"search\"\r\n               size=\"small\"\r\n               {...register(\"term\", {\r\n                  maxLength: {\r\n                     value: 15,\r\n                     message: \"Слишком много букв\"\r\n                  }\r\n               }\r\n               )} />\r\n\r\n            <Button\r\n               sx={{\r\n                  borderRadius: 1,\r\n                  pr: 5,\r\n                  pl: 5,\r\n                  height: {\r\n                     sm:\"100%\"\r\n                  }\r\n               }}\r\n               size=\"small\"\r\n               variant=\"contained\"\r\n               type={\"submit\"}>Submit\r\n\r\n            </Button>\r\n         </UsersFormElement>}\r\n   </Box>\r\n\r\n}\r\n\r\nexport let UsersForm = memo(UsersFormWoMemo)","import {useTypesSelector} from \"../../app/hooks\";\r\nimport React, {FC} from \"react\";\r\nimport {Box, Typography} from '@mui/material';\r\nimport {User} from \"./User\";\r\nimport {MyPagination} from \"./MyPagination\";\r\nimport {UsersForm} from \"./UsersForm\";\r\nimport {Discklamer} from \"../profile/Profile\";\r\n\r\n\r\nexport let Users: FC = () => {\r\n   let usersId = useTypesSelector(state => state.usersPage.usersID)\r\n   let isInitialize = useTypesSelector(state => state.auth.isLog)\r\n\r\n   if (isInitialize === false){\r\n      return <Discklamer />\r\n   }\r\n   return (\r\n      <>\r\n         <UsersForm/>\r\n         <Box sx={{\r\n            display: \"grid\",\r\n            gridTemplate: \"1fr/repeat(auto-fill, minmax(150px, 1fr))\",\r\n            gap: 2,\r\n         }}>\r\n            {usersId.map(item => <User id={item} key={item} />)}\r\n         </Box>\r\n         <MyPagination />\r\n      </>\r\n   )\r\n}\r\n\r\n","import {Outlet} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {Box} from \"@mui/material\";\r\n\r\nexport let Wrapper = () => {\r\n\r\n   return <Box\r\n      component={\"main\"}\r\n      sx={{\r\n         flex: \"1 1 auto\",\r\n         display: \"flex\",\r\n         paddingTop: \"70px\"\r\n      }}\r\n   >\r\n      <Box\r\n         sx={{\r\n            margin: \"0 auto\",\r\n            maxWidth: {\r\n               xs: \"100%\",\r\n               sm: 600,\r\n               md: 800,\r\n               lg: 1000,\r\n               xl: 1200,\r\n            },\r\n            padding: {\r\n               sm: \"0 10px\",\r\n               xs: \"0 5px\"\r\n            },\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            flex: \"1 1 auto\",\r\n         }}\r\n      >\r\n         <Outlet />\r\n      </Box>\r\n   </Box>\r\n}","import {Box, Button, Typography} from \"@mui/material\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nimport {logout} from \"../../redax/authReducer\";\r\nimport {useAppDispatch} from \"../../app/hooks\";\r\n\r\nlet FooterComponent = styled(\"footer\")(({theme}) => ({\r\n   width: \"100%\",\r\n   height: \"60px\",\r\n   backgroundColor: \"gray\"\r\n}))\r\n\r\nexport let Footer = () => {\r\n   let dispatch = useAppDispatch()\r\n\r\n   return <FooterComponent>\r\n      <Box sx={{\r\n         maxWidth: {\r\n            xs: \"100%\",\r\n            sm: 600,\r\n            md: 800,\r\n            lg: 1000,\r\n            xl: 1200,\r\n         },\r\n         height: \"100%\",\r\n         margin: \"0 auto\",\r\n         padding: {\r\n            sm: \"0 10px\",\r\n            xs: \"0 5px\"\r\n         },\r\n      }}>\r\n         <Box sx={{\r\n            display: \"flex\",\r\n            justifyContent: {\r\n               sm: \"space-around\",\r\n               xs: \"space-between\"\r\n            },\r\n            alignItems: \"center\",\r\n            backgroundColor: \"#d3d3d3\",\r\n            height: \"100%\",\r\n            padding: \"0 10px\"\r\n         }}>\r\n            <Typography\r\n               sx={{\r\n                  color: \"##d3d3d3\",\r\n                  overflow: \"hidden\",\r\n                  textOverflow: \"ellipsis\",\r\n                  whiteSpace: \"nowrap\"\r\n               }} variant={\"body1\"}>\r\n               CC kkdras - Kozlov Konstantin\r\n            </Typography>\r\n            <Button href={\"/login\"} sx={{\r\n               marginLeft: \"5px\"\r\n            }} variant={\"outlined\"} onClick={() => dispatch(logout())}>\r\n               Logout\r\n            </Button>\r\n         </Box>\r\n      </Box>\r\n   </FooterComponent>\r\n}","import React, {useEffect} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {HashRouter, LinkProps as RouterLinkProps, NavLink as RouterLink, Route, Routes} from \"react-router-dom\";\r\nimport {NotFound, Profile, ProfileRedirect} from \"./components/profile/Profile\";\r\nimport {HeaderContainer} from \"./components/header/headerContainer\";\r\nimport {Login} from \"./components/login/login\";\r\nimport Loading from \"./components/users/loading\";\r\nimport {Dialogs} from \"./components/dilogs/dialogs\"\r\nimport {useTypesSelector} from \"./app/hooks\";\r\nimport {getLogUserInfo} from \"./redax/authReducer\";\r\nimport {Users} from \"./components/users/Users\";\r\nimport {Wrapper} from \"./Wrapper\";\r\nimport {LinkProps} from '@mui/material/Link';\r\nimport {createTheme, ThemeProvider} from \"@mui/material\";\r\nimport {Footer} from \"./components/footer/Footer\";\r\n\r\nconst LinkBehavior = React.forwardRef<any,\r\n   Omit<RouterLinkProps, 'to'> & { href: RouterLinkProps['to'] }>((props, ref) => {\r\n   const {href, ...other} = props;\r\n   // Map href (MUI) -> to (react-router)\r\n   return <RouterLink data-testid=\"custom-link\" ref={ref} to={href} {...other} />;\r\n});\r\n\r\nconst theme = createTheme({\r\n   components: {\r\n      MuiLink: {\r\n         defaultProps: {\r\n            component: LinkBehavior,\r\n         } as LinkProps,\r\n      },\r\n      MuiButtonBase: {\r\n         defaultProps: {\r\n            LinkComponent: LinkBehavior,\r\n         },\r\n      },\r\n   },\r\n});\r\n\r\nexport let App = () => {\r\n   let isInitialize = useTypesSelector(state => state.auth.isLog)\r\n\r\n   let dispatch = useDispatch()\r\n\r\n   useEffect(() => {\r\n      dispatch(getLogUserInfo())\r\n   }, [])\r\n\r\n   if (isInitialize === null) {\r\n      return <Loading />\r\n   }\r\n\r\n   return <ThemeProvider theme={theme}>\r\n      <HashRouter>\r\n         <HeaderContainer/>\r\n         <Routes>\r\n            <Route path={\"/\"} element={<Wrapper/>}>\r\n               <Route path={\"dialogs\"} element={<Dialogs/>}/>\r\n               <Route path={\"profile/:userId\"} element={<Profile/>}/>\r\n               <Route path={\"profile\"} element={<ProfileRedirect/>}/>\r\n               <Route path={\"users\"} element={<Users/>}/>\r\n               <Route path={\"login\"} element={<Login/>}/>\r\n               <Route path={\"*\"} element={<NotFound/>}/>\r\n               <Route index element={<ProfileRedirect/>}/>\r\n            </Route>\r\n         </Routes>\r\n         {isInitialize && <Footer/>}\r\n      </HashRouter>\r\n   </ThemeProvider>\r\n}\r\n","import profileReducer from \"../redax/profileReducer\";\r\nimport dialogsReducer from \"../redax/dialogsReducer\";\r\nimport usersReducer from \"../redax/usersReducer\";\r\nimport authReducer from \"../redax/authReducer\";\r\nimport {configureStore} from \"@reduxjs/toolkit\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nexport let store = configureStore({\r\n    reducer: {\r\n        profilePage: profileReducer,\r\n        dialogsPage: dialogsReducer,\r\n        usersPage: usersReducer,\r\n        auth: authReducer,\r\n    },\r\n})\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from \"react-dom/client\";\r\nimport {App} from \"./App\";\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./app/redax-store\";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n   <Provider store={store}>\r\n      <App/>\r\n   </Provider>,\r\n)\r\n\r\n\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile__banner\":\"profile_profile__banner__2fPc_\",\"profile\":\"profile_profile__2oUyy\",\"profile__post\":\"profile_profile__post__2cPhc\",\"infoWrapper\":\"profile_infoWrapper__QPz2C\",\"infoText\":\"profile_infoText___hl0a\",\"addPost\":\"profile_addPost__1_EtF\",\"add\":\"profile_add__12cU3\",\"texarea\":\"profile_texarea__2XP2v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users__container\":\"users_users__container__uY6zT\",\"userWrapper\":\"users_userWrapper__34afh\",\"userLeft\":\"users_userLeft__1iX1p\",\"userImage\":\"users_userImage__337Zj\",\"userButton\":\"users_userButton__2T06l\",\"userRight\":\"users_userRight__342uH\",\"userRL\":\"users_userRL__G1l9p\",\"userRR\":\"users_userRR__1npk5\",\"userName\":\"users_userName__3_Avc\",\"activeCurrentPagination\":\"users_activeCurrentPagination__2RWbg\",\"loadingContainer\":\"users_loadingContainer__3QPAo\"};"],"sourceRoot":""}