{"version":3,"sources":["components/login/login.module.css","dal/api.ts","reportWebVitals.js","redax/authReducer.ts","redax/profileReducer.ts","app/hooks.ts","components/users/loading.tsx","asserts/unnamed.gif","components/utils/getName.js","dal/chat-api.ts","redax/dialogsReducer.ts","redax/usersReducer.ts","app/redax-store.ts","components/profile/aboutMe/aboutMeForm.tsx","components/profile/aboutMe/aboutMe.tsx","components/profile/status.tsx","components/profile/aboutMe/profileTop.tsx","asserts/1024px-User-avatar.svg.png","components/profile/aboutMe/info.tsx","components/profile/Profile.tsx","components/header/headerContainer.tsx","components/login/login.tsx","components/dilogs/massage.tsx","components/dilogs/dialogs.tsx","components/users/User.tsx","components/users/MyPagination.tsx","components/users/UsersForm.tsx","components/users/Users.tsx","Wrapper.tsx","components/footer/Footer.tsx","App.tsx","index.js","components/profile/profile.module.css","components/users/users.module.css"],"names":["module","exports","ResultCodeLoginCreator","ResultCode","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","instance","axios","create","withCredentials","baseURL","headers","axiosRequest","getLogUser","get","response","data","login","email","password","rememberMe","captcha","post","logout","delete","getCaptcha","getUsers","currentPage","count","term","friend","template","unfollowUser","id","followUser","getUserProfile","userId","getStatus","setStatus","string","put","status","setPhoto","photo","formData","FormData","append","setDescription","setProfileData","r","authSlice","createSlice","name","initialState","isLog","urlCaptcha","photos","reducers","setUserInfo","state","action","payload","setUserPhotos","setCaptcha","extraReducers","actions","getUserInfo","createAsyncThunk","_","dispatch","resultCode","Error","tmp","console","log","url","logIn","arg","Success","NeedCaptcha","profileSlice","userProfile","editMode","submitButtonDisabled","pendingStatus","togglePendingStatus","setStatusProfile","setUserPhoto","toggleSubmitButton","toggleEditMode","isBoolean","builder","addCase","fulfilled","putProfileObject","pending","rejected","getProfileStatus","updateProfileStatus","setProfilePhoto","setProfile","rejectWithValue","messages","useTypesSelector","useSelector","useAppDispatch","useDispatch","Loading","className","styles","loadingContainer","loadingGif","src","alt","getName","value","flag","i","length","toLowerCase","ws","_timerId","cleanUp","removeEventListener","openHandler","messageHandler","errorHandler","closeHandler","notifyStatusSubscribers","event","newMessage","JSON","parse","subscribers","forEach","item","setTimeout","createChannel","close","WebSocket","addEventListener","ChatApi","observer","push","filter","message","send","clearTimeout","dialogSlice","responseMessage","reducer","prepare","map","nanoid","changeStatus","cleanState","_messageHandler","getMessageHandler","_statusHandler","getStatusHandler","startListeningMessage","stopListeningMessage","usersSlice","usersID","users","totalUsersCount","usersPerPage","isLoading","setCurrentPage","setTerm","setFriend","setUsersOnPage","toggleLoading","setUsers","setTotalUsersCount","followInProgress","pendingFollow","isFetching","unfollow","followed","follow","applyFilters","a","getState","usersPage","undefined","items","totalCount","pageNumber","itemId","usersPerPageSelector","currentPageSelector","friendSelector","termSelector","store","configureStore","profilePage","profileReducer","dialogsPage","dialogsReducer","usersReducer","auth","authReducer","FormTag","styled","theme","p","border","breakpoints","up","display","gridTemplateColumns","gridAutoRows","gap","down","marginBottom","addErrors","errArr","callBack","errors","type","split","AboutForm","useForm","register","setError","handleSubmit","formState","isDisabled","submit","match","arrOfErrors","onSubmit","FormControl","fullWidth","InputLabel","variant","htmlFor","NativeSelect","deps","defaultValue","lookingForAJob","inputProps","TextField","size","required","error","lookingForAJobDescription","helperText","label","fullName","aboutMe","contacts","facebook","github","instagram","mainLink","twitter","vk","website","youtube","Button","sx","disabled","onClick","Item","Paper","typography","body2","padding","spacing","textAlign","color","palette","text","secondary","CustomLabel","fontWeight","marginRight","AboutMe","isOwn","Grid","container","xs","sm","Object","entries","title","mt","ContactsItem","newTitle","toUpperCase","slice","Status","useState","inputValue","setInputValue","useEffect","submitStatus","LinearProgress","mb","onBlur","onChange","e","target","onKeyDown","keyCode","blur","Input","ImgWrapper","height","width","flex","ProfileTop","Box","flexDirection","bgcolor","overflow","boxShadow","component","position","objectFit","top","left","Typography","gutterBottom","files","accept","borderRadius","Info","props","edit","s","infoWrapper","large","small","img","addPost","pt","Profile","myId","isInitialize","useParams","Number","testMyId","ProfileRedirect","to","replace","NotFound","alignItems","justifyContent","Discklamer","Header","zIndex","borderBottom","backgroundColor","HeaderContainer","images","maxWidth","md","lg","xl","margin","borderLeft","borderRight","href","Avatar","LoginForm","captchaUrl","maxLength","placeholder","Login","style","loginWrapper","Message","marginTop","sizes","Link","userName","memo","submitForm","Dialogs","isScroll","useRef","prevScroll","chat","isScrollSt","setIsScrollSt","scroll","current","scrollHeight","offsetHeight","scrollTop","scrollBy","behavior","handler","maxHeight","ref","overflowY","flexGrow","flexShrink","flexBasis","fontSize","bottom","right","transition","opacity","visibility","ready","DialogForm","reset","marginLeft","profileStyle","textarea","User","isDisabledBtn","contentBtn","boxSizing","lineHeight","btnHandler","justifySelf","MyPaginationWOMemo","Pagination","siblingCount","boundaryCount","page","Math","ceil","shape","MyPagination","UsersFormElement","flexWrap","UsersFormWoMemo","useSearchParams","searchParams","setSearchParams","paramsObject","key","splitParams","actualPage","friendURI","termURI","URLSearchParams","String","pb","mr","ml","pr","pl","UsersForm","Users","usersId","gridTemplate","Wrapper","paddingTop","FooterComponent","Footer","textOverflow","whiteSpace","LinkBehavior","React","forwardRef","other","createTheme","components","MuiLink","defaultProps","MuiButtonBase","LinkComponent","App","ThemeProvider","basename","process","path","element","index","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.2f233cae.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWrapper\":\"login_loginWrapper__fnGzZ\",\"fieldError\":\"login_fieldError__2A8rS\"};","import axios from \"axios\";\r\nimport {ISetUserProfile, IUserOfList, IUserPhoto, userProfileType} from \"../types/types\";\r\n\r\nlet apiKey = \"2a53a8d7-9713-4730-bda2-40c41c92534f\"\r\nlet withCredentials: any = \"true\"\r\nlet instance = axios.create({\r\n   withCredentials: withCredentials,\r\n   baseURL:`https://social-network.samuraijs.com/api/1.0/`,\r\n   headers:{\r\n      \"API-KEY\":apiKey\r\n   },\r\n})\r\n\r\nexport interface IRespType<D = {}, RC = ResultCode> {\r\n   resultCode: RC\r\n   messages: string[]\r\n   data: D\r\n}\r\n\r\nexport enum ResultCodeLoginCreator {\r\n   NeedCaptcha = 10\r\n}\r\n\r\nexport enum ResultCode {\r\n   Success,\r\n   Error,\r\n}\r\n\r\ntype AuthLoginDataType = {\r\n   id:number\r\n   email: string\r\n   login: string\r\n}\r\n\r\ntype AuthMeDataType = {\r\n   userId: number\r\n}\r\n\r\ntype GetUserType = {\r\n   items: IUserOfList[]\r\n   totalCount: number\r\n   error: null | string\r\n}\r\n\r\ntype SetPhotoDataType = {\r\n   photos: IUserPhoto[\"photos\"]\r\n}\r\nexport type friendUnion = \"true\" | \"false\" | \"\"\r\n\r\nexport let axiosRequest = {\r\n   auth: {\r\n      getLogUser(){\r\n         return instance.get<IRespType<AuthLoginDataType>>(`auth/me`).then(response => response.data)\r\n      },\r\n      login(email: string,password:string,rememberMe:boolean,captcha: null | string = null){\r\n         return instance.post<IRespType<AuthMeDataType,ResultCodeLoginCreator | ResultCode>>(`auth/login`,{email,password,rememberMe,captcha})\r\n            .then(response => response.data)\r\n      },\r\n      logout(){\r\n         return instance.delete<IRespType<AuthMeDataType,ResultCodeLoginCreator | ResultCode>>(`auth/login`)\r\n            .then(response => response.data)\r\n      },\r\n      getCaptcha(){\r\n         return instance.get<{url:string}>(\"/security/get-captcha-url\")\r\n      }\r\n   },\r\n   users:{\r\n      getUsers(currentPage: number,count: number,term: string, friend: friendUnion){\r\n         let template = `users?page=${currentPage}&count=${count}`\r\n         term && (template += `&term=${term}`)\r\n         friend && (template += `&friend=${friend}`)\r\n         return instance.get<GetUserType>(template) .then(response => response.data)\r\n      },\r\n      unfollowUser(id: number){\r\n         return instance.delete<IRespType>(`follow/${id}`).then(response => response.data)\r\n      },\r\n      followUser(id:number){\r\n         return instance.post<IRespType>(`follow/${id}`).then(response => response.data)\r\n      }\r\n   },\r\n   profile:{\r\n      getUserProfile(userId: number){\r\n         return instance.get<userProfileType>(`profile/` + userId).then(response => {\r\n            return response\r\n         })\r\n      },\r\n      getStatus(userId: number){\r\n         return instance.get<string>(`profile/status/${userId}`)\r\n      },\r\n      setStatus(string: string){\r\n         return instance.put<IRespType>(`profile/status`,{status: string})\r\n      },\r\n      setPhoto(photo: any){\r\n         let formData = new FormData()\r\n         formData.append(\"image\",photo)\r\n         return instance.put<IRespType<SetPhotoDataType>>(\"/profile/photo\",formData,{\r\n            headers:{'Content-Type': 'multipart/form-data'}\r\n         })\r\n      },\r\n      setDescription(setProfileData: ISetUserProfile){\r\n         return instance.put<IRespType>(\"profile\",setProfileData).then(r => r.data)\r\n      }\r\n   }\r\n}\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {axiosRequest, ResultCode, ResultCodeLoginCreator} from \"../dal/api\"\r\nimport {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {IUserPhoto, userProfileType} from \"../types/types\";\r\n\r\ninterface IURLCaptcha{\r\n   urlCaptcha: null | string\r\n}\r\n\r\ninterface IInitialState{\r\n   userId: number | null\r\n   email: string | null\r\n   login: string | null\r\n   isLog: boolean | null\r\n   photos: IUserPhoto[\"photos\"] | null\r\n}\r\n\r\nlet initialState: IInitialState & IURLCaptcha = {\r\n   userId: null,\r\n   email: null,\r\n   login: null,\r\n   isLog: null,\r\n   urlCaptcha: null,\r\n   photos: null\r\n}\r\n\r\n\r\nlet authSlice = createSlice({\r\n      name: \"auth\",\r\n      initialState,\r\n      reducers: {\r\n         setUserInfo(state, action: PayloadAction<Omit<IInitialState, \"photos\">>) {\r\n            return {\r\n               ...state,\r\n               ...action.payload\r\n            }\r\n         },\r\n         setUserPhotos(state, action: PayloadAction<IInitialState['photos']>){\r\n            state.photos = action.payload\r\n         },\r\n         setCaptcha(state, action: PayloadAction<string>) {\r\n            state.urlCaptcha = action.payload\r\n         }\r\n      },\r\n      extraReducers: () => {\r\n\r\n      }\r\n   }\r\n)\r\nexport default authSlice.reducer\r\nexport let {setUserInfo, setCaptcha, setUserPhotos} = authSlice.actions\r\n\r\n\r\n//requestCreator\r\nexport let getUserInfo = createAsyncThunk(\r\n   \"auth/\",\r\n   async (_, {dispatch}) => {\r\n      try {\r\n         let response = await axiosRequest.auth.getLogUser()\r\n\r\n         if(response.resultCode === ResultCode.Error) throw new Error(\"вынужденная ошибка\")\r\n         let {id, email, login} = response.data;\r\n\r\n         try{\r\n            let tmp = await axiosRequest.profile.getUserProfile(id).then(r => r.data)\r\n            dispatch(setUserPhotos(tmp.photos))\r\n         }catch (e){\r\n            console.log(\"Не удалось педварительно загрузить фотографии\")\r\n         }\r\n\r\n         dispatch(setUserInfo({userId: id, login, email, isLog: true}))\r\n      } catch (e) {\r\n\r\n         dispatch(setUserInfo({userId: null, email: null, login: null, isLog: false}))\r\n      }\r\n   }\r\n)\r\n\r\nexport let getCaptcha = createAsyncThunk(\r\n   \"auth/captcha\",\r\n   async (_:undefined, {dispatch}) => {\r\n      let response = await axiosRequest.auth.getCaptcha()\r\n      dispatch(setCaptcha(response.data.url))\r\n   }\r\n)\r\n\r\ntype loginAction = {\r\n   email: string,\r\n   password: string,\r\n   rememberMe: boolean,\r\n   captcha: string\r\n}\r\n\r\nexport let logIn = createAsyncThunk(\r\n   \"auth/login\",\r\n   async (arg: loginAction, {dispatch}) => {\r\n      let response = await axiosRequest.auth.login(arg.email, arg.password, arg.rememberMe, arg.captcha)\r\n      if (response.resultCode === ResultCode.Success) {\r\n         dispatch(getUserInfo())\r\n      } else {\r\n         if (response.resultCode === ResultCodeLoginCreator.NeedCaptcha) {\r\n            dispatch(getCaptcha())\r\n         }\r\n      }\r\n   }\r\n)\r\n\r\nexport let logout = createAsyncThunk(\r\n   \"auth/logout\",\r\n   async (_:undefined, {dispatch}) => {\r\n      let response = await axiosRequest.auth.logout()\r\n      if (response.resultCode === ResultCode.Success) {\r\n         dispatch(setUserInfo({userId: null, login: null, email: null, isLog: false}))\r\n      }\r\n   }\r\n)","import { axiosRequest, IRespType, ResultCode } from \"../dal/api\";\r\nimport {ISetUserProfile, IUserPhoto, userProfileType} from \"../types/types\";\r\nimport { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport {setUserPhotos} from \"./authReducer\";\r\nimport {isBoolean} from \"util\";\r\n\r\n\r\ntype initialStateType = {\r\n   userProfile: userProfileType | null\r\n   editMode: boolean\r\n   submitButtonDisabled: boolean\r\n   status: null | string\r\n   pendingStatus: boolean\r\n}\r\n\r\nlet initialState: initialStateType = {\r\n   userProfile: null,\r\n   editMode: false,\r\n   submitButtonDisabled: false,\r\n   status: null,\r\n   pendingStatus: false\r\n}\r\n\r\nlet profileSlice = createSlice({\r\n   name: \"profile\",\r\n   initialState,\r\n   reducers: {\r\n      togglePendingStatus(state) {\r\n         state.pendingStatus = !state.pendingStatus\r\n      },\r\n      setStatusProfile(state, action: PayloadAction<string>) {\r\n         state.status = action.payload\r\n      },\r\n      setUserPhoto(state, action: PayloadAction<IUserPhoto['photos']>) {\r\n         if (state.userProfile && state.userProfile.photos) {\r\n            state.userProfile.photos = action.payload\r\n         }\r\n      },\r\n      toggleSubmitButton(state) {\r\n         state.submitButtonDisabled = !state.submitButtonDisabled\r\n      },\r\n      toggleEditMode(state, action: PayloadAction<boolean | undefined>) {\r\n         if(isBoolean(action.payload)){\r\n            state.editMode = action.payload\r\n            return\r\n\r\n         }\r\n         state.editMode = !state.editMode\r\n      },\r\n   },\r\n   extraReducers: (builder) => {\r\n      builder\r\n         .addCase(getUserProfile.fulfilled, ((state, action) => {\r\n            console.log(action)\r\n            state.userProfile = action.payload\r\n         }))\r\n         .addCase(putProfileObject.pending, (state => {\r\n            state.submitButtonDisabled = !state.submitButtonDisabled\r\n         }))\r\n         .addCase(putProfileObject.fulfilled, (state => {\r\n            state.submitButtonDisabled = !state.submitButtonDisabled\r\n         }\r\n         ))\r\n         .addCase(putProfileObject.rejected, (state => {\r\n            state.submitButtonDisabled = !state.submitButtonDisabled\r\n         }\r\n         ))\r\n   }\r\n})\r\nexport default profileSlice.reducer\r\n\r\nexport let {\r\n   togglePendingStatus,\r\n   setStatusProfile,\r\n   setUserPhoto,\r\n   toggleSubmitButton,\r\n   toggleEditMode\r\n} = profileSlice.actions\r\n\r\nexport let getUserProfile = createAsyncThunk(\r\n   \"profile/getProfile\",\r\n   async (userId: number) => {\r\n      return await axiosRequest.profile.getUserProfile(userId)\r\n         .then(r => r.data)\r\n   }\r\n)\r\n\r\n\r\n//getStatusProfile\r\nexport let getProfileStatus = createAsyncThunk(\r\n   \"profile/getProfileStatus\",\r\n   async (userId: number, { dispatch }) => {\r\n      dispatch(togglePendingStatus())\r\n      let response\r\n      try {\r\n         response = await axiosRequest.profile.getStatus(userId)\r\n      } catch (e) {\r\n         response = { data: \"Some error happen\" }\r\n      }\r\n      //debugger\r\n      dispatch(setStatusProfile(response.data))\r\n      dispatch(togglePendingStatus())\r\n   }\r\n)\r\n//updateStatusProfile\r\nexport let updateProfileStatus = createAsyncThunk(\r\n   \"profile/updateProfileStatus\",\r\n   async (status: string, { dispatch }) => {\r\n      dispatch(togglePendingStatus())\r\n      let response = await axiosRequest.profile.setStatus(status)\r\n      if (response.data.resultCode === 0) {\r\n         dispatch(setStatusProfile(status))\r\n         dispatch(togglePendingStatus())\r\n      }\r\n   }\r\n)\r\n\r\nexport let setProfilePhoto = createAsyncThunk(\r\n   \"profile/setProfilePhoto\",\r\n   async (photo: any, { dispatch }) => {\r\n      let response = await axiosRequest.profile.setPhoto(photo)\r\n      if (response.data.resultCode === 0) {\r\n         dispatch(setUserPhoto(response.data.data.photos))\r\n         dispatch(setUserPhotos(response.data.data.photos))\r\n      }\r\n   }\r\n)\r\n\r\nexport let putProfileObject = createAsyncThunk<\r\n   IRespType,\r\n   ISetUserProfile,\r\n   { rejectValue: IRespType }\r\n>(\"profile/putProfileObject\",\r\n   async (setProfile, { dispatch, rejectWithValue }) => {\r\n      let response = await axiosRequest.profile.setDescription(setProfile)\r\n      if (response.resultCode === 1) return rejectWithValue(response)\r\n\r\n      dispatch(getUserProfile(setProfile.userId))\r\n      dispatch(toggleEditMode())\r\n\r\n      return { messages: [], data: {}, resultCode: ResultCode.Success } as IRespType\r\n   }\r\n)\r\n\r\n","import {TypedUseSelectorHook, useDispatch, useSelector} from \"react-redux\";\r\nimport {AppDispatch, RootState} from \"./redax-store\";\r\n\r\nexport let useTypesSelector:TypedUseSelectorHook<RootState> = useSelector\r\nexport let useAppDispatch = () => useDispatch<AppDispatch>()\r\n\r\nexport let usePrivateContent = () => {\r\n   let isLog = useTypesSelector(state => state.auth.isLog)\r\n   return !isLog\r\n}\r\n","import styles from \"./users.module.css\";\r\nimport unnamed from \"../../asserts/unnamed.gif\";\r\nimport {FC} from \"react\";\r\n\r\nlet Loading:FC = () =>{\r\n    return (<div className={styles.loadingContainer}>\r\n             <img className={styles.loadingGif} src={unnamed} alt=\"\"/>\r\n        </div>)\r\n}\r\nexport default Loading","export default \"data:image/gif;base64,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\"","export let getName = (string) => {\r\n    let value = \"\"\r\n    let flag = false\r\n    for (let i = 0; i < string.length; i++) {\r\n        if(string[i] === \"(\"){\r\n            flag = true\r\n        }else if(string[i] === \")\"){\r\n            flag = false\r\n        }else if(flag){\r\n            if(string[i - 1] === \"(\"){\r\n                value += string[i].toLowerCase()\r\n            } else if(string[i] === \"-\"){\r\n                value += \"\"\r\n            }else if(string[i] === \">\"){\r\n                value += \".\"\r\n            }else if(string[i - 1] === \">\"){\r\n                value += string[i].toLowerCase()\r\n            }else{\r\n                value += string[i]\r\n            }\r\n        }\r\n    }\r\n    return value\r\n}","export type statusType = \"pending\" | \"ready\" | \"error\"\r\n\r\nexport interface IMessage {\r\n    message: string\r\n    photo: string\r\n    userId: number\r\n    userName: string\r\n    id: string\r\n}\r\n\r\nlet ws: WebSocket | null = null\r\nlet _timerId: ReturnType<typeof setTimeout> | null = null\r\n\r\n\r\nlet cleanUp = () => {\r\n    ws?.removeEventListener(\"open\",openHandler)\r\n    ws?.removeEventListener(\"message\",messageHandler)\r\n    ws?.removeEventListener(\"error\",errorHandler)\r\n    ws?.removeEventListener('close',closeHandler)\r\n}\r\n\r\nlet openHandler = () => {\r\n    console.log(\"open\")\r\n    notifyStatusSubscribers(\"ready\")\r\n}\r\nlet messageHandler = (event: MessageEvent) => {\r\n    console.log(\"MESSAGE\")\r\n    let newMessage = JSON.parse(event.data)\r\n    subscribers[\"message-received\"].forEach(item => item(newMessage))\r\n};\r\nlet errorHandler = () => {\r\n    console.log(\"error\")\r\n    notifyStatusSubscribers(\"error\")\r\n}\r\nlet closeHandler = () => {\r\n    console.log(\"close\")\r\n    notifyStatusSubscribers(\"pending\")\r\n    _timerId = setTimeout(createChannel,3000)\r\n}\r\n\r\nlet notifyStatusSubscribers = (status: statusType) => {\r\n    subscribers[\"status-changed\"].forEach(item => item(status))\r\n}\r\n\r\nlet createChannel = async () => {\r\n    await cleanUp()\r\n    await ws?.close()\r\n    ws = await new WebSocket(\"wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\")\r\n    await notifyStatusSubscribers(\"pending\")\r\n    await ws.addEventListener(\"open\", openHandler)\r\n    await ws.addEventListener(\"close\",closeHandler)\r\n    await ws.addEventListener(\"message\", messageHandler)\r\n    await ws.addEventListener(\"error\", errorHandler)\r\n\r\n}\r\n\r\n\r\nexport type MessageObs = (message: IMessage[]) => void\r\nexport type StatusObs = (status: statusType) => void\r\n\r\n\r\nexport type eventType = \"message-received\" | \"status-changed\"\r\n\r\n// interface SDep {\r\n//     \"message-received\": MessageObs\r\n//     \"status-changed\": StatusObs\r\n// }\r\n\r\ninterface ISubscribers{\r\n    \"message-received\": MessageObs[]\r\n    \"status-changed\": StatusObs[]\r\n}\r\n\r\nconst subscribers: ISubscribers = {\r\n    \"status-changed\": [],\r\n    \"message-received\": [],\r\n}\r\n\r\nexport let ChatApi = {\r\n    start(){\r\n        console.log('start')\r\n        createChannel()\r\n    },\r\n    subscribe<T extends eventType>(event: T, observer: T extends \"message-received\" ? MessageObs : StatusObs) {\r\n        //@ts-ignore\r\n        subscribers[event].push(observer)\r\n        return () => {\r\n            //@ts-ignore\r\n            subscribers[event] = subscribers[event].filter(item => item !== observer)\r\n        }\r\n    },\r\n    unsubscribe(event: eventType,observer:MessageObs | StatusObs){\r\n        //@ts-ignore\r\n        subscribers[event] = subscribers[event].filter(item => item !== observer)\r\n    },\r\n    sendMessage(message: string){\r\n        ws?.send(message)\r\n    },\r\n    stop(){\r\n        subscribers[\"message-received\"] = []\r\n        subscribers[\"status-changed\"] = []\r\n        cleanUp()\r\n        ws?.close()\r\n        if(_timerId) clearTimeout(_timerId)\r\n    }\r\n}\r\n\r\n","import {\r\n   StatusObs,\r\n   ChatApi,\r\n   IMessage,\r\n   MessageObs,\r\n   statusType\r\n} from \"../dal/chat-api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {createAsyncThunk, createSlice, nanoid, PayloadAction} from \"@reduxjs/toolkit\";\r\n\r\n\r\nexport type dialogPageType = {\r\n   message: Array<IMessage>\r\n   status: statusType\r\n}\r\n\r\nlet initialState: dialogPageType = {\r\n   status: \"pending\",\r\n   message: [],\r\n}\r\n\r\nlet dialogSlice = createSlice({\r\n   name: \"dialogs\",\r\n   initialState,\r\n   reducers: {\r\n      responseMessage: {\r\n         reducer(state, action: PayloadAction<IMessage[]>) {\r\n            state.message = [...state.message, ...action.payload]\r\n         },\r\n         prepare(messages: IMessage[]) {\r\n            return {\r\n               payload: messages.map(item => {\r\n                  item.id = nanoid()\r\n                  return item\r\n               })\r\n            }\r\n         }\r\n      },\r\n      changeStatus(state, action: PayloadAction<statusType>) {\r\n         state.status = action.payload\r\n      },\r\n      cleanState(state) {\r\n         state.message = []\r\n      }\r\n   }\r\n})\r\nexport default dialogSlice.reducer\r\nexport let {cleanState} = dialogSlice.actions\r\n\r\n\r\nlet _messageHandler: MessageObs | null = null\r\nlet getMessageHandler = (dispatch: Dispatch): MessageObs => {\r\n   if (_messageHandler === null) {\r\n      _messageHandler = (messages: IMessage[]) => {\r\n         dispatch(dialogSlice.actions.responseMessage(messages))\r\n      }\r\n   }\r\n   return _messageHandler\r\n}\r\n\r\nlet _statusHandler: StatusObs | null = null\r\nlet getStatusHandler = (dispatch: Dispatch): StatusObs => {\r\n   if (_statusHandler === null) {\r\n      _statusHandler = (status: statusType) => {\r\n         dispatch(dialogSlice.actions.changeStatus(status))\r\n      }\r\n   }\r\n   return _statusHandler\r\n}\r\n\r\n\r\nexport let startListeningMessage = createAsyncThunk(\r\n   \"dialogs/startListenMessage\",\r\n   async (_, {dispatch}) => {\r\n      ChatApi.start()\r\n      ChatApi.subscribe(\"message-received\", getMessageHandler(dispatch))\r\n      ChatApi.subscribe(\"status-changed\", getStatusHandler(dispatch))\r\n   }\r\n)\r\n\r\nexport let stopListeningMessage = createAsyncThunk(\r\n   \"dialogs/stopListenMessage\",\r\n   async (_) => {\r\n      ChatApi.stop()\r\n   }\r\n)\r\n","import {axiosRequest, friendUnion} from \"../dal/api\";\r\nimport {IUserOfList} from \"../types/types\";\r\nimport {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {AppDispatch, RootState} from \"../app/redax-store\";\r\n\r\n\r\ninterface IUsersInitialState {\r\n   usersID: number[],\r\n   users: {[key: number]: IUserOfList}\r\n   currentPage: number\r\n   totalUsersCount: number\r\n   usersPerPage: number\r\n   isLoading: boolean\r\n   term: string,\r\n   friend: friendUnion\r\n}\r\n\r\nlet initialState: IUsersInitialState = {\r\n   usersID: [],\r\n   users: {},\r\n   currentPage: 1,\r\n   totalUsersCount: 0,\r\n   usersPerPage: 5,\r\n   isLoading: false,\r\n   term: \"\",\r\n   friend: \"\",\r\n}\r\n\r\ninterface IFollowInPrAct { isFetching: boolean, userId: number }\r\n\r\nlet usersSlice = createSlice({\r\n   name: \"users\",\r\n   initialState,\r\n   reducers: {\r\n      setCurrentPage(state, action: PayloadAction<number>) {\r\n         state.currentPage = action.payload\r\n      },\r\n      setTerm(state, action: PayloadAction<string>) {\r\n         state.term = action.payload\r\n      },\r\n      setFriend(state, action: PayloadAction<\"true\" | \"false\" | \"\">) {\r\n         state.friend = action.payload\r\n      },\r\n      setUsersOnPage(state, action: PayloadAction<number>) {\r\n         state.usersPerPage = action.payload\r\n      },\r\n      toggleLoading(state) {\r\n         state.isLoading = !state.isLoading\r\n      },\r\n      setUsers(state, action: PayloadAction<IUserOfList[]>){\r\n         action.payload.forEach(item => {\r\n            state.users[item.id] = item\r\n         })\r\n         state.usersID = action.payload.map(item => item.id)\r\n\r\n      },\r\n      setTotalUsersCount(state, action: PayloadAction<number>) {\r\n         state.totalUsersCount = action.payload\r\n      },\r\n      followInProgress(state, action: PayloadAction<IFollowInPrAct>) {\r\n         state.users[action.payload.userId].pendingFollow = action.payload.isFetching\r\n      },\r\n      unfollow(state,action:PayloadAction<number>){\r\n         state.users[action.payload].followed = false\r\n      },\r\n      follow(state,action:PayloadAction<number>){\r\n         state.users[action.payload].followed = true\r\n      }\r\n   }\r\n})\r\n\r\nexport default usersSlice.reducer\r\n\r\nexport let {\r\n   setCurrentPage,\r\n   setTerm,\r\n   setFriend,\r\n   setUsersOnPage,\r\n   toggleLoading,\r\n   setUsers,\r\n   setTotalUsersCount,\r\n   followInProgress,\r\n   unfollow,\r\n   follow\r\n} = usersSlice.actions\r\n\r\nexport interface ISearchFilters {\r\n   term: string,\r\n   friend: friendUnion,\r\n   usersPerPage: number\r\n   currentPage?: number\r\n}\r\n\r\nexport let applyFilters = createAsyncThunk<void, ISearchFilters,\r\n   {\r\n      dispatch: AppDispatch\r\n      state: RootState\r\n   }>(\r\n   \"users/applyFilters\",\r\n    (a: ISearchFilters, {dispatch,getState}) => {\r\n      let {term,friend,usersPerPage} = getState().usersPage\r\n      if(term !== a.term) dispatch(setTerm(a.term))\r\n      if(friend !== a.friend) dispatch(setFriend(a.friend))\r\n      if(usersPerPage !== a.usersPerPage) dispatch(setUsersOnPage(+a.usersPerPage || 1))\r\n\r\n      if(a.currentPage !== undefined) dispatch(setCurrentPage(+a.currentPage || 1))\r\n      else {\r\n         if (\r\n            term !== a.term ||\r\n            friend !== a.friend ||\r\n            usersPerPage !== a.usersPerPage\r\n         ) dispatch(setCurrentPage(1))\r\n      }\r\n   }\r\n)\r\n\r\n\r\n//getUsersCreator\r\nexport let getUsers = createAsyncThunk<Promise<any>, void,\r\n   {\r\n      dispatch: AppDispatch\r\n      state: RootState\r\n   }>(\r\n   \"users/getUsers\",\r\n   async (_, {dispatch, getState}) => {\r\n      let {term, friend, currentPage, usersPerPage} = getState().usersPage\r\n      dispatch(toggleLoading())\r\n      let data = await axiosRequest.users.getUsers(currentPage, usersPerPage, term, friend)\r\n      dispatch(toggleLoading())\r\n      dispatch(setUsers(data.items))\r\n      dispatch(setTotalUsersCount(data.totalCount))\r\n   }\r\n)\r\n\r\n\r\ntype changePageArgsType = { pageNumber: number, count: number }\r\nexport let changePageNumber = createAsyncThunk<Promise<any>, changePageArgsType,\r\n   {\r\n      dispatch: AppDispatch\r\n      state: RootState\r\n   }>(\r\n   \"users/changePage\",\r\n   async (arg, {dispatch, getState}) => {\r\n      let {term, friend} = getState().usersPage\r\n      dispatch(toggleLoading())\r\n      dispatch(setCurrentPage(arg.pageNumber))\r\n      let data = await axiosRequest.users.getUsers(arg.pageNumber, arg.count, term, friend)\r\n      dispatch(toggleLoading())\r\n      dispatch(setUsers(data.items))\r\n   }\r\n)\r\n//unfollowedCreator\r\nexport let unfollowUser = createAsyncThunk(\r\n   \"users/unfollowUser\",\r\n   async (itemId: number, {dispatch}) => {\r\n      dispatch(followInProgress({isFetching:true, userId:itemId}))\r\n      let data = await axiosRequest.users.unfollowUser(itemId)\r\n      if (data.resultCode === 0) {\r\n         dispatch(unfollow(itemId))\r\n      }\r\n      dispatch(followInProgress({isFetching:false, userId:itemId}))\r\n   }\r\n)\r\n\r\nexport let followUser = createAsyncThunk(\r\n   \"users/followUser\",\r\n   async (userId: number, {dispatch}) => {\r\n      dispatch(followInProgress({isFetching:true, userId}))\r\n      let data = await axiosRequest.users.followUser(userId)\r\n      if (data.resultCode === 0) {\r\n         dispatch(follow(userId))\r\n      }\r\n      dispatch(followInProgress({isFetching:false, userId}))\r\n   }\r\n)\r\n\r\nexport let usersPerPageSelector = (state: RootState) => state.usersPage.usersPerPage\r\nexport let currentPageSelector = (state: RootState) => state.usersPage.currentPage\r\nexport let friendSelector = (state: RootState) => state.usersPage.friend\r\nexport let termSelector = (state: RootState) => state.usersPage.term\r\n","import profileReducer from \"../redax/profileReducer\";\r\nimport dialogsReducer from \"../redax/dialogsReducer\";\r\nimport usersReducer from \"../redax/usersReducer\";\r\nimport authReducer from \"../redax/authReducer\";\r\nimport {configureStore} from \"@reduxjs/toolkit\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nexport let store = configureStore({\r\n    reducer: {\r\n        profilePage: profileReducer,\r\n        dialogsPage: dialogsReducer,\r\n        usersPage: usersReducer,\r\n        auth: authReducer,\r\n    },\r\n})\r\n\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\n\r\nexport type AppDispatch = typeof store.dispatch\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\r\n\r\n","import React, {FC} from \"react\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {getName} from \"../../utils/getName\";\r\nimport {useTypesSelector} from \"../../../app/hooks\";\r\nimport {putProfileObject, toggleEditMode} from \"../../../redax/profileReducer\";\r\nimport {Box, Button, FormControl, InputLabel, NativeSelect, styled, TextField} from '@mui/material';\r\nimport {IErrorType, ISetUserProfile} from \"../../../types/types\";\r\nimport {useAppDispatch} from \"../../../app/redax-store\";\r\n\r\nlet FormTag = styled(\"form\")(({theme}) => ({\r\n   p: 1,\r\n   border: \"1px solid theme.palette.text.secondary\",\r\n   [theme.breakpoints.up('md')]: {\r\n      display: \"grid\",\r\n      gridTemplateColumns: \"1fr 1fr\",\r\n      gridAutoRows: \"auto\",\r\n      gap: 10\r\n   },\r\n   \"> *\": {\r\n      //backgroundColor: \"red\",\r\n      [theme.breakpoints.down('md')]: {\r\n         \":not(:last-child)\": {\r\n            marginBottom: \"15px\"\r\n         },\r\n      }\r\n   }\r\n}))\r\nlet addErrors = (errArr: string[], callBack: (...args: any[]) => void): void => {\r\n   const errors: IErrorType[] = []\r\n   errArr.forEach((item) => {\r\n      debugger\r\n      errors.push({type: \"manual\", name: getName(item), message: item.split(\"(\")[0]})\r\n   })\r\n   errors.forEach(({name, type, message}) =>\r\n      callBack(name, {type, message})\r\n   );\r\n}\r\n\r\nexport let AboutForm: FC = () => {\r\n   const {register, setError, handleSubmit, formState: {errors}} = useForm<ISetUserProfile>();\r\n   let dispatch = useAppDispatch()\r\n\r\n   let isDisabled = useTypesSelector(state => state.profilePage.submitButtonDisabled)\r\n   let id = useTypesSelector(state => state.auth.userId)\r\n   let userProfile = useTypesSelector(state => state.profilePage.userProfile)\r\n\r\n   let submit = async (data: ISetUserProfile) => {\r\n      if (typeof id !== \"number\") return\r\n      data.userId = id\r\n      let response = await dispatch(putProfileObject(data))\r\n\r\n      if (putProfileObject.rejected.match(response)) {\r\n         const arrOfErrors = response.payload?.messages\r\n         if (arrOfErrors) {\r\n            addErrors(arrOfErrors, setError)\r\n         }\r\n      }\r\n   }\r\n   return (\r\n\r\n      <FormTag onSubmit={handleSubmit(submit)}>\r\n         <FormControl fullWidth>\r\n            <InputLabel variant=\"standard\" htmlFor=\"lookingForAJob\">\r\n               Looking for a job\r\n            </InputLabel>\r\n            <NativeSelect\r\n               {...register(\"lookingForAJob\", {\r\n                  deps: ['lookingForAJobDescription'],\r\n               })}\r\n               defaultValue={!!userProfile?.lookingForAJob}\r\n               inputProps={{\r\n                  name: 'lookingForAJob',\r\n                  id: 'lookingForAJob',\r\n               }}\r\n            >\r\n               <option value={\"true\"}>Yes</option>\r\n               <option value={\"false\"}>No</option>\r\n            </NativeSelect>\r\n         </FormControl>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"lookingForAJobDescription\", {\r\n                       required: true\r\n                    })}\r\n                    error={!!errors.lookingForAJobDescription}\r\n                    defaultValue={userProfile?.lookingForAJobDescription || undefined}\r\n                    helperText={errors.lookingForAJobDescription && errors.lookingForAJobDescription.message}\r\n                    fullWidth\r\n                    label=\"Description of the job I'm looking for\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"fullName\")}\r\n                    error={!!errors.fullName}\r\n                    helperText={errors.fullName && errors.fullName.message}\r\n                    defaultValue={userProfile?.fullName || undefined}\r\n                    fullWidth\r\n                    label=\"My fullname\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"aboutMe\")}\r\n                    error={!!errors.aboutMe}\r\n                    helperText={errors.aboutMe && errors.aboutMe.message}\r\n                    defaultValue={userProfile?.aboutMe || undefined}\r\n                    fullWidth\r\n                    label=\"About me\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.facebook\")}\r\n                    error={!!errors.contacts?.facebook}\r\n                    helperText={errors.contacts?.facebook && errors.contacts?.facebook.message}\r\n                    defaultValue={userProfile?.contacts.facebook || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in facebook\"\r\n         />\r\n         {/*{errors.facebook && <p>{errors.facebook.message}</p>}*/}\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.github\")}\r\n                    error={!!errors.contacts?.github}\r\n                    helperText={errors.contacts?.github && errors.contacts?.github.message}\r\n                    defaultValue={userProfile?.contacts.github || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in github\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.instagram\")}\r\n                    error={!!errors.contacts?.instagram}\r\n                    helperText={errors.contacts?.instagram && errors.contacts?.instagram.message}\r\n                    defaultValue={userProfile?.contacts.instagram || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in instagram\"\r\n         />\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.mainLink\")}\r\n                    error={!!errors.contacts?.mainLink}\r\n                    helperText={errors.contacts?.mainLink && errors.contacts?.mainLink.message}\r\n                    defaultValue={userProfile?.contacts.mainLink || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in mainLink\"/>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.twitter\")}\r\n                    error={!!errors.contacts?.twitter}\r\n                    helperText={errors.contacts?.twitter && errors.contacts?.twitter.message}\r\n                    defaultValue={userProfile?.contacts.twitter || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in twitter\"/>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.vk\")}\r\n                    error={!!errors.contacts?.vk}\r\n                    helperText={errors.contacts?.vk && errors.contacts?.vk.message}\r\n                    defaultValue={userProfile?.contacts.vk || undefined}\r\n                    fullWidth\r\n                    label=\"My profile in vk\"/>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.website\")}\r\n                    error={!!errors.contacts?.website}\r\n                    helperText={errors.contacts?.website && errors.contacts?.website.message}\r\n                    defaultValue={userProfile?.contacts.website || undefined}\r\n                    fullWidth\r\n                    label=\"My website\"/>\r\n\r\n         <TextField size={\"small\"}\r\n                    {...register(\"contacts.youtube\")}\r\n                    error={!!errors.contacts?.youtube}\r\n                    helperText={errors.contacts?.youtube && errors.contacts?.youtube.message}\r\n                    defaultValue={userProfile?.contacts.youtube || undefined}\r\n                    fullWidth\r\n                    label=\"My channel in youtube\"/>\r\n         <Button fullWidth sx={{\r\n            display: \"block\",\r\n\r\n         }} variant=\"outlined\" type={\"submit\"} disabled={isDisabled}>Submit</Button>\r\n         <Button\r\n            fullWidth\r\n            sx={{\r\n               display: \"block\",\r\n            }}\r\n            onClick={() => dispatch(toggleEditMode())}\r\n            variant=\"outlined\"\r\n            type={\"submit\"}\r\n            disabled={isDisabled}>i don`t want to edit\r\n         </Button>\r\n      </FormTag>\r\n   )\r\n}\r\n","import React, {FC} from \"react\";\r\nimport {userProfileType} from \"../../../types/types\";\r\nimport {Box, Button, Grid, Paper, styled} from '@mui/material';\r\nimport {toggleEditMode} from \"../../../redax/profileReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\n\r\nconst Item = styled(Paper)(({theme}) => ({\r\n   ...theme.typography.body2,\r\n   padding: theme.spacing(1),\r\n   textAlign: 'center',\r\n   color: theme.palette.text.secondary,\r\n}));\r\nlet CustomLabel = styled(\"span\")(({theme}) => ({\r\n   fontWeight: \"bold\",\r\n   color: \"gray\",\r\n   display: \"inline-block\",\r\n   marginRight: theme.spacing(1)\r\n}))\r\nexport let AboutMe: FC<userProfileType & {isOwn: boolean}> = (\r\n   {\r\n      aboutMe,\r\n      lookingForAJob,\r\n      lookingForAJobDescription,\r\n      fullName,\r\n      contacts,\r\n      isOwn\r\n   }\r\n) => {\r\n   let dispatch = useDispatch()\r\n   return (\r\n      <>\r\n         <Grid container spacing={2}>\r\n            <Grid spacing={2} xs={12} item sm={6}>\r\n               <Item>\r\n                  <CustomLabel>About me -</CustomLabel>\r\n                  <span>{aboutMe}</span>\r\n               </Item>\r\n            </Grid>\r\n            <Grid spacing={2} xs={12} item sm={6}>\r\n               <Item>\r\n                  <CustomLabel>Looking for a job -</CustomLabel>\r\n                  <span>{lookingForAJob ? \"Yes\" : \"No\"}</span>\r\n               </Item>\r\n            </Grid>\r\n            <Grid spacing={2} xs={12} item sm={6}>\r\n               <Item>\r\n                  <CustomLabel>Looking for a job discription -</CustomLabel>\r\n                  <span>{lookingForAJobDescription}</span>\r\n               </Item>\r\n            </Grid>\r\n            <Grid spacing={2} xs={12} item sm={6}>\r\n               <Item>\r\n                  <CustomLabel>Full name-</CustomLabel>\r\n                  <span>{fullName}</span>\r\n               </Item>\r\n            </Grid>\r\n            {Object.entries(contacts).map((item, i) => <Grid\r\n               key={i}\r\n               spacing={2}\r\n               item xs={12} sm={6}>\r\n               <Item>\r\n                  <ContactsItem title={item[0]} value={item[1]}/>\r\n               </Item>\r\n            </Grid>)}\r\n         </Grid>\r\n         {isOwn &&\r\n         <Button\r\n            size=\"large\"\r\n            sx={{\r\n               mt: 1\r\n            }}\r\n            variant=\"contained\"\r\n            type=\"submit\"\r\n            onClick={() => dispatch(toggleEditMode())}>\r\n            Edit my details\r\n         </Button>}\r\n      </>\r\n   )\r\n}\r\n\r\ninterface ContactsType {\r\n   title: string\r\n   value: string | null\r\n}\r\n\r\nlet ContactsItem: FC<ContactsType> = ({title, value}) => {\r\n   let newTitle = title[0].toUpperCase() + title.slice(1,title.length)\r\n   return (\r\n      <>\r\n         <CustomLabel>{newTitle} -</CustomLabel>\r\n         <span>{value || \"unknown\"}</span>\r\n      </>\r\n   )\r\n}","import React, {FC, useEffect, useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport {updateProfileStatus} from \"../../redax/profileReducer\";\r\nimport {LinearProgress, TextField} from '@mui/material';\r\n\r\nexport let Status: FC<{isOwn: boolean}> = ({isOwn}) => {\r\n   let dispatch = useDispatch()\r\n   let status = useTypesSelector(state => state.profilePage.status)\r\n   let pending = useTypesSelector(state => state.profilePage.pendingStatus)\r\n\r\n   let [inputValue, setInputValue] = useState<string>(status || \"\")\r\n\r\n\r\n\r\n   useEffect(() => {\r\n      if(inputValue !== status) setInputValue(status || \"\")\r\n   }, [status])\r\n\r\n   let submitStatus = () => {\r\n      if(status !== inputValue) dispatch(updateProfileStatus(inputValue))\r\n   }\r\n\r\n   let onStatusChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      setInputValue(e.target.value);\r\n   }\r\n\r\n   return <>\r\n      {pending && <LinearProgress sx={{\r\n         mb:2\r\n      }}/>}\r\n      <TextField\r\n         disabled={isOwn ? pending: true }\r\n         onBlur={() => submitStatus()}\r\n         value={inputValue}\r\n         onChange={onStatusChange}\r\n         fullWidth\r\n         label=\"Status\"\r\n         onKeyDown={(event) => {\r\n            if (event.keyCode === 13){\r\n               submitStatus()\r\n               //@ts-ignore\r\n               event.target.blur()\r\n            }\r\n         }}\r\n      />\r\n   </>\r\n}","import * as React from 'react';\r\nimport {Box, Button, Typography} from '@mui/material';\r\nimport {ChangeEvent, FC} from \"react\";\r\nimport {styled} from '@mui/material/styles';\r\nimport {Status} from \"../status\";\r\nimport {setProfilePhoto} from \"../../../redax/profileReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useTypesSelector} from \"../../../app/hooks\";\r\n\r\ntype ProfileTop = {\r\n   isOwn: boolean\r\n   src: string\r\n}\r\nconst Input = styled('input')({\r\n   display: 'none',\r\n});\r\n\r\nlet ImgWrapper = styled(\"div\")(({theme}) => ({\r\n   border: \"2px solid white\",\r\n   height: \"250px\",\r\n   [theme.breakpoints.up('xs')]:{\r\n      width: \"100%\"\r\n   },\r\n   [theme.breakpoints.up('sm')]:{\r\n      width: \"250px\",\r\n      flex: \"0 0 250px\"\r\n   },\r\n   marginRight: theme.spacing(1),\r\n   borderRadius: theme.spacing(1),\r\n   position: \"relative\",\r\n}))\r\n\r\nexport let ProfileTop: FC<ProfileTop> = ({src, isOwn}) => {\r\n   let fullName = useTypesSelector(state => state.profilePage.userProfile?.fullName)\r\n   let dispatch = useDispatch()\r\n   let putPhoto = (e: ChangeEvent<HTMLInputElement>) => {\r\n      if (e.target.files?.length) {\r\n         dispatch(setProfilePhoto(e.target.files[0]))\r\n      }\r\n   }\r\n   return (\r\n      <Box\r\n         sx={{\r\n            display: 'flex',\r\n\r\n            flexDirection: {xs: 'column', sm: 'row'},\r\n            bgcolor: '#bab0b0',\r\n            overflow: 'hidden',\r\n            boxShadow: 1,\r\n            fontWeight: 'bold',\r\n            p: 2,\r\n         }}\r\n      >\r\n         <ImgWrapper >\r\n            <Box\r\n               component=\"img\"\r\n               sx={{\r\n                  position: \"absolute\",\r\n                  objectFit: \"cover\",\r\n                  top: 0,\r\n                  left: 0,\r\n                  width: \"100%\",\r\n                  height: \"100%\",\r\n               }}\r\n               alt=\"It's my own picture\"\r\n               src={src}\r\n            />\r\n         </ImgWrapper>\r\n         <Box sx={{\r\n            flex: \"1 1 auto\"\r\n         }}>\r\n            <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n               {fullName}\r\n            </Typography>\r\n            {!isOwn || <label htmlFor=\"change-photo\">\r\n               <Input onChange={putPhoto} id=\"change-photo\" type=\"file\" accept=\"image/*\"/>\r\n               <Button\r\n                  size=\"large\"\r\n                  sx={{\r\n                     borderRadius: 1,\r\n                     mb: 2\r\n                  }}\r\n                  variant=\"contained\"\r\n                  component=\"span\">\r\n                  Change photo\r\n               </Button>\r\n            </label>}\r\n            <Status isOwn={isOwn}/>\r\n         </Box>\r\n      </Box>\r\n   );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/1024px-User-avatar.svg.6ca1b977.png\";","import s from \"../profile.module.css\";\r\nimport React, {FC, useEffect} from \"react\";\r\nimport Loading from \"../../users/loading\";\r\nimport {AboutForm} from \"./aboutMeForm\";\r\nimport {useAppDispatch, useTypesSelector} from \"../../../app/hooks\";\r\nimport {AboutMe} from \"./aboutMe\";\r\nimport {ProfileTop} from \"./profileTop\";\r\nimport img from \"./../../../asserts/1024px-User-avatar.svg.png\"\r\nimport {toggleEditMode} from \"../../../redax/profileReducer\";\r\nimport {Box} from \"@mui/material\";\r\n\r\ninterface IInfo {\r\n   isOwn: boolean\r\n}\r\n\r\n\r\nexport let Info: FC<IInfo> = (props) => {\r\n   let edit = useTypesSelector(state => state.profilePage.editMode)\r\n   let userProfile = useTypesSelector(state => state.profilePage.userProfile)\r\n   let dispatch = useAppDispatch()\r\n\r\n   useEffect(() => {\r\n\r\n      return () => {\r\n         dispatch(toggleEditMode(false))\r\n      }\r\n   }, [])\r\n\r\n\r\n   if (!userProfile) {\r\n      return (<Loading />)\r\n   } else {\r\n      return (\r\n         <div className={s.infoWrapper}>\r\n            <ProfileTop\r\n               src={userProfile.photos.large || userProfile.photos.small || img}\r\n               isOwn={props.isOwn}\r\n            />\r\n            <Box sx={{\r\n               bgcolor: \"#bab0b0\",\r\n               width: \"100%\",\r\n               boxShadow: 1,\r\n               mt: 1,\r\n            }} className={s.addPost}>\r\n               <Box sx={{\r\n                  padding: (theme) => theme.spacing(1),\r\n                  pt: 2,\r\n                  textAlign: \"end\",\r\n               }}>\r\n                  {edit || <AboutMe isOwn={props.isOwn} {...userProfile} />}\r\n                  {props.isOwn && edit && <AboutForm/>}\r\n               </Box>\r\n            </Box>\r\n         </div>\r\n      )\r\n   }\r\n}\r\n\r\n/*type InfoFormType = {\r\n   addPost: (data: addPostPropsType) => void\r\n}*/\r\n\r\n/*\r\nlet InfoForm: FC<InfoFormType> = ({ addPost }) => {\r\n   let { handleSubmit, register, formState: { errors } } = useForm<addPostPropsType>()\r\n   return (\r\n      <form onSubmit={handleSubmit(addPost)}>\r\n         <input {...register(\"post\", {\r\n            maxLength: {\r\n               value: 20,\r\n               message: \"Пожалуйста поменьше букв\"\r\n            }\r\n         })} placeholder={\"Введите свое сообщение\"} className={s.texarea} />\r\n         {errors.post && <p>{errors.post.message}</p>}\r\n         <button className={s.add}>submit</button>\r\n      </form>\r\n   )\r\n}\r\n*/\r\n\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport {getProfileStatus, getUserProfile} from \"../../redax/profileReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Navigate, useParams} from \"react-router-dom\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport {Info} from \"./aboutMe/info\";\r\nimport {Box, Typography} from \"@mui/material\";\r\n\r\nfunction testMyId(id: number | null): asserts id is number {\r\n    if (typeof id !== \"number\") throw new Error(\"Ошибка доступа\")\r\n}\r\nexport let Profile = () => {\r\n    let myId = useTypesSelector(state => state.auth.userId)\r\n    let isInitialize = useTypesSelector(state => state.auth.isLog)\r\n    let { userId } = useParams<string>()\r\n    let dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getProfileStatus(Number(userId)))\r\n        dispatch(getUserProfile(Number(userId)))\r\n    }, [userId])\r\n\r\n    if (isInitialize === false){\r\n        return <Discklamer/>\r\n    }\r\n    testMyId(myId)\r\n    return (\r\n        <Info isOwn={myId === Number(userId)} />\r\n    )\r\n}\r\n\r\nexport let ProfileRedirect = () => {\r\n    let myId = useTypesSelector(state => state.auth.userId)\r\n    return <Navigate to={myId ? `/profile/${myId}` : \"/login\"} replace={true} />\r\n}\r\n\r\nexport let NotFound = () => {\r\n    return <Box sx={{\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\"\r\n    }}>\r\n        <Typography variant={\"h4\"}>\r\n            404 Not Found\r\n        </Typography>\r\n    </Box>\r\n}\r\n\r\nexport let Discklamer = () => {\r\n    return <Box sx={{\r\n        width: \"100%\",\r\n        height: \"calc(100vh - 70px)\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\"\r\n    }}>\r\n        <Typography variant={\"h4\"}>\r\n            Чтобы увидеть содержимое страницы необходимо войти в аккаунт\r\n        </Typography>\r\n    </Box>\r\n}","import React from \"react\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport styled from \"@emotion/styled\";\r\nimport {Avatar, Box, Button} from \"@mui/material\";\r\nimport img from \"./../../asserts/1024px-User-avatar.svg.png\"\r\n\r\nlet Header = styled(\"header\")({\r\n   width: \"100%\",\r\n   height: \"60px\",\r\n   padding: \"5px 0\",\r\n   position: \"fixed\",\r\n   top: 0,\r\n   left: 0,\r\n   zIndex: 50,\r\n   borderBottom: \"1px solid #B2B2B2FF\",\r\n   backgroundColor: \"#fff\"\r\n\r\n})\r\n\r\nexport let HeaderContainer = () => {\r\n   let images = useTypesSelector(state => state.auth.photos)\r\n   return (\r\n      <>\r\n         <Header>\r\n            <Box sx={{\r\n               padding: {\r\n                  sm: \"0 10px\",\r\n                  xs: \"0 5px\"\r\n               },\r\n               maxWidth: {\r\n                  xs: \"100%\",\r\n                  sm: 600,\r\n                  md: 800,\r\n                  lg: 1000,\r\n                  xl: 1200,\r\n               },\r\n               height: \"100%\",\r\n               margin: \"0 auto\",\r\n            }}>\r\n               <Box sx={{\r\n                  padding: \"0 10px\",\r\n                  display: \"flex\",\r\n                  height: \"100%\",\r\n                  borderLeft: \"1px solid #B2B2B2FF\",\r\n                  borderRight: \"1px solid #B2B2B2FF\",\r\n                  alignItems: \"center\",\r\n               }}>\r\n                  <Box sx={{display: \"flex\"}}>\r\n                     <Button sx={{\r\n                        marginRight: {\r\n                           xs: \"5px\",\r\n                           sm: \"10px\"\r\n                        }\r\n                     }} variant=\"contained\" size=\"small\"\r\n                             href=\"/profile\">\r\n                        Profile\r\n                     </Button>\r\n                     <Button\r\n                        sx={{\r\n                        marginRight: {\r\n                           xs: \"5px\",\r\n                           sm: \"10px\"\r\n                        }\r\n                     }} variant=\"contained\" size=\"small\"\r\n                             href=\"/dialogs\">\r\n                        Dialogs\r\n                     </Button>\r\n                     <Button variant=\"contained\" size=\"small\"\r\n                             href=\"/users\">\r\n                        Users\r\n                     </Button>\r\n                  </Box>\r\n                  <Box sx={{flex: \"1 1 auto\", display: \"flex\", justifyContent: \"flex-end\"}}>\r\n                     <Avatar src={images?.small || images?.large || img}/>\r\n                  </Box>\r\n               </Box>\r\n            </Box>\r\n         </Header>\r\n\r\n      </>\r\n   )\r\n}\r\n\r\n\r\n","import style from \"./login.module.css\"\r\nimport {logIn,} from \"../../redax/authReducer\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {FC} from \"react\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\n\r\nlet Login = () => {\r\n   let dispatch = useDispatch()\r\n   let onSubmit = (data: DataType) => {\r\n      dispatch(logIn({\r\n         email: data.login,\r\n         password: data.password,\r\n         rememberMe: data.rememberMe,\r\n         captcha: data.captcha\r\n      }))\r\n   }\r\n   return (\r\n      <div className={style.loginWrapper}>\r\n         <LoginForm onSubmit={onSubmit}/>\r\n      </div>\r\n   )\r\n}\r\n\r\ninterface DataType extends Record<string, any> {\r\n   login: string\r\n   password: string\r\n   rememberMe: boolean\r\n   captcha: string\r\n}\r\n\r\ntype LoginFormPropsType = {\r\n   onSubmit: (data: DataType) => void\r\n}\r\n\r\n\r\nlet LoginForm: FC<LoginFormPropsType> = ({onSubmit}) => {\r\n   const {register, handleSubmit, formState: {errors}} = useForm<DataType>();\r\n   let captchaUrl = useTypesSelector(state => state.auth.urlCaptcha)\r\n\r\n   return (\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n         <div>\r\n            <input {...register(\"login\", {maxLength: {value: 25, message: \"слишком много букв\"}})} placeholder={\"login\"}\r\n                   name={'login'}/>\r\n            <span>{errors?.login?.message}</span>\r\n         </div>\r\n         <div>\r\n            <input {...register(\"password\")} placeholder={\"password\"} name={'password'}/>\r\n         </div>\r\n         <div>\r\n            <input type={\"checkbox\"} {...register(\"rememberMe\")} name={'rememberMe'}/>remember me\r\n         </div>\r\n         {!!captchaUrl && <img src={captchaUrl} alt=\"\"/>}\r\n         {!!captchaUrl && <input type=\"text\" {...register(\"captcha\")} />}\r\n         <div>\r\n            <button>submit</button>\r\n         </div>\r\n      </form>\r\n   )\r\n}\r\nexport default Login\r\n\r\n//export default connect(null,{loginCreator,logoutCreator})(Login)","import {FC, memo} from \"react\";\r\nimport {IMessage} from \"../../dal/chat-api\";\r\nimport {Avatar, Box, Link} from \"@mui/material\";\r\nimport img from \"./../../asserts/1024px-User-avatar.svg.png\"\r\n\r\ntype messagePropsType = {\r\n   item: IMessage\r\n}\r\n\r\n let Message: FC<messagePropsType> = ({item}) => {\r\n   return (\r\n      <Box sx={{\r\n         display: \"flex\",\r\n         \":not(:first-child)\":{\r\n            marginTop: \"15px\",\r\n         }\r\n\r\n      }}>\r\n         <Box sx={{\r\n            flex: \"0 1 auto\"\r\n         }}>\r\n            <Avatar sx={{\r\n               marginRight: \"5px\"\r\n            }} sizes={\"small\"} src={item.photo || img}/>\r\n         </Box>\r\n         <Box>\r\n            <Link sx={{\r\n               display: \"block\",\r\n               marginBottom: \"5px\"\r\n            }} href={`/profile/${item.userId}`}>{item.userName}</Link>\r\n\r\n            <Box sx={{}}>\r\n               {item.message}\r\n            </Box>\r\n         </Box>\r\n      </Box>\r\n   )\r\n}\r\n\r\nexport default memo(Message)","import Message from \"./massage\";\r\nimport profileStyle from \"./../profile/profile.module.css\";\r\nimport React, {FC, useEffect, useRef, useState} from \"react\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {cleanState, startListeningMessage, stopListeningMessage} from \"../../redax/dialogsReducer\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {ChatApi} from \"../../dal/chat-api\";\r\nimport {Box, Button, TextField} from \"@mui/material\";\r\nimport {Discklamer} from \"../profile/Profile\";\r\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\r\n\r\nlet submitForm: (data: { message: string }) => void = (data) => {\r\n   if (!data.message) return\r\n   ChatApi.sendMessage(data.message)\r\n}\r\n\r\nexport let Dialogs: FC = () => {\r\n   let messages = useTypesSelector(state => state.dialogsPage.message)\r\n   let status = useTypesSelector(state => state.dialogsPage.status)\r\n   let isScroll = useRef<boolean>(true)\r\n   let prevScroll = useRef<number>(0)\r\n   let chat = useRef<HTMLElement>(null)\r\n   let isInitialize = useTypesSelector(state => state.auth.isLog)\r\n   let [isScrollSt,setIsScrollSt] = useState<boolean>(true)\r\n\r\n   let dispatch = useDispatch()\r\n   useEffect(() => {\r\n      if(isInitialize) {\r\n         dispatch(startListeningMessage())\r\n         return () => {\r\n            dispatch(stopListeningMessage())\r\n            dispatch(cleanState())\r\n         }\r\n      }\r\n   }, [])\r\n\r\n\r\n   let scroll = (useRef?: true) => {\r\n      let tmp = chat.current\r\n      let flag = isScroll.current\r\n      if(useRef) flag = true\r\n      if (flag && tmp && tmp.scrollHeight !== tmp.offsetHeight + tmp.scrollTop) {\r\n         prevScroll.current = tmp.scrollTop\r\n         tmp.scrollBy({\r\n            top: tmp.scrollHeight - tmp.offsetHeight - tmp.scrollTop,\r\n            left: 100,\r\n            behavior: 'smooth'\r\n         });\r\n      }\r\n   }\r\n\r\n\r\n   useEffect(() => {\r\n   //подписываемся на событие сролла в контейнере сообщений\r\n\r\n      let handler = (event: any) => {\r\n         // defaultValue isScroll.current === false\r\n         let tmp = event.target\r\n\r\n\r\n         if (prevScroll.current > tmp.scrollTop ) {\r\n         //если проскроллили вверх\r\n\r\n            setIsScrollSt(false)\r\n\r\n            //отключаем автоскролл\r\n            isScroll.current = false\r\n\r\n         }else{\r\n         //если проскролли вниз\r\n\r\n\r\n             setIsScrollSt(true)\r\n\r\n            //еcли доскролили до конца\r\n            if(tmp.scrollHeight === (tmp.scrollTop + tmp.offsetHeight)){\r\n               setIsScrollSt(false)\r\n               //включаем автоскролл\r\n               isScroll.current = true\r\n            }\r\n         }\r\n         prevScroll.current = event.target.scrollTop\r\n      }\r\n\r\n      chat.current?.addEventListener(\"scroll\", handler)\r\n      return () => {\r\n         chat.current?.removeEventListener(\"scroll\", handler)\r\n      }\r\n   }, [])\r\n\r\n   useEffect(() => {\r\n      // при появлении новых сообщений\r\n      //если скролл разрешен и не проскроленно до конца - скролим до конца\r\n      scroll()\r\n   }, [messages])\r\n   console.log(\"Rerender\")\r\n\r\n   if (isInitialize === false){\r\n      return <Discklamer/>\r\n   }\r\n\r\n   return (\r\n      <Box sx={{\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         flex: \"1 1 auto\",\r\n         \"@media (min-height: 500px)\": {\r\n            maxHeight: \"calc(100vh - 130px)\"\r\n         },\r\n         backgroundColor: \"#ffffff\",\r\n         padding: {\r\n            sm: \"0 10px\",\r\n         },\r\n         position: \"relative\"\r\n      }}>\r\n         <Box\r\n            ref={chat}\r\n            sx={{\r\n               flex: \"1 1 auto\",\r\n               overflowY: \"auto\",\r\n               \"@media (max-height: 500px)\": {\r\n                  flexGrow: 0,\r\n                  flexShrink: 1,\r\n                  flexBasis: \"279px\"\r\n               },\r\n               padding: \"10px 0\",\r\n               display: \"flex\",\r\n               flexDirection: \"column\"\r\n            }}>\r\n            <Box sx={{flex: \"1 1 auto\"}}/>\r\n            {\r\n               messages.map(item => <Message key={item.id} item={item}/>)\r\n            }\r\n         </Box>\r\n         <ArrowDownwardIcon\r\n            onClick={() => {\r\n               console.log(\"Вызов фугкции из обработчика\")\r\n               scroll(true)\r\n            }}\r\n            sx={{\r\n            fontSize: \"40px\",\r\n            position: \"absolute\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: \"50%\",\r\n            border: \"1px solid gray\",\r\n            bottom: \"85px\",\r\n            right:\"15px\",\r\n            \"@media (any-hover: hover)\": {\r\n               right: isScrollSt ? \"45px\" : \"15px\",\r\n            },\r\n            \"@media (any-hover: none)\": {\r\n               right: isScrollSt ? \"20px\" : \"0px\",\r\n            },\r\n            transition: \"all 0.3s ease 0s\",\r\n            opacity: isScrollSt ? \"1\": \"0\",\r\n            visibility: isScrollSt ? \"visible\": \"hidden\"\r\n         }}/>\r\n         <DialogForm ready={!(status === \"ready\")} submitForm={submitForm}/>\r\n      </Box>\r\n   )\r\n}\r\n\r\ninterface DialogForm {\r\n   submitForm: (data: { message: string }) => void\r\n   ready: boolean\r\n}\r\n\r\nlet DialogForm: FC<DialogForm> = ({submitForm, ready}) => {\r\n   let {handleSubmit, register, reset, formState: {errors}} = useForm<{ message: string }>()\r\n   return (\r\n      <Box sx={{\r\n         flex: \"0 0 70px\",\r\n         backgroundColor: \"#706f6f\",\r\n         display: \"flex\",\r\n         alignItems: \"center\",\r\n         margin: \"0 -10px\"\r\n\r\n      }} component={\"form\"} onSubmit={handleSubmit((data: { message: string }) => {\r\n         if (data.message === \"\") return\r\n         submitForm(data)\r\n         reset()\r\n      })}>\r\n\r\n         <TextField\r\n\r\n            size={\"small\"}\r\n            error={!!errors.message}\r\n            helperText={!!errors.message && errors.message.message}\r\n            sx={{\r\n               flex: \"1 1 auto\",\r\n               marginLeft: \"10px\",\r\n            }}\r\n            placeholder={\"Введи свое сообщение\"}\r\n            {...register(\"message\", {\r\n               maxLength: {\r\n                  value: 50,\r\n                  message: \"Пожалуйста поменьше букв\"\r\n               }\r\n            })} className={profileStyle.textarea}\r\n         />\r\n         <Button type={\"submit\"} sx={{\r\n            margin: \"0 10px\"\r\n         }} variant={\"contained\"} disabled={ready}>send</Button>\r\n      </Box>\r\n   )\r\n}\r\n\r\n","import {FC} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Box, Button, Link, Typography} from \"@mui/material\";\r\nimport img from \"./../../asserts/1024px-User-avatar.svg.png\"\r\nimport {followUser, unfollowUser} from \"../../redax/usersReducer\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\n\r\ninterface IUserProps {\r\n   id: number\r\n}\r\n\r\n\r\nexport let User: FC<IUserProps> = ({id}) => {\r\n   let dispatch = useDispatch()\r\n   let {\r\n      name,\r\n      status,\r\n      followed,\r\n      photos: {small, large},\r\n      pendingFollow: isDisabledBtn\r\n   } = useTypesSelector(state => state.usersPage.users[id])\r\n\r\n\r\n   const contentBtn = followed ? \"Unfollow\" : \"Follow\"\r\n   let btnHandler = (id: number) => {\r\n      let tmp = followed ? unfollowUser : followUser\r\n      dispatch(tmp(id))\r\n   }\r\n\r\n   return <Box\r\n      sx={{\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         alignItems: \"start\",\r\n         bgcolor: \"background.paper\",\r\n         \":hover\": {\r\n            boxShadow: 10,\r\n         },\r\n         \"@media (any-hover: hover)\": {\r\n            \":hover .userConCont\": {\r\n               visibility: \"visible\",\r\n               opacity: 1,\r\n            },\r\n         },\r\n         \"@media (any-hover: none)\": {\r\n            \".userConCont\": {\r\n               visibility: \"visible\",\r\n               opacity: 1,\r\n            },\r\n         },\r\n         borderRadius: 3,\r\n         position: \"relative\"\r\n      }}\r\n   >\r\n      <Box sx={{\r\n         position: \"relative\",\r\n         width: \"100%\",\r\n         height: \"180px\",\r\n      }}>\r\n         <Box component={\"img\"} src={large || small || img} sx={{\r\n            position: \"absolute\",\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            objectFit: \"cover\",\r\n            top: 0,\r\n            left: 0,\r\n            borderRadius: 3,\r\n         }}/>\r\n      </Box>\r\n      <Box className={\"userConCont\"} sx={{\r\n         position: \"absolute\",\r\n         top: 0,\r\n         left: 0,\r\n         display: \"flex\",\r\n         flexDirection: \"column\",\r\n         padding: 1,\r\n         visibility: \"hidden\",\r\n         opacity: 0,\r\n         bgcolor: \"rgba(0,0,0,0.7)\",\r\n         width: \"100%\",\r\n         height: \"100%\",\r\n         boxSizing: \"border-box\",\r\n         borderRadius: 3,\r\n         transition: \"opacity 0.3s ease 0s\"\r\n      }}>\r\n         <Link sx={{flexGrow: status ? 0 : 1}} href={'/profile/' + id}>\r\n            <Typography\r\n               sx={{\r\n                  color: \"common.white\",\r\n                  marginBottom: 1,\r\n                  lineHeight: 1.1\r\n               }}\r\n               variant={\"body2\"}\r\n            >{name}</Typography>\r\n         </Link>\r\n         {status && <Typography\r\n            sx={{\r\n               color: \"common.white\",\r\n               flexGrow: 1,\r\n               overflow: \"hidden\",\r\n               lineHeight: 1.1\r\n            }}\r\n            variant={\"body2\"}>{status}\r\n         </Typography>}\r\n\r\n         <Button\r\n            onClick={() => btnHandler(id)}\r\n            sx={{\r\n               opacity: 1,\r\n               justifySelf: \"end\",\r\n               pt: 1\r\n            }}\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            disabled={isDisabledBtn}>\r\n            {contentBtn}\r\n         </Button>\r\n      </Box>\r\n   </Box>\r\n}","import { Pagination } from \"@mui/material\";\r\nimport React, { FC, memo } from \"react\";\r\nimport { currentPageSelector, setCurrentPage, usersPerPageSelector } from \"../../redax/usersReducer\";\r\nimport { useAppDispatch, useTypesSelector } from \"../../app/hooks\";\r\n\r\nlet MyPaginationWOMemo: FC = () => {\r\n   let totalUsersCount = useTypesSelector(state => state.usersPage.totalUsersCount)\r\n   let currentPage = useTypesSelector(currentPageSelector)\r\n   let usersPerPage = useTypesSelector(usersPerPageSelector)\r\n   let dispatch = useAppDispatch()\r\n\r\n   return <Pagination\r\n      sx={{\r\n         mt: 1,\r\n         mb: 1,\r\n         \"> ul\": {\r\n            justifyContent: \"center\",\r\n         }\r\n      }}\r\n      siblingCount={0}\r\n      boundaryCount={1}\r\n      page={currentPage}\r\n      count={Math.ceil(totalUsersCount / usersPerPage)}\r\n      variant=\"outlined\"\r\n      onChange={(_, page: number) => {\r\n         dispatch(setCurrentPage(page))\r\n      }}\r\n      shape=\"rounded\" />\r\n}\r\n\r\nexport let MyPagination = memo(MyPaginationWOMemo)","import React, {FC, memo, useEffect} from \"react\";\r\nimport {Box, Button, LinearProgress, NativeSelect, styled, TextField} from \"@mui/material\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {useAppDispatch} from \"../../app/redax-store\";\r\nimport {\r\n   applyFilters,\r\n   currentPageSelector,\r\n   friendSelector,\r\n   getUsers,\r\n   ISearchFilters,\r\n   termSelector,\r\n   usersPerPageSelector\r\n} from \"../../redax/usersReducer\";\r\nimport {useTypesSelector} from \"../../app/hooks\";\r\nimport {useSearchParams} from \"react-router-dom\";\r\nimport {friendUnion} from \"../../dal/api\";\r\n\r\nlet UsersFormElement = styled(\"form\")(({ theme }) => ({\r\n   flex: \"1 1 auto\",\r\n   display: \"flex\",\r\n   flexWrap: \"wrap\",\r\n   alignItems: \"center\",\r\n   [theme.breakpoints.up('sm')]: {\r\n      flexWrap: \"noWrap\",\r\n   },\r\n   [theme.breakpoints.down('sm')]: {\r\n      height: \"120px\"\r\n   }\r\n\r\n}))\r\n\r\ninterface ISearchParams extends Partial<Record<string, string>> {\r\n   term?: string;\r\n   friend?: string;\r\n   currentPage?: string;\r\n   count?: string;\r\n}\r\n\r\n\r\nlet splitParams = (searchParams: URLSearchParams, tmp: ISearchParams) => {\r\n   searchParams.forEach((value, key) => {\r\n      tmp[key] = value\r\n   })\r\n}\r\n\r\n\r\nlet UsersFormWoMemo: FC = () => {\r\n   let usersPerPage = useTypesSelector(usersPerPageSelector)\r\n   let currentPage = useTypesSelector(currentPageSelector)\r\n   let friend = useTypesSelector(friendSelector)\r\n   let term = useTypesSelector(termSelector)\r\n   let isLoading = useTypesSelector(state => state.usersPage.isLoading)\r\n\r\n   let { handleSubmit, formState: { errors }, register, reset } = useForm<ISearchFilters>()\r\n\r\n\r\n   let dispatch = useAppDispatch()\r\n\r\n   let [searchParams, setSearchParams] = useSearchParams()\r\n\r\n   let onSubmit = (data: ISearchFilters) => {\r\n      dispatch(applyFilters(data))\r\n   }\r\n\r\n   useEffect( () => {\r\n      // if search params string !== \"\" apply search params\r\n      let paramsObject: ISearchParams = {}\r\n      splitParams(searchParams, paramsObject)\r\n      let actualPage = currentPage\r\n      let friendURI = friend\r\n      let termURI = term\r\n      let count = usersPerPage\r\n\r\n      let flag = false\r\n\r\n      if (paramsObject.currentPage &&\r\n         Number(paramsObject.currentPage) !== actualPage &&\r\n         !!Number(paramsObject.currentPage)) {\r\n         flag = true\r\n         actualPage = Number(paramsObject.currentPage)\r\n      }\r\n      if (paramsObject.term &&\r\n         paramsObject.term !== termURI) {\r\n         flag = true\r\n         termURI = paramsObject.term\r\n      }\r\n      if (paramsObject.friend &&\r\n         paramsObject.friend !== friendURI) {\r\n         flag = true\r\n         friendURI = paramsObject.friend as friendUnion\r\n      }\r\n      if (paramsObject.usersPerPage &&\r\n         Number(paramsObject.usersPerPage) !== count &&\r\n         !!Number(paramsObject.usersPerPage)) {\r\n         flag = true\r\n         count = Number(paramsObject.usersPerPage)\r\n      }\r\n      if (flag) {\r\n         dispatch(\r\n            applyFilters({\r\n               term: termURI,\r\n               friend: friendURI,\r\n               currentPage: actualPage,\r\n               usersPerPage: count\r\n            })\r\n         )\r\n\r\n      }\r\n\r\n   }, [])\r\n\r\n   useEffect(() => {\r\n      let tmp = new URLSearchParams()\r\n\r\n      if (term) tmp.append(\"term\", term)\r\n      if (friend) tmp.append(\"friend\", friend)\r\n      if (currentPage) tmp.append(\"currentPage\", String(currentPage))\r\n      if (usersPerPage) tmp.append(\"usersPerPage\", String(usersPerPage))\r\n      setSearchParams(tmp, { replace: true })\r\n      dispatch(getUsers())\r\n      reset({\r\n         friend: friend,\r\n         usersPerPage: usersPerPage,\r\n         term: term\r\n      })\r\n   }, [currentPage, usersPerPage, term, friend])\r\n\r\n   return <Box\r\n      sx={{\r\n         display: \"flex\",\r\n         pt: 1,\r\n         pb: 1,\r\n\r\n      }}>\r\n      {isLoading ? <LinearProgress sx={{ flex: \"1 1 auto\" }} /> :\r\n         <UsersFormElement onSubmit={handleSubmit(onSubmit)}>\r\n            <NativeSelect\r\n               sx={{\r\n                  mr: 1,\r\n                  ml: 1,\r\n                  flex: {\r\n                     sm: \"0 0 80px\",\r\n                     xs: \"1 1 auto\"\r\n                  }\r\n               }}\r\n               {...register(\"friend\",{value: friend})}\r\n\r\n            >\r\n               <option value=\"\">All</option>\r\n               <option value=\"true\">Friend</option>\r\n               <option value=\"false\">No friend</option>\r\n            </NativeSelect>\r\n\r\n            <NativeSelect\r\n               sx={{\r\n                  mr: 1,\r\n                  flex: {\r\n                     sm: \"0 0 50px\",\r\n                     xs: \"1 1 auto\"\r\n                  },\r\n                  width: \"50px\",\r\n               }}\r\n               {...register(\"usersPerPage\",{value: usersPerPage})}\r\n\r\n            >\r\n               {[5, 10, 15, 20, 25].map(item => <option key={item} value={item}>{item}</option>)}\r\n            </NativeSelect>\r\n\r\n            <TextField\r\n               error={!!errors.term}\r\n               helperText={errors.term && errors.term.message}\r\n               sx={{\r\n                  mr: 1,\r\n                  flex: \"1 1 auto\"\r\n               }}\r\n               fullWidth\r\n               label=\"search\"\r\n               id=\"search\"\r\n               size=\"small\"\r\n               {...register(\"term\", {\r\n                  maxLength: {\r\n                     value: 15,\r\n                     message: \"Слишком много букв\"\r\n                  }\r\n               }\r\n               )} />\r\n\r\n            <Button\r\n               sx={{\r\n                  borderRadius: 1,\r\n                  pr: 5,\r\n                  pl: 5,\r\n                  height: {\r\n                     sm:\"100%\"\r\n                  }\r\n               }}\r\n               size=\"small\"\r\n               variant=\"contained\"\r\n               type={\"submit\"}>Submit\r\n\r\n            </Button>\r\n         </UsersFormElement>}\r\n   </Box>\r\n\r\n}\r\n\r\nexport let UsersForm = memo(UsersFormWoMemo)","import {useTypesSelector} from \"../../app/hooks\";\r\nimport React, {FC} from \"react\";\r\nimport {Box, Typography} from '@mui/material';\r\nimport {User} from \"./User\";\r\nimport {MyPagination} from \"./MyPagination\";\r\nimport {UsersForm} from \"./UsersForm\";\r\nimport {Discklamer} from \"../profile/Profile\";\r\n\r\n\r\nexport let Users: FC = () => {\r\n   let usersId = useTypesSelector(state => state.usersPage.usersID)\r\n   let isInitialize = useTypesSelector(state => state.auth.isLog)\r\n\r\n   if (isInitialize === false){\r\n      return <Discklamer />\r\n   }\r\n   return (\r\n      <>\r\n         <UsersForm/>\r\n         <Box sx={{\r\n            display: \"grid\",\r\n            gridTemplate: \"1fr/repeat(auto-fill, minmax(150px, 1fr))\",\r\n            gap: 2,\r\n         }}>\r\n            {usersId.map(item => <User id={item} key={item} />)}\r\n         </Box>\r\n         <MyPagination />\r\n      </>\r\n   )\r\n}\r\n\r\n","import {Outlet} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {Box} from \"@mui/material\";\r\n\r\nexport let Wrapper = () => {\r\n   // let location = useLocation()\r\n   // let isAuth = useTypesSelector(state => state.auth.isLog)\r\n   // if (!isAuth && location.pathname !== \"/login\") return <Navigate to={\"/login\"} replace={true} />\r\n\r\n   return <Box\r\n      component={\"main\"}\r\n      sx={{\r\n         flex: \"1 1 auto\",\r\n         display: \"flex\",\r\n         paddingTop: \"70px\"\r\n      }}\r\n   >\r\n      <Box\r\n         sx={{\r\n            margin: \"0 auto\",\r\n            maxWidth: {\r\n               xs: \"100%\",\r\n               sm: 600,\r\n               md: 800,\r\n               lg: 1000,\r\n               xl: 1200,\r\n            },\r\n            padding: {\r\n               sm: \"0 10px\",\r\n               xs: \"0 5px\"\r\n            },\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            flex: \"1 1 auto\",\r\n         }}\r\n      >\r\n         <Outlet />\r\n      </Box>\r\n   </Box>\r\n}","import {Box, Button, Typography} from \"@mui/material\";\r\nimport styled from \"@emotion/styled\";\r\nimport {useAppDispatch} from \"../../app/redax-store\";\r\nimport {logout} from \"../../redax/authReducer\";\r\nimport DeleteSharpIcon from '@mui/icons-material/DeleteSharp';\r\nlet FooterComponent = styled(\"footer\")(({theme}) => ({\r\n   width: \"100%\",\r\n   height: \"60px\",\r\n   backgroundColor: \"gray\"\r\n}))\r\n\r\nexport let Footer = () => {\r\n   let dispatch = useAppDispatch()\r\n\r\n   return <FooterComponent>\r\n      <Box sx={{\r\n         maxWidth: {\r\n            xs: \"100%\",\r\n            sm: 600,\r\n            md: 800,\r\n            lg: 1000,\r\n            xl: 1200,\r\n         },\r\n         height: \"100%\",\r\n         margin: \"0 auto\",\r\n         padding: {\r\n            sm: \"0 10px\",\r\n            xs: \"0 5px\"\r\n         },\r\n      }}>\r\n         <Box sx={{\r\n            display: \"flex\",\r\n            justifyContent: {\r\n               sm: \"space-around\",\r\n               xs: \"space-between\"\r\n            },\r\n            alignItems: \"center\",\r\n            backgroundColor: \"#d3d3d3\",\r\n            height: \"100%\",\r\n            padding: \"0 10px\"\r\n         }}>\r\n            <Typography\r\n               sx={{\r\n                  color: \"##d3d3d3\",\r\n                  overflow: \"hidden\",\r\n                  textOverflow: \"ellipsis\",\r\n                  whiteSpace: \"nowrap\"\r\n               }} variant={\"body1\"}>\r\n               CC kkdras - Kozlov Konstantin\r\n            </Typography>\r\n            <Button sx={{\r\n               marginLeft: \"5px\"\r\n            }} variant={\"outlined\"} onClick={() => dispatch(logout())}>\r\n               Logout\r\n            </Button>\r\n         </Box>\r\n      </Box>\r\n   </FooterComponent>\r\n}","import React, {useEffect} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {\r\n   BrowserRouter,\r\n   LinkProps as RouterLinkProps,\r\n   MemoryRouter,\r\n   NavLink as RouterLink,\r\n   Route,\r\n   Routes\r\n} from \"react-router-dom\";\r\nimport {NotFound, Profile, ProfileRedirect} from \"./components/profile/Profile\";\r\nimport {HeaderContainer} from \"./components/header/headerContainer\";\r\nimport Login from \"./components/login/login\";\r\nimport Loading from \"./components/users/loading\";\r\nimport {Dialogs} from \"./components/dilogs/dialogs\"\r\nimport {useTypesSelector} from \"./app/hooks\";\r\nimport {getUserInfo} from \"./redax/authReducer\";\r\nimport {Users} from \"./components/users/Users\";\r\nimport {Wrapper} from \"./Wrapper\";\r\nimport {LinkProps} from '@mui/material/Link';\r\nimport {createTheme, ThemeProvider} from \"@mui/material\";\r\nimport {Footer} from \"./components/footer/Footer\";\r\n\r\nconst LinkBehavior = React.forwardRef<any,\r\n   Omit<RouterLinkProps, 'to'> & { href: RouterLinkProps['to'] }>((props, ref) => {\r\n   const {href, ...other} = props;\r\n   // Map href (MUI) -> to (react-router)\r\n   return <RouterLink data-testid=\"custom-link\" ref={ref} to={href} {...other} />;\r\n});\r\n\r\nconst theme = createTheme({\r\n   components: {\r\n      MuiLink: {\r\n         defaultProps: {\r\n            component: LinkBehavior,\r\n         } as LinkProps,\r\n      },\r\n      MuiButtonBase: {\r\n         defaultProps: {\r\n            LinkComponent: LinkBehavior,\r\n         },\r\n      },\r\n   },\r\n});\r\n\r\nexport let App = () => {\r\n   let isInitialize = useTypesSelector(state => state.auth.isLog)\r\n\r\n   let dispatch = useDispatch()\r\n\r\n   useEffect(() => {\r\n      dispatch(getUserInfo())\r\n   }, [])\r\n\r\n   if (isInitialize === null) {\r\n      return <Loading />\r\n   }\r\n\r\n   return <ThemeProvider theme={theme}>\r\n      <MemoryRouter basename={process.env.PUBLIC_URL}>\r\n         <HeaderContainer/>\r\n         <Routes>\r\n            <Route path={\"/\"} element={<Wrapper/>}>\r\n               <Route path={\"dialogs\"} element={<Dialogs/>}/>\r\n               <Route path={\"profile/:userId\"} element={<Profile/>}/>\r\n               <Route path={\"profile\"} element={<ProfileRedirect/>}/>\r\n               <Route path={\"users\"} element={<Users/>}/>\r\n               <Route path={\"login\"} element={<Login/>}/>\r\n               <Route path={\"*\"} element={<NotFound/>}/>\r\n               <Route index element={<ProfileRedirect/>}/>\r\n            </Route>\r\n         </Routes>\r\n         {isInitialize && <Footer/>}\r\n      </MemoryRouter>\r\n   </ThemeProvider>\r\n}\r\n","import React from 'react';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from \"react-dom/client\";\r\nimport {App} from \"./App\";\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./app/redax-store\";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n   <Provider store={store}>\r\n      <App/>\r\n   </Provider>,\r\n)\r\n\r\n\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile__banner\":\"profile_profile__banner__2fPc_\",\"profile\":\"profile_profile__2oUyy\",\"profile__post\":\"profile_profile__post__2cPhc\",\"infoWrapper\":\"profile_infoWrapper__QPz2C\",\"infoText\":\"profile_infoText___hl0a\",\"addPost\":\"profile_addPost__1_EtF\",\"add\":\"profile_add__12cU3\",\"texarea\":\"profile_texarea__2XP2v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users__container\":\"users_users__container__uY6zT\",\"userWrapper\":\"users_userWrapper__34afh\",\"userLeft\":\"users_userLeft__1iX1p\",\"userImage\":\"users_userImage__337Zj\",\"userButton\":\"users_userButton__2T06l\",\"userRight\":\"users_userRight__342uH\",\"userRL\":\"users_userRL__G1l9p\",\"userRR\":\"users_userRR__1npk5\",\"userName\":\"users_userName__3_Avc\",\"activeCurrentPagination\":\"users_activeCurrentPagination__2RWbg\",\"loadingContainer\":\"users_loadingContainer__3QPAo\"};"],"sourceRoot":""}