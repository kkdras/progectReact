(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,n){e.exports={loginWrapper:"login_loginWrapper__fnGzZ",fieldError:"login_fieldError__2A8rS"}},115:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var r,a,s=n(0),o=n.n(s),i=(n(115),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,205)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),s(e),o(e)}))}),c=n(92),A=n.n(c),u=n(5),l=n(47),d=n(21),b=n(40),f=n(17),p=n(10),j=n(18),g=n(93),h=n.n(g).a.create({withCredentials:"true",baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"2a53a8d7-9713-4730-bda2-40c41c92534f"}});!function(e){e[e.NeedCaptcha=10]="NeedCaptcha"}(r||(r={})),function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(a||(a={}));var m={getLogUser:function(){return h.get("auth/me").then((function(e){return e.data}))},login:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},logout:function(){return h.delete("auth/login").then((function(e){return e.data}))},getCaptcha:function(){return h.get("/security/get-captcha-url")}},x={getUsers:function(e,t,n,r){var a="users?page=".concat(e,"&count=").concat(t);return n&&(a+="&term=".concat(n)),r&&(a+="&friend=".concat(r)),h.get(a).then((function(e){return e.data}))},unfollowUser:function(e){return h.delete("follow/".concat(e)).then((function(e){return e.data}))},followUser:function(e){return h.post("follow/".concat(e)).then((function(e){return e.data}))}},O={getUserProfile:function(e){return h.get("profile/"+e).then((function(e){return e}))},getStatus:function(e){return h.get("profile/status/".concat(e))},setStatus:function(e){return h.put("profile/status",{status:e})},setPhoto:function(e){var t=new FormData;return t.append("image",e),h.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},setDescription:function(e){return h.put("profile",e).then((function(e){return e.data}))}},v=n(19),w=Object(v.c)({name:"auth",initialState:{userId:null,email:null,login:null,isLog:null,urlCaptcha:null,photos:null},reducers:{setUserInfo:function(e,t){return Object(u.a)(Object(u.a)({},e),t.payload)},setUserPhotos:function(e,t){e.photos=t.payload},setCaptcha:function(e,t){e.urlCaptcha=t.payload}},extraReducers:function(){}}),y=w.reducer,C=w.actions,P=C.setUserInfo,S=C.setCaptcha,k=C.setUserPhotos,B=Object(v.b)("auth/",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r,s,o,i,c,A,u,l;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.next=3,m.getLogUser();case 3:if((s=e.sent).resultCode!==a.Success){e.next=22;break}return o=s.data,i=o.id,c=o.email,A=o.login,u=null,e.prev=7,e.next=10,O.getUserProfile(i).then((function(e){return e.data}));case 10:l=e.sent,u=l.photos,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(7);case 16:return e.prev=16,r(k(u)),e.finish(16);case 19:r(P({userId:i,login:A,email:c,isLog:!0})),e.next=23;break;case 22:r(P({userId:null,email:null,login:null,isLog:!1}));case 23:case"end":return e.stop()}}),e,null,[[7,14,16,19]])})));return function(t,n){return e.apply(this,arguments)}}()),E=Object(v.b)("auth/captcha",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.next=3,m.getCaptcha();case 3:a=e.sent,r(S(a.data.url));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),L=Object(v.b)("auth/login",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var s,o;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.dispatch,e.next=3,m.login(t.email,t.password,t.rememberMe,t.captcha);case 3:(o=e.sent).resultCode===a.Success?s(B()):o.resultCode===r.NeedCaptcha&&s(E());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),F=(Object(v.b)("auth/logout",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.next=3,m.logout();case 3:e.sent.resultCode===a.Success&&r(P({userId:null,login:null,email:null,isLog:!1}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n(94)),Q=Object(v.c)({name:"profile",initialState:{userProfile:null,editMode:!1,submitButtonDisabled:!1,status:null,pendingStatus:!1},reducers:{togglePendingStatus:function(e){e.pendingStatus=!e.pendingStatus},setStatusProfile:function(e,t){e.status=t.payload},setUserPhoto:function(e,t){e.userProfile&&e.userProfile.photos&&(e.userProfile.photos=t.payload)},toggleSubmitButton:function(e){e.submitButtonDisabled=!e.submitButtonDisabled},toggleEditMode:function(e,t){Object(F.isBoolean)(t.payload)?e.editMode=t.payload:e.editMode=!e.editMode}},extraReducers:function(e){e.addCase(N.fulfilled,(function(e,t){console.log(t),e.userProfile=t.payload})).addCase(q.pending,(function(e){e.submitButtonDisabled=!e.submitButtonDisabled})).addCase(q.fulfilled,(function(e){e.submitButtonDisabled=!e.submitButtonDisabled})).addCase(q.rejected,(function(e){e.submitButtonDisabled=!e.submitButtonDisabled}))}}),I=Q.reducer,W=Q.actions,U=W.togglePendingStatus,R=W.setStatusProfile,H=W.setUserPhoto,M=(W.toggleSubmitButton,W.toggleEditMode),N=Object(v.b)("profile/getProfile",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getUserProfile(t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T=Object(v.b)("profile/getProfileStatus",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.dispatch)(U()),e.prev=2,e.next=5,O.getStatus(t);case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a={data:"Some error happen"};case 11:r(R(a.data)),r(U());case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),J=Object(v.b)("profile/updateProfileStatus",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.dispatch)(U()),e.next=4,O.setStatus(t);case 4:0===e.sent.data.resultCode&&(r(R(t)),r(U()));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Y=Object(v.b)("profile/setProfilePhoto",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.next=3,O.setPhoto(t);case 3:0===(a=e.sent).data.resultCode&&(r(H(a.data.data.photos)),r(k(a.data.data.photos)));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),q=Object(v.b)("profile/putProfileObject",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r,s,o;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,s=n.rejectWithValue,e.next=3,O.setDescription(t);case 3:if(1!==(o=e.sent).resultCode){e.next=6;break}return e.abrupt("return",s(o));case 6:return r(N(t.userId)),r(M()),e.abrupt("return",{messages:[],data:{},resultCode:a.Success});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),K=d.c,D=function(){return Object(d.b)()},G=n(57),V=n.n(G),z=n(75),Z=n.n(z),_=n(1),X=function(e){var t=e.loading;return Object(_.jsx)("div",{className:Z.a.loadingContainer,children:t?Object(_.jsx)("img",{className:Z.a.loadingGif,src:"data:image/gif;base64,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",alt:""}):null})},$=n(3),ee=n(42),te=function(e){for(var t="",n=!1,r=0;r<e.length;r++)"("===e[r]?n=!0:")"===e[r]?n=!1:n&&("("===e[r-1]?t+=e[r].toLowerCase():"-"===e[r]?t+="":">"===e[r]?t+=".":">"===e[r-1]?t+=e[r].toLowerCase():t+=e[r]);return t},ne=n(6),re=n(193),ae=n(194),se=n(184),oe=n(190),ie=n(196),ce=n(9),Ae=null,ue=function(){var e,t,n,r;null===(e=Ae)||void 0===e||e.removeEventListener("open",le),null===(t=Ae)||void 0===t||t.removeEventListener("message",de),null===(n=Ae)||void 0===n||n.removeEventListener("error",be),null===(r=Ae)||void 0===r||r.removeEventListener("close",fe)},le=function(){console.log("open"),pe("ready")},de=function(e){console.log("MESSAGE");var t=JSON.parse(e.data);ge["message-received"].forEach((function(e){return e(t)}))},be=function(){console.log("error"),pe("error")},fe=function(){console.log("close"),pe("pending"),setTimeout(je,3e3)},pe=function(e){ge["status-changed"].forEach((function(t){return t(e)}))},je=function(){var e=Object(j.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:return e.next=4,null===(t=Ae)||void 0===t?void 0:t.close();case 4:return e.next=6,new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx");case 6:return Ae=e.sent,e.next=9,pe("pending");case 9:return e.next=11,Ae.addEventListener("open",le);case 11:return e.next=13,Ae.addEventListener("close",fe);case 13:return e.next=15,Ae.addEventListener("message",de);case 15:return e.next=17,Ae.addEventListener("error",be);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge={"status-changed":[],"message-received":[]},he=function(){console.log("start"),je()},me=function(e,t){return ge[e].push(t),function(){ge[e]=ge[e].filter((function(e){return e!==t}))}},xe=function(e){var t;null===(t=Ae)||void 0===t||t.send(e)},Oe=function(){var e;ge["message-received"]=[],ge["status-changed"]=[],ue(),null===(e=Ae)||void 0===e||e.close()},ve=Object(v.c)({name:"dialogs",initialState:{status:"pending",message:[]},reducers:{responseMessage:{reducer:function(e,t){e.message=[].concat(Object(ce.a)(e.message),Object(ce.a)(t.payload))},prepare:function(e){return{payload:e.map((function(e){return e.id=Object(v.d)(),e}))}}},changeStatus:function(e,t){e.status=t.payload},cleanState:function(e){e.message=[]}}}),we=ve.reducer,ye=ve.actions.cleanState,Ce=null,Pe=function(e){return null===Ce&&(Ce=function(t){e(ve.actions.responseMessage(t))}),Ce},Se=null,ke=function(e){return null===Se&&(Se=function(t){e(ve.actions.changeStatus(t))}),Se},Be=Object(v.b)("dialogs/startListenMessage",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.dispatch,he(),me("message-received",Pe(r)),me("status-changed",ke(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ee=Object(v.b)("dialogs/stopListenMessage",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Oe();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Le=Object(v.c)({name:"users",initialState:{usersID:[],users:{},currentPage:1,totalUsersCount:0,usersPerPage:5,isLoading:!1,term:"",friend:""},reducers:{setCurrentPage:function(e,t){e.currentPage=t.payload},setTerm:function(e,t){e.term=t.payload},setFriend:function(e,t){e.friend=t.payload},setUsersOnPage:function(e,t){e.usersPerPage=t.payload},toggleLoading:function(e){e.isLoading=!e.isLoading},setUsers:function(e,t){t.payload.forEach((function(t){e.users[t.id]=t})),e.usersID=t.payload.map((function(e){return e.id}))},setTotalUsersCount:function(e,t){e.totalUsersCount=t.payload},followInProgress:function(e,t){e.users[t.payload.userId].pendingFollow=t.payload.isFetching},unfollow:function(e,t){e.users[t.payload].followed=!1},follow:function(e,t){e.users[t.payload].followed=!0}}}),Fe=Le.reducer,Qe=Le.actions,Ie=Qe.setCurrentPage,We=Qe.setTerm,Ue=Qe.setFriend,Re=Qe.setUsersOnPage,He=Qe.toggleLoading,Me=Qe.setUsers,Ne=Qe.setTotalUsersCount,Te=Qe.followInProgress,Je=Qe.unfollow,Ye=Qe.follow,qe=Object(v.b)("users/applyFilters",(function(e,t){var n=t.dispatch,r=(0,t.getState)().usersPage,a=r.term,s=r.friend,o=r.usersPerPage;a!==e.term&&n(We(e.term)),s!==e.friend&&n(Ue(e.friend)),o!==e.usersPerPage&&n(Re(+e.usersPerPage||1)),void 0!==e.currentPage?n(Ie(+e.currentPage||1)):a===e.term&&s===e.friend&&o===e.usersPerPage||n(Ie(1))})),Ke=Object(v.b)("users/getUsers",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r,a,s,o,i,c,A,u;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,a=n.getState,s=a().usersPage,o=s.term,i=s.friend,c=s.currentPage,A=s.usersPerPage,r(He()),e.next=5,x.getUsers(c,A,o,i);case 5:u=e.sent,r(He()),r(Me(u.items)),r(Ne(u.totalCount));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),De=(Object(v.b)("users/changePage",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r,a,s,o,i,c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,a=n.getState,s=a().usersPage,o=s.term,i=s.friend,r(He()),r(Ie(t.pageNumber)),e.next=6,x.getUsers(t.pageNumber,t.count,o,i);case 6:c=e.sent,r(He()),r(Me(c.items));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Object(v.b)("users/unfollowUser",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.dispatch)(Te({isFetching:!0,userId:t})),e.next=4,x.unfollowUser(t);case 4:0===e.sent.resultCode&&r(Je(t)),r(Te({isFetching:!1,userId:t}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),Ge=Object(v.b)("users/followUser",function(){var e=Object(j.a)(Object(p.a)().mark((function e(t,n){var r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.dispatch)(Te({isFetching:!0,userId:t})),e.next=4,x.followUser(t);case 4:0===e.sent.resultCode&&r(Ye(t)),r(Te({isFetching:!1,userId:t}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ve=function(e){return e.usersPage.usersPerPage},ze=function(e){return e.usersPage.currentPage},Ze=function(e){return e.usersPage.friend},_e=function(e){return e.usersPage.term},Xe=Object(v.a)({reducer:{profilePage:I,dialogsPage:we,usersPage:Fe,auth:y}}),$e=function(){return Object(d.b)()},et=Object(ne.a)("form")((function(e){var t,n=e.theme;return t={p:1,border:"1px solid theme.palette.text.secondary"},Object($.a)(t,n.breakpoints.up("md"),{display:"grid",gridTemplateColumns:"1fr 1fr",gridAutoRows:"auto",gap:10}),Object($.a)(t,"> *",Object($.a)({},n.breakpoints.down("md"),{":not(:last-child)":{marginBottom:"15px"}})),t})),tt=function(e,t){var n=[];e.forEach((function(e){n.push({type:"manual",name:te(e),message:e.split("(")[0]})})),n.forEach((function(e){var n=e.name,r=e.type,a=e.message;return t(n,{type:r,message:a})}))},nt=function(){var e,t,n,r,a,s,o,i,c,A,l,d,b,f,g,h,m,x,O,v,w,y,C,P,S=Object(ee.a)(),k=S.register,B=S.setError,E=S.handleSubmit,L=S.formState.errors,F=$e(),Q=K((function(e){return e.profilePage.submitButtonDisabled})),I=K((function(e){return e.auth.userId})),W=K((function(e){return e.profilePage.userProfile})),U=function(){var e=Object(j.a)(Object(p.a)().mark((function e(t){var n,r,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("number"===typeof I){e.next=2;break}return e.abrupt("return");case 2:return t.userId=I,e.next=5,F(q(t));case 5:n=e.sent,q.rejected.match(n)&&(a=null===(r=n.payload)||void 0===r?void 0:r.messages)&&tt(a,B);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(et,{onSubmit:E(U),children:[Object(_.jsxs)(re.a,{fullWidth:!0,children:[Object(_.jsx)(ae.a,{variant:"standard",htmlFor:"lookingForAJob",children:"Looking for a job"}),Object(_.jsxs)(se.a,Object(u.a)(Object(u.a)({},k("lookingForAJob",{deps:["lookingForAJobDescription"]})),{},{defaultValue:!(null===W||void 0===W||!W.lookingForAJob),inputProps:{name:"lookingForAJob",id:"lookingForAJob"},children:[Object(_.jsx)("option",{value:"true",children:"Yes"}),Object(_.jsx)("option",{value:"false",children:"No"})]}))]}),Object(_.jsx)(oe.a,Object(u.a)(Object(u.a)({size:"small"},k("lookingForAJobDescription",{required:!0})),{},{error:!!L.lookingForAJobDescription,defaultValue:(null===W||void 0===W?void 0:W.lookingForAJobDescription)||void 0,helperText:L.lookingForAJobDescription&&L.lookingForAJobDescription.message,fullWidth:!0,label:"Description of the job I'm looking for"})),Object(_.jsx)(oe.a,Object(u.a)(Object(u.a)({size:"small"},k("fullName")),{},{error:!!L.fullName,helperText:L.fullName&&L.fullName.message,defaultValue:(null===W||void 0===W?void 0:W.fullName)||void 0,fullWidth:!0,label:"My fullname"})),Object(_.jsx)(oe.a,Object(u.a)(Object(u.a)({size:"small"},k("aboutMe")),{},{error:!!L.aboutMe,helperText:L.aboutMe&&L.aboutMe.message,defaultValue:(null===W||void 0===W?void 0:W.aboutMe)||void 0,fullWidth:!0,label:"About me"})),Object(_.jsx)(oe.a,Object(u.a)(Object(u.a)({size:"small"},k("contacts.facebook")),{},{error:!(null===(e=L.contacts)||void 0===e||!e.facebook),helperText:(null===(t=L.contacts)||void 0===t?void 0:t.facebook)&&(null===(n=L.contacts)||void 0===n?void 0:n.facebook.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.facebook)||void 0,fullWidth:!0,label:"My profile in facebook"})),Object(_.jsx)(oe.a,Object(u.a)(Object(u.a)({size:"small"},k("contacts.github")),{},{error:!(null===(r=L.contacts)||void 0===r||!r.github),helperText:(null===(a=L.contacts)||void 0===a?void 0:a.github)&&(null===(s=L.contacts)||void 0===s?void 0:s.github.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.github)||void 0,fullWidth:!0,label:"My profile in github"})),Object(_.jsx)(oe.a,Object(u.a)(Object(u.a)({size:"small"},k("contacts.instagram")),{},{error:!(null===(o=L.contacts)||void 0===o||!o.instagram),helperText:(null===(i=L.contacts)||void 0===i?void 0:i.instagram)&&(null===(c=L.contacts)||void 0===c?void 0:c.instagram.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.instagram)||void 0,fullWidth:!0,label:"My profile in instagram"})),Object(_.jsx)(oe.a,Object(u.a)(Object(u.a)({size:"small"},k("contacts.mainLink")),{},{error:!(null===(A=L.contacts)||void 0===A||!A.mainLink),helperText:(null===(l=L.contacts)||void 0===l?void 0:l.mainLink)&&(null===(d=L.contacts)||void 0===d?void 0:d.mainLink.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.mainLink)||void 0,fullWidth:!0,label:"My profile in mainLink"})),Object(_.jsx)(oe.a,Object(u.a)(Object(u.a)({size:"small"},k("contacts.twitter")),{},{error:!(null===(b=L.contacts)||void 0===b||!b.twitter),helperText:(null===(f=L.contacts)||void 0===f?void 0:f.twitter)&&(null===(g=L.contacts)||void 0===g?void 0:g.twitter.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.twitter)||void 0,fullWidth:!0,label:"My profile in twitter"})),Object(_.jsx)(oe.a,Object(u.a)(Object(u.a)({size:"small"},k("contacts.vk")),{},{error:!(null===(h=L.contacts)||void 0===h||!h.vk),helperText:(null===(m=L.contacts)||void 0===m?void 0:m.vk)&&(null===(x=L.contacts)||void 0===x?void 0:x.vk.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.vk)||void 0,fullWidth:!0,label:"My profile in vk"})),Object(_.jsx)(oe.a,Object(u.a)(Object(u.a)({size:"small"},k("contacts.website")),{},{error:!(null===(O=L.contacts)||void 0===O||!O.website),helperText:(null===(v=L.contacts)||void 0===v?void 0:v.website)&&(null===(w=L.contacts)||void 0===w?void 0:w.website.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.website)||void 0,fullWidth:!0,label:"My website"})),Object(_.jsx)(oe.a,Object(u.a)(Object(u.a)({size:"small"},k("contacts.youtube")),{},{error:!(null===(y=L.contacts)||void 0===y||!y.youtube),helperText:(null===(C=L.contacts)||void 0===C?void 0:C.youtube)&&(null===(P=L.contacts)||void 0===P?void 0:P.youtube.message),defaultValue:(null===W||void 0===W?void 0:W.contacts.youtube)||void 0,fullWidth:!0,label:"My channel in youtube"})),Object(_.jsx)(ie.a,{fullWidth:!0,sx:{display:"block"},variant:"outlined",type:"submit",disabled:Q,children:"Submit"}),Object(_.jsx)(ie.a,{fullWidth:!0,sx:{display:"block"},onClick:function(){return F(M())},variant:"outlined",type:"submit",disabled:Q,children:"i don`t want to edit"})]})},rt=n(200),at=n(197),st=Object(ne.a)(rt.a)((function(e){var t=e.theme;return Object(u.a)(Object(u.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),ot=Object(ne.a)("span")((function(e){return{fontWeight:"bold",color:"gray",display:"inline-block",marginRight:e.theme.spacing(1)}})),it=function(e){var t=e.aboutMe,n=e.lookingForAJob,r=e.lookingForAJobDescription,a=e.fullName,s=e.contacts,o=e.isOwn,i=Object(d.b)();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(at.a,{container:!0,spacing:2,children:[Object(_.jsx)(at.a,{spacing:2,xs:12,item:!0,sm:6,children:Object(_.jsxs)(st,{children:[Object(_.jsx)(ot,{children:"About me -"}),Object(_.jsx)("span",{children:t})]})}),Object(_.jsx)(at.a,{spacing:2,xs:12,item:!0,sm:6,children:Object(_.jsxs)(st,{children:[Object(_.jsx)(ot,{children:"Looking for a job -"}),Object(_.jsx)("span",{children:n?"Yes":"No"})]})}),Object(_.jsx)(at.a,{spacing:2,xs:12,item:!0,sm:6,children:Object(_.jsxs)(st,{children:[Object(_.jsx)(ot,{children:"Looking for a job discription -"}),Object(_.jsx)("span",{children:r})]})}),Object(_.jsx)(at.a,{spacing:2,xs:12,item:!0,sm:6,children:Object(_.jsxs)(st,{children:[Object(_.jsx)(ot,{children:"Full name-"}),Object(_.jsx)("span",{children:a})]})}),Object.entries(s).map((function(e){return Object(_.jsx)(at.a,{spacing:2,item:!0,xs:12,sm:6,children:Object(_.jsx)(st,{children:Object(_.jsx)(ct,{title:e[0],value:e[1]})})})}))]}),o&&Object(_.jsx)(ie.a,{size:"large",sx:{mt:1},variant:"contained",type:"submit",onClick:function(){return i(M())},children:"Edit my details"})]})},ct=function(e){var t=e.title,n=e.value,r=t[0].toUpperCase()+t.slice(1,t.length);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(ot,{children:[r," -"]}),Object(_.jsx)("span",{children:n||"unknown"})]})},At=n(202),ut=n(203),lt=n(11),dt=n(201),bt=function(e){var t=e.isOwn,n=Object(d.b)(),r=K((function(e){return e.profilePage.status})),a=K((function(e){return e.profilePage.pendingStatus})),o=Object(s.useState)(r||""),i=Object(lt.a)(o,2),c=i[0],A=i[1];Object(s.useEffect)((function(){c!==r&&A(r||"")}),[r]);var u=function(){r!==c&&n(J(c))};return Object(_.jsxs)(_.Fragment,{children:[a&&Object(_.jsx)(dt.a,{sx:{mb:2}}),Object(_.jsx)(oe.a,{disabled:!t||a,onBlur:function(){return u()},value:c,onChange:function(e){A(e.target.value)},fullWidth:!0,label:"Status",onKeyDown:function(e){13===e.keyCode&&(u(),e.target.blur())}})]})},ft=Object(ne.a)("input")({display:"none"}),pt=Object(ne.a)("div")((function(e){var t,n=e.theme;return t={border:"2px solid white",height:"250px"},Object($.a)(t,n.breakpoints.up("xs"),{width:"100%"}),Object($.a)(t,n.breakpoints.up("sm"),{width:"250px",flex:"0 0 250px"}),Object($.a)(t,"marginRight",n.spacing(1)),Object($.a)(t,"borderRadius",n.spacing(1)),Object($.a)(t,"position","relative"),t})),jt=function(e){var t=e.src,n=e.isOwn,r=K((function(e){var t;return null===(t=e.profilePage.userProfile)||void 0===t?void 0:t.fullName})),a=Object(d.b)();return Object(_.jsxs)(At.a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},bgcolor:"#bab0b0",overflow:"hidden",boxShadow:1,fontWeight:"bold",p:2},children:[Object(_.jsx)(pt,{children:Object(_.jsx)(At.a,{component:"img",sx:{position:"absolute",objectFit:"cover",top:0,left:0,width:"100%",height:"100%"},alt:"It's my own picture",src:t})}),Object(_.jsxs)(At.a,{sx:{flex:"1 1 auto"},children:[Object(_.jsx)(ut.a,{variant:"h5",gutterBottom:!0,component:"div",children:r}),!n||Object(_.jsxs)("label",{htmlFor:"change-photo",children:[Object(_.jsx)(ft,{onChange:function(e){var t;null!==(t=e.target.files)&&void 0!==t&&t.length&&a(Y(e.target.files[0]))},id:"change-photo",type:"file",accept:"image/*"}),Object(_.jsx)(ie.a,{size:"large",sx:{borderRadius:1,mb:2},variant:"contained",component:"span",children:"Change photo"})]}),Object(_.jsx)(bt,{isOwn:n})]})]})},gt=n.p+"static/media/1024px-User-avatar.svg.6ca1b977.png",ht=function(e){var t=K((function(e){return e.profilePage.editMode})),n=K((function(e){return e.profilePage.userProfile})),r=D();return Object(s.useEffect)((function(){return function(){r(M(!1))}}),[]),n?Object(_.jsxs)("div",{className:V.a.infoWrapper,children:[Object(_.jsx)(jt,{src:n.photos.large||n.photos.small||gt,isOwn:e.isOwn}),Object(_.jsx)(At.a,{sx:{bgcolor:"#bab0b0",width:"100%",boxShadow:1,mt:1},className:V.a.addPost,children:Object(_.jsxs)(At.a,{sx:{padding:function(e){return e.spacing(1)},pt:2,textAlign:"end"},children:[t||Object(_.jsx)(it,Object(u.a)({isOwn:e.isOwn},n)),e.isOwn&&t&&Object(_.jsx)(nt,{})]})})]}):Object(_.jsx)(X,{loading:!0})};var mt=function(){var e=K((function(e){return e.auth.userId})),t=Object(f.i)().userId,n=Object(d.b)();return function(e){if("number"!==typeof e)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430")}(e),Object(s.useEffect)((function(){n(T(Number(t))),n(N(Number(t)))}),[t]),Object(_.jsx)(ht,{isOwn:e===Number(t)})},xt=function(){var e=K((function(e){return e.auth.userId}));return Object(_.jsx)(f.a,{to:"/profile/"+e,replace:!0})},Ot=n(67),vt=n(198),wt=Object(Ot.a)("header")({width:"100%",height:"60px",padding:"5px 0",position:"fixed",top:0,left:0,zIndex:50,borderBottom:"1px solid #B2B2B2FF",backgroundColor:"#fff"}),yt=function(){var e=K((function(e){return e.auth.photos}));return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(wt,{children:Object(_.jsx)(At.a,{sx:{padding:{sm:"0 10px",xs:"0 5px"},maxWidth:{xs:"100%",sm:600,md:800,lg:1e3,xl:1200},height:"100%",margin:"0 auto"},children:Object(_.jsxs)(At.a,{sx:{padding:"0 10px",display:"flex",height:"100%",borderLeft:"1px solid #B2B2B2FF",borderRight:"1px solid #B2B2B2FF",alignItems:"center"},children:[Object(_.jsxs)(At.a,{sx:{display:"flex"},children:[Object(_.jsx)(ie.a,{sx:{marginRight:{xs:"5px",sm:"10px"}},variant:"contained",size:"small",href:"/profile",children:"Profile"}),Object(_.jsx)(ie.a,{sx:{marginRight:{xs:"5px",sm:"10px"}},variant:"contained",size:"small",href:"/dialogs",children:"Dialogs"}),Object(_.jsx)(ie.a,{variant:"contained",size:"small",href:"/users",children:"Users"})]}),Object(_.jsx)(At.a,{sx:{flex:"1 1 auto",display:"flex",justifyContent:"flex-end"},children:Object(_.jsx)(vt.a,{src:(null===e||void 0===e?void 0:e.small)||(null===e||void 0===e?void 0:e.large)||gt})})]})})})})},Ct=n(100),Pt=n.n(Ct),St=function(e){var t,n=e.onSubmit,r=Object(ee.a)(),a=r.register,s=r.handleSubmit,o=r.formState.errors,i=K((function(e){return e.auth.urlCaptcha}));return Object(_.jsxs)("form",{onSubmit:s(n),children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("input",Object(u.a)(Object(u.a)({},a("login",{maxLength:{value:25,message:"\u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0431\u0443\u043a\u0432"}})),{},{placeholder:"login",name:"login"})),Object(_.jsx)("span",{children:null===o||void 0===o||null===(t=o.login)||void 0===t?void 0:t.message})]}),Object(_.jsx)("div",{children:Object(_.jsx)("input",Object(u.a)(Object(u.a)({},a("password")),{},{placeholder:"password",name:"password"}))}),Object(_.jsxs)("div",{children:[Object(_.jsx)("input",Object(u.a)(Object(u.a)({type:"checkbox"},a("rememberMe")),{},{name:"rememberMe"})),"remember me"]}),!!i&&Object(_.jsx)("img",{src:i,alt:""}),!!i&&Object(_.jsx)("input",Object(u.a)({type:"text"},a("captcha"))),Object(_.jsx)("div",{children:Object(_.jsx)("button",{children:"submit"})})]})},kt=function(){var e=Object(d.b)(),t=Object(f.h)();return K((function(e){return e.auth.isLog}))&&t("/profile",{replace:!0}),Object(_.jsx)("div",{className:Pt.a.loginWrapper,children:Object(_.jsx)(St,{onSubmit:function(t){e(L({email:t.login,password:t.password,rememberMe:t.rememberMe,captcha:t.captcha}))}})})},Bt=n(204),Et=function(e){var t=e.item;return Object(_.jsxs)(At.a,{sx:{display:"flex",":not(:first-child)":{marginTop:"15px"}},children:[Object(_.jsx)(At.a,{sx:{flex:"0 1 auto"},children:Object(_.jsx)(vt.a,{sx:{marginRight:"5px"},sizes:"small",src:t.photo||gt})}),Object(_.jsxs)(At.a,{children:[Object(_.jsx)(Bt.a,{sx:{display:"block",marginBottom:"5px"},href:"/profile/".concat(t.userId),children:t.userName}),Object(_.jsx)(At.a,{sx:{},children:t.message})]})]})},Lt=Object(s.memo)(Et),Ft=function(e){e.message&&xe(e.message)},Qt=function(){var e=K((function(e){return e.dialogsPage.message})),t=K((function(e){return e.dialogsPage.status})),n=Object(s.useState)(!1),r=Object(lt.a)(n,2),a=r[0],o=r[1],i=Object(s.useRef)(0),c=Object(s.useRef)(null),A=Object(d.b)();return Object(s.useEffect)((function(){return A(Be()),function(){A(Ee()),A(ye())}}),[]),Object(s.useEffect)((function(){var e,t=function(e){i.current>e.target.scrollTop&&o(!0),i.current=e.target.scrollTop};return null===(e=c.current)||void 0===e||e.addEventListener("scroll",t),function(){var e;null===(e=c.current)||void 0===e||e.removeEventListener("scroll",t)}}),[]),Object(s.useEffect)((function(){var e=c.current;!a&&e&&e.scrollHeight!==e.offsetHeight+e.scrollTop&&(i.current=e.scrollTop,e.scrollBy({top:e.scrollHeight-e.offsetHeight-e.scrollTop,left:100,behavior:"smooth"}))}),[e]),Object(_.jsxs)(At.a,{sx:{display:"flex",flexDirection:"column",minHeight:"calc(100vh - 70px)","@media (min-height: 500px)":{maxHeight:"calc(100vh - 70px)"},backgroundColor:"#ffffff",padding:{sm:"0 10px"}},children:[Object(_.jsxs)(At.a,{ref:c,sx:{flex:"1 1 auto",overflowY:"auto","@media (max-height: 500px)":{flexGrow:0,flexShrink:1,flexBasis:"339px"},padding:"10px 0",display:"flex",flexDirection:"column"},children:[Object(_.jsx)(At.a,{sx:{flex:"1 1 auto"}}),e.map((function(e){return Object(_.jsx)(Lt,{item:e},e.id)}))]}),Object(_.jsx)(It,{ready:!("ready"===t),submitForm:Ft})]})},It=function(e){var t=e.submitForm,n=e.ready,r=Object(ee.a)(),a=r.handleSubmit,s=r.register,o=r.reset,i=r.formState.errors;return Object(_.jsxs)(At.a,{sx:{flex:"0 0 70px",backgroundColor:"#706f6f",display:"flex",alignItems:"center",margin:"0 -10px"},component:"form",onSubmit:a((function(e){""!==e.message&&(t(e),o())})),children:[Object(_.jsx)(oe.a,Object(u.a)(Object(u.a)({size:"small",error:!!i.message,helperText:!!i.message&&i.message.message,sx:{flex:"1 1 auto",marginLeft:"10px"},placeholder:"\u0412\u0432\u0435\u0434\u0438 \u0441\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"},s("message",{maxLength:{value:50,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u043c\u0435\u043d\u044c\u0448\u0435 \u0431\u0443\u043a\u0432"}})),{},{className:V.a.textarea})),Object(_.jsx)(ie.a,{type:"submit",sx:{margin:"0 10px"},variant:"contained",disabled:n,children:"send"})]})},Wt=function(e){var t=e.id,n=Object(d.b)(),r=K((function(e){return e.usersPage.users[t]})),a=r.name,s=r.status,o=r.followed,i=r.photos,c=i.small,A=i.large,u=r.pendingFollow,l=o?"Unfollow":"Follow";return Object(_.jsxs)(At.a,{sx:{display:"flex",flexDirection:"column",alignItems:"start",bgcolor:"background.paper",":hover":{boxShadow:10},"@media (any-hover: hover)":{":hover .userConCont":{visibility:"visible",opacity:1}},"@media (any-hover: none)":{".userConCont":{visibility:"visible",opacity:1}},borderRadius:3,position:"relative"},children:[Object(_.jsx)(At.a,{sx:{position:"relative",width:"100%",height:"180px"},children:Object(_.jsx)(At.a,{component:"img",src:A||c||gt,sx:{position:"absolute",width:"100%",height:"100%",objectFit:"cover",top:0,left:0,borderRadius:3}})}),Object(_.jsxs)(At.a,{className:"userConCont",sx:{position:"absolute",top:0,left:0,display:"flex",flexDirection:"column",padding:1,visibility:"hidden",opacity:0,bgcolor:"rgba(0,0,0,0.7)",width:"100%",height:"100%",boxSizing:"border-box",borderRadius:3,transition:"opacity 0.3s ease 0s"},children:[Object(_.jsx)(Bt.a,{sx:{flexGrow:s?0:1},href:"/profile/"+t,children:Object(_.jsx)(ut.a,{sx:{color:"common.white",marginBottom:1,lineHeight:1.1},variant:"body2",children:a})}),s&&Object(_.jsx)(ut.a,{sx:{color:"common.white",flexGrow:1,overflow:"hidden",lineHeight:1.1},variant:"body2",children:s}),Object(_.jsx)(ie.a,{onClick:function(){return function(e){n((o?De:Ge)(e))}(t)},sx:{opacity:1,justifySelf:"end",pt:1},variant:"contained",size:"small",disabled:u,children:l})]})]})},Ut=n(192),Rt=function(){var e=K((function(e){return e.usersPage.totalUsersCount})),t=K(ze),n=K(Ve),r=D();return Object(_.jsx)(Ut.a,{sx:{mt:1,mb:1,"> ul":{justifyContent:"center"}},siblingCount:0,boundaryCount:1,page:t,count:Math.ceil(e/n),variant:"outlined",onChange:function(e,t){r(Ie(t))},shape:"rounded"})},Ht=Object(s.memo)(Rt),Mt=Object(ne.a)("form")((function(e){var t,n=e.theme;return t={flex:"1 1 auto",display:"flex",flexWrap:"wrap",alignItems:"center"},Object($.a)(t,n.breakpoints.up("sm"),{flexWrap:"noWrap"}),Object($.a)(t,n.breakpoints.down("sm"),{height:"120px"}),t})),Nt=function(){var e=K(Ve),t=K(ze),n=K(Ze),r=K(_e),a=K((function(e){return e.usersPage.isLoading})),o=Object(ee.a)(),i=o.handleSubmit,c=o.formState.errors,A=o.register,l=o.reset,d=$e(),f=Object(b.c)(),p=Object(lt.a)(f,2),j=p[0],g=p[1];return Object(s.useEffect)((function(){var a={};!function(e,t){e.forEach((function(e,n){t[n]=e}))}(j,a);var s=t,o=n,i=r,c=e,A=!1;a.currentPage&&Number(a.currentPage)!==s&&Number(a.currentPage)&&(A=!0,s=Number(a.currentPage)),a.term&&a.term!==i&&(A=!0,i=a.term),a.friend&&a.friend!==o&&(A=!0,o=a.friend),a.usersPerPage&&Number(a.usersPerPage)!==c&&Number(a.usersPerPage)&&(A=!0,c=Number(a.usersPerPage)),A&&d(qe({term:i,friend:o,currentPage:s,usersPerPage:c}))}),[]),Object(s.useEffect)((function(){var a=new URLSearchParams;r&&a.append("term",r),n&&a.append("friend",n),t&&a.append("currentPage",String(t)),e&&a.append("usersPerPage",String(e)),g(a,{replace:!0}),d(Ke()),l({friend:n,usersPerPage:e,term:r})}),[t,e,r,n]),Object(_.jsx)(At.a,{sx:{display:"flex",pt:1,pb:1},children:a?Object(_.jsx)(dt.a,{sx:{flex:"1 1 auto"}}):Object(_.jsxs)(Mt,{onSubmit:i((function(e){d(qe(e))})),children:[Object(_.jsxs)(se.a,Object(u.a)(Object(u.a)({sx:{mr:1,ml:1,flex:{sm:"0 0 80px",xs:"1 1 auto"}}},A("friend",{value:n})),{},{children:[Object(_.jsx)("option",{value:"",children:"All"}),Object(_.jsx)("option",{value:"true",children:"Friend"}),Object(_.jsx)("option",{value:"false",children:"No friend"})]})),Object(_.jsx)(se.a,Object(u.a)(Object(u.a)({sx:{mr:1,flex:{sm:"0 0 50px",xs:"1 1 auto"},width:"50px"}},A("usersPerPage",{value:e})),{},{children:[5,10,15,20,25].map((function(e){return Object(_.jsx)("option",{value:e,children:e},e)}))})),Object(_.jsx)(oe.a,Object(u.a)({error:!!c.term,helperText:c.term&&c.term.message,sx:{mr:1,flex:"1 1 auto"},fullWidth:!0,label:"search",id:"search",size:"small"},A("term",{maxLength:{value:15,message:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0431\u0443\u043a\u0432"}}))),Object(_.jsx)(ie.a,{sx:{borderRadius:1,pr:5,pl:5,height:{sm:"100%"}},size:"small",variant:"contained",type:"submit",children:"Submit"})]})})},Tt=Object(s.memo)(Nt),Jt=function(){var e=K((function(e){return e.usersPage.usersID}));return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Tt,{}),Object(_.jsx)(At.a,{sx:{display:"grid",gridTemplate:"1fr/repeat(auto-fill, minmax(150px, 1fr))",gap:2},children:e.map((function(e){return Object(_.jsx)(Wt,{id:e},e)}))}),Object(_.jsx)(Ht,{})]})},Yt=function(){var e=Object(f.g)();return K((function(e){return e.auth.isLog}))||"/login"===e.pathname?Object(_.jsx)(At.a,{component:"main",sx:{flex:"1 1 auto",paddingTop:"70px"},children:Object(_.jsx)(At.a,{sx:{margin:"0 auto",maxWidth:{xs:"100%",sm:600,md:800,lg:1e3,xl:1200},padding:{sm:"0 10px",xs:"0 5px"},minHeight:"calc(100vh - 70px)"},children:Object(_.jsx)(f.b,{})})}):Object(_.jsx)(f.a,{to:"/login",replace:!0})},qt=n(101),Kt=n(199),Dt=["href"],Gt=o.a.forwardRef((function(e,t){var n=e.href,r=Object(l.a)(e,Dt);return Object(_.jsx)(b.b,Object(u.a)({"data-testid":"custom-link",ref:t,to:n},r))})),Vt=Object(qt.a)({components:{MuiLink:{defaultProps:{component:Gt}},MuiButtonBase:{defaultProps:{LinkComponent:Gt}}}}),zt=function(){var e=K((function(e){return e.auth.isLog})),t=Object(d.b)();return Object(s.useEffect)((function(){t(B())}),[]),null===e?Object(_.jsx)(X,{loading:!0}):Object(_.jsx)(Kt.a,{theme:Vt,children:Object(_.jsxs)(b.a,{children:[Object(_.jsx)(yt,{}),Object(_.jsx)(f.e,{children:Object(_.jsxs)(f.c,{path:"/",element:Object(_.jsx)(Yt,{}),children:[Object(_.jsx)(f.c,{path:"dialogs",element:Object(_.jsx)(Qt,{})}),Object(_.jsx)(f.c,{path:"profile/:userId",element:Object(_.jsx)(mt,{})}),Object(_.jsx)(f.c,{path:"profile",element:Object(_.jsx)(xt,{})}),Object(_.jsx)(f.c,{path:"users",element:Object(_.jsx)(Jt,{})}),Object(_.jsx)(f.c,{path:"login",element:Object(_.jsx)(kt,{})}),Object(_.jsx)(f.c,{path:"*",element:Object(_.jsx)("div",{children:"404 not found"})}),Object(_.jsx)(f.c,{index:!0,element:Object(_.jsx)(xt,{})})]})})]})})};A.a.createRoot(document.getElementById("root")).render(Object(_.jsx)(d.a,{store:Xe,children:Object(_.jsx)(zt,{})})),i()},57:function(e,t,n){e.exports={profile__banner:"profile_profile__banner__2fPc_",profile:"profile_profile__2oUyy",profile__post:"profile_profile__post__2cPhc",infoWrapper:"profile_infoWrapper__QPz2C",infoText:"profile_infoText___hl0a",addPost:"profile_addPost__1_EtF",add:"profile_add__12cU3",texarea:"profile_texarea__2XP2v"}},75:function(e,t,n){e.exports={users__container:"users_users__container__uY6zT",userWrapper:"users_userWrapper__34afh",userLeft:"users_userLeft__1iX1p",userImage:"users_userImage__337Zj",userButton:"users_userButton__2T06l",userRight:"users_userRight__342uH",userRL:"users_userRL__G1l9p",userRR:"users_userRR__1npk5",userName:"users_userName__3_Avc",activeCurrentPagination:"users_activeCurrentPagination__2RWbg",loadingContainer:"users_loadingContainer__3QPAo"}}},[[145,1,2]]]);
//# sourceMappingURL=main.f80d568c.chunk.js.map